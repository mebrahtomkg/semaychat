(()=>{"use strict";var e={419:function(e,t,r){var n,o,i,a,l,c,u,s,f,d,h,p,m,y,g,b,v,w,x,j,C,P,k,S,O,I,E,A,M,N,Z=r(893),L=r(745),T=r(294),D=function(e,t){return[e,t].filter(function(e){return!!e}).join(" ")||"?"},U=function(e,t){return[e?e[0]:"",t?t[0]:""].filter(function(e){return!!e}).join("").toUpperCase()||"?"},B=function(e){var t=new Date(e),r=t.getHours(),n=t.getMinutes(),o=r>=12?"PM":"AM";return r%=12,r=0===r?12:r,n=n<10?"0".concat(n):n,"".concat(r,":").concat(n," ").concat(o)},F=function(e){var t=B(e),r=new Date(e),n=r.getDate(),o=r.getMonth()+1,i=r.getFullYear();return"".concat(n,"/").concat(o,"/").concat(i," at ").concat(t)},R=r(329),z=r(661),$=R.ZP.div.withConfig({displayName:"HomePage"})(["position:relative;height:100vh;overflow:hidden;background-color:",";",""],function(e){return e.theme.backgroundColors.main},function(e){return e.$isLargeScreen?(0,R.iv)(["max-width:19rem;min-width:19rem;"]):(0,R.iv)(["width:100%;"])}),W=R.ZP.div.withConfig({displayName:"HeaderContainer"})(["height:3.5rem;display:flex;justify-content:center;align-items:center;background-color:inherit;border-bottom:1px solid;border-color:#3c576e;"]),_=R.ZP.div.withConfig({displayName:"SearchContainer"})(["height:2.5rem;padding-left:1rem;display:flex;justify-content:space-between;align-items:center;border-radius:25px;background-color:",";",""],function(e){return e.theme.backgroundColors.textInput},function(e){return!e.$isLargeScreen&&(0,R.iv)(["margin-left:4rem;"])}),V=R.ZP.div.withConfig({displayName:"UsersContainer"})(["height:100vh;padding-top:1rem;padding-bottom:6rem;overflow-y:scroll;overflow-x:hidden;&::-webkit-scrollbar{width:4px;background-color:",";}&::-webkit-scrollbar-thumb{background-color:",";}"],function(e){return e.theme.backgroundColors.main},function(e){return e.theme.backgroundColors.bright}),H=r(722);function G(e,t,r,n,o,i,a){try{var l=e[i](a),c=l.value}catch(e){r(e);return}l.done?t(c):Promise.resolve(c).then(n,o)}let X=function(){var e,t,r=tR(function(e){return e.account});if(!r)throw Error("Invalid account!");var n=tR(function(e){return e.profilePhotos}),o=r.firstName,i=r.lastName,a=(0,T.useMemo)(function(){return D(o,i)},[o,i]),l=(0,T.useMemo)(function(){return U(o,i)},[o,i]),c=(0,T.useMemo)(function(){var e,t=null==(e=n[0])?void 0:e.id;return t?"/profile-photos/".concat(t,"/file"):null},[n]),u=el().post,s=(0,T.useCallback)(function(){var e;return(e=function(){var e,t,r;return function(e,t){var r,n,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(c){var u=[l,c];if(r)throw TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(i=0)),i;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,n=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}}(this,function(n){switch(n.label){case 0:return[4,u("/auth/logout",{})];case 1:return t=(e=n.sent()).success,r=e.message,t?location="".concat(location.origin,"/login"):console.error(r),[2]}})},function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){G(i,n,o,a,l,"next",e)}function l(e){G(i,n,o,a,l,"throw",e)}a(void 0)})})()},[u]);return e=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n})}return e}({},r),t=t={fullName:a,nameInitials:l,photoUrl:c,logout:s},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e};function q(e,t,r,n,o,i,a){try{var l=e[i](a),c=l.value}catch(e){r(e);return}l.done?t(c):Promise.resolve(c).then(n,o)}function Y(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function K(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n})}return e}function J(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}let Q=function(e,t){var r;return(r=function(){var r,n,o,i,a,l,c,u,s;return function(e,t){var r,n,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(c){var u=[l,c];if(r)throw TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(i=0)),i;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,n=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}}(this,function(f){switch(f.label){case 0:if(n=(r=K({method:"GET",responseType:"json",headers:{}},t||{})).method,o=r.body,i=r.responseType,a=r.signal,l=r.headers,!["GET","POST","PUT","DELETE"].includes(n.toUpperCase()))throw Error("Invalid or unsupported method: ".concat(n));if(!["json","blob","text"].includes(i))throw Error("Invalid responseType: ".concat(i));c={method:n.toUpperCase(),credentials:"include",headers:l},o&&["POST","PUT"].includes(n.toUpperCase())&&(c.body=Y(o,FormData)?o:JSON.stringify(o),Y(o,FormData)||(c.headers=J(K({},l),{"Content-Type":"application/json"}))),a&&(c.signal=a),f.label=1;case 1:return f.trys.push([1,9,,10]),[4,fetch(e,c)];case 2:if(s=(u=f.sent()).status,!(!u.ok||"json"===i))return[3,4];return[4,u.json()];case 3:return[2,J(K({},f.sent()),{success:u.ok,status:s})];case 4:if("blob"!==i)return[3,6];return[4,u.blob()];case 5:case 7:return[2,{success:!0,data:f.sent(),status:s}];case 6:if("text"!==i)return[3,8];return[4,u.text()];case 8:throw Error("Unhandled responseType: ".concat(i));case 9:return[2,{success:!1,data:void 0,message:f.sent().message||"Something went wrong"}];case 10:return[2]}})},function(){var e=this,t=arguments;return new Promise(function(n,o){var i=r.apply(e,t);function a(e){q(i,n,o,a,l,"next",e)}function l(e){q(i,n,o,a,l,"throw",e)}a(void 0)})})()};var ee=window.API_URL;function et(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function er(e,t,r,n,o,i,a){try{var l=e[i](a),c=l.value}catch(e){r(e);return}l.done?t(c):Promise.resolve(c).then(n,o)}function en(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){er(i,n,o,a,l,"next",e)}function l(e){er(i,n,o,a,l,"throw",e)}a(void 0)})}}function eo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n})}return e}function ei(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}function ea(e,t){var r,n,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(c){var u=[l,c];if(r)throw TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(i=0)),i;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,n=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}}let el=function(){var e,t=(e=(0,T.useState)(!1),function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(i.push(r.value),i.length!==t);a=!0);}catch(e){l=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw n}}return i}}(e,2)||function(e,t){if(e){if("string"==typeof e)return et(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return et(e,t)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=t[0],n=t[1],o=(0,T.useRef)(null),i=(0,T.useCallback)(function(){o.current&&o.current.abort(),o.current=null},[]),a=(0,T.useCallback)(function(e,t){return en(function(){var r,a,l,c,u,s;return ea(this,function(f){switch(f.label){case 0:a=(r=eo({method:"GET",headers:{},responseType:"json",autoCancel:!0},t||{})).method,l=r.body,c=r.headers,u=r.responseType,s=r.autoCancel,f.label=1;case 1:return f.trys.push([1,3,4,5]),s&&i(),n(!0),o.current=new AbortController,[4,Q("".concat(ee).concat(e),{method:a,body:l,headers:c,responseType:u,signal:o.current.signal})];case 2:return[2,f.sent()];case 3:return console.error(f.sent()),[2,{success:!1,data:null}];case 4:return o.current=null,n(!1),[7];case 5:return[2]}})})()},[i]);(0,T.useEffect)(function(){return i},[i]);var l=(0,T.useMemo)(function(){return{get:function(e,t){return en(function(){return ea(this,function(r){switch(r.label){case 0:return[4,a(e,ei(eo({},t),{method:"GET"}))];case 1:return[2,r.sent()]}})})()},post:function(e,t,r){return en(function(){return ea(this,function(n){switch(n.label){case 0:return[4,a(e,ei(eo({},r),{body:t,method:"POST"}))];case 1:return[2,n.sent()]}})})()},put:function(e,t,r){return en(function(){return ea(this,function(n){switch(n.label){case 0:return[4,a(e,ei(eo({},r),{body:t,method:"PUT"}))];case 1:return[2,n.sent()]}})})()},del:function(e,t){return en(function(){return ea(this,function(r){switch(r.label){case 0:return[4,a(e,ei(eo({},t),{method:"DELETE"}))];case 1:return[2,r.sent()]}})})()}}},[a]);return eo({isLoading:r,request:a},l)};var ec=(0,T.createContext)(null);let eu=function(){var e=(0,T.useContext)(ec);if(!e)throw Error("Invalid app context!");return e};var es=r(672),ef=(0,es.oM)({name:"account",initialState:null,reducers:{accountFetched:function(e,t){return t.payload},accountUpdated:function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n})}return e}({},e,t.payload)}}}),ed=ef.actions,eh=ed.accountFetched,ep=ed.accountUpdated;let em=ef.reducer;function ey(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var eg=(0,es.oM)({name:"profilePhotos",initialState:[],reducers:{profilePhotosFetched:function(e,t){return t.payload},profilePhotoAdded:function(e,t){return[t.payload].concat(function(e){if(Array.isArray(e))return ey(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ey(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ey(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())},profilePhotoDeleted:function(e,t){return e.filter(function(e){return e.id!==t.payload})}}}),eb=eg.actions,ev=eb.profilePhotosFetched,ew=eb.profilePhotoAdded,ex=eb.profilePhotoDeleted;let ej=eg.reducer;function eC(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function eP(e,t,r,n,o,i,a){try{var l=e[i](a),c=l.value}catch(e){r(e);return}l.done?t(c):Promise.resolve(c).then(n,o)}let ek=function(){var e,t=tR(function(e){return e.account}),r=t&&"number"==typeof t.id,n=(e=(0,T.useState)(!1),function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(i.push(r.value),i.length!==t);a=!0);}catch(e){l=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw n}}return i}}(e,2)||function(e,t){if(e){if("string"==typeof e)return eC(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eC(e,t)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[0],i=n[1],a=(0,T.useRef)(0),l=tF(),c=el().get;return(0,T.useEffect)(function(){var e;r||o||(e=function(){var e,t,r,n;return function(e,t){var r,n,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(c){var u=[l,c];if(r)throw TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(i=0)),i;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,n=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}}(this,function(o){switch(o.label){case 0:return[4,c("/users/me")];case 1:return t=(e=o.sent()).success,r=e.data,n=e.message,401===e.status&&i(!0),t?(l(eh(r)),r.profilePhoto&&l(ew(r.profilePhoto)),i(!0)):(console.error(n),a.current>2&&i(!0)),a.current++,[2]}})},function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){eP(i,n,o,a,l,"next",e)}function l(e){eP(i,n,o,a,l,"throw",e)}a(void 0)})})()},[l,c,o,r]),{isLoading:!o,isLoggedIn:r}};function eS(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function eO(e){return function(e){if(Array.isArray(e))return eS(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return eS(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eS(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var eI=(0,es.oM)({name:"users",initialState:[],reducers:{manyUsersAdded:function(e,t){var r=t.payload;return eO(e.filter(function(e){return!r.some(function(t){return t.id===e.id})})).concat(eO(r))},userAdded:function(e,t){var r=t.payload;return eO(e.filter(function(e){return e.id!==r.id})).concat([r])}}});let eE=eI.reducer;var eA=eI.actions,eM=eA.manyUsersAdded,eN=eA.userAdded;function eZ(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var eL=(0,es.oM)({name:"blockedUsers",initialState:[],reducers:{blockedUsersFetched:function(e,t){return t.payload},blockedUserAdded:function(e,t){return((function(e){if(Array.isArray(e))return eZ(e)})(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return eZ(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eZ(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).concat([t.payload])},blockedUserDeleted:function(e,t){return e.filter(function(e){return e!==t.payload})}}});let eT=eL.reducer;var eD=eL.actions,eU=eD.blockedUsersFetched,eB=eD.blockedUserAdded,eF=eD.blockedUserDeleted;function eR(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function ez(e,t,r,n,o,i,a){try{var l=e[i](a),c=l.value}catch(e){r(e);return}l.done?t(c):Promise.resolve(c).then(n,o)}let e$=function(){var e,t=tR(function(e){return e.account}),r=null==t?void 0:t.id,n=(e=(0,T.useState)(!1),function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(i.push(r.value),i.length!==t);a=!0);}catch(e){l=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw n}}return i}}(e,2)||function(e,t){if(e){if("string"==typeof e)return eR(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eR(e,t)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[0],i=n[1],a=tF(),l=el().get;(0,T.useEffect)(function(){var e;r&&!o&&(e=function(){var e,t,r,n,o;return function(e,t){var r,n,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(c){var u=[l,c];if(r)throw TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(i=0)),i;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,n=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}}(this,function(c){switch(c.label){case 0:return[4,l("/blocked-users")];case 1:return t=(e=c.sent()).success,r=e.data,n=e.message,o=e.status,t?(a(eU(r.map(function(e){return e.id}))),a(eM(r))):console.error(n),(t||o&&o>=400)&&i(!0),[2]}})},function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){ez(i,n,o,a,l,"next",e)}function l(e){ez(i,n,o,a,l,"throw",e)}a(void 0)})})()},[a,l,o,r])};function eW(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function e_(e){return function(e){if(Array.isArray(e))return eW(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return eW(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eW(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var eV=(0,es.oM)({name:"messages",initialState:[],reducers:{manyMessagesAdded:function(e,t){var r=t.payload;return e_(e.filter(function(e){return!r.some(function(t){return t.id===e.id})})).concat(e_(r))},messageAdded:function(e,t){var r=t.payload;return e_(e.filter(function(e){return e.id!==r.id})).concat([r])},messageUpdated:function(e,t){return e.map(function(e){return e.id===t.payload.id?t.payload:e})},messageDeleted:function(e,t){return e.filter(function(e){return e.id!==t.payload})}}});let eH=eV.reducer;var eG=eV.actions,eX=eG.manyMessagesAdded,eq=eG.messageAdded,eY=eG.messageUpdated,eK=eG.messageDeleted;function eJ(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function eQ(e,t,r,n,o,i,a){try{var l=e[i](a),c=l.value}catch(e){r(e);return}l.done?t(c):Promise.resolve(c).then(n,o)}let e0=function(){var e,t=tR(function(e){return e.account}),r=null==t?void 0:t.id,n=(e=(0,T.useState)(!1),function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(i.push(r.value),i.length!==t);a=!0);}catch(e){l=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw n}}return i}}(e,2)||function(e,t){if(e){if("string"==typeof e)return eJ(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eJ(e,t)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[0],i=n[1],a=tF(),l=el().get;(0,T.useEffect)(function(){var e;r&&!o&&(e=function(){var e,t,r,n,o,c,u,s,f,d,h,p,m;return function(e,t){var r,n,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(c){var u=[l,c];if(r)throw TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(i=0)),i;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,n=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}}(this,function(y){switch(y.label){case 0:return[4,l("/chats")];case 1:if(t=(e=y.sent()).success,r=e.data,n=e.message,o=e.status,t){c=[],u=[],s=!0,f=!1,d=void 0;try{for(h=r[Symbol.iterator]();!(s=(p=h.next()).done);s=!0)m=p.value,c.push(m.partner),u.push(m.lastMessage)}catch(e){f=!0,d=e}finally{try{s||null==h.return||h.return()}finally{if(f)throw d}}a(eM(c)),a(eX(u))}else console.error(n);return(t||o&&o>=400)&&i(!0),[2]}})},function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){eQ(i,n,o,a,l,"next",e)}function l(e){eQ(i,n,o,a,l,"throw",e)}a(void 0)})})()},[a,l,o,r])};function e1(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var e2=(0,es.oM)({name:"contacts",initialState:[],reducers:{contactsFetched:function(e,t){return t.payload},contactAdded:function(e,t){return((function(e){if(Array.isArray(e))return e1(e)})(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return e1(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e1(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).concat([t.payload])},contactDeleted:function(e,t){return e.filter(function(e){return e!==t.payload})}}});let e4=e2.reducer;var e3=e2.actions,e5=e3.contactsFetched,e6=e3.contactAdded,e8=e3.contactDeleted;function e7(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function e9(e,t,r,n,o,i,a){try{var l=e[i](a),c=l.value}catch(e){r(e);return}l.done?t(c):Promise.resolve(c).then(n,o)}let te=function(){var e,t=tR(function(e){return e.account}),r=null==t?void 0:t.id,n=(e=(0,T.useState)(!1),function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(i.push(r.value),i.length!==t);a=!0);}catch(e){l=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw n}}return i}}(e,2)||function(e,t){if(e){if("string"==typeof e)return e7(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e7(e,t)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[0],i=n[1],a=tF(),l=el().get;(0,T.useEffect)(function(){var e;r&&!o&&(e=function(){var e,t,r,n,o;return function(e,t){var r,n,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(c){var u=[l,c];if(r)throw TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(i=0)),i;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,n=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}}(this,function(c){switch(c.label){case 0:return[4,l("/contacts")];case 1:return t=(e=c.sent()).success,r=e.data,n=e.message,o=e.status,t?(a(e5(r.map(function(e){return e.id}))),a(eM(r))):console.error(n),(t||o&&o>=400)&&i(!0),[2]}})},function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){e9(i,n,o,a,l,"next",e)}function l(e){e9(i,n,o,a,l,"throw",e)}a(void 0)})})()},[a,l,o,r])},tt=function(){var e=(0,T.useRef)(null),t=(0,T.useCallback)(function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e.current=setTimeout(t,r)},[]),r=(0,T.useCallback)(function(){e.current&&clearTimeout(e.current)},[]);return(0,T.useEffect)(function(){return r},[r]),{setTimer:t,clearTimer:r}},tr=function(){var e=tt(),t=e.setTimer,r=e.clearTimer;return{debounce:(0,T.useCallback)(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;r(),t(e,n)},[r,t])}},tn=function(){return(0,T.useCallback)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=document.createElement("a");n.href=e,n.setAttribute("download","".concat(t||e,".").concat(r)),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)},[])};function to(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}let ti=function(e){var t,r=(t=(0,T.useState)(null),function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(i.push(r.value),i.length!==t);a=!0);}catch(e){l=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw n}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return to(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return to(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),n=r[0],o=r[1],i=(0,T.useRef)(null),a=(0,T.useCallback)(function(){i.current&&i.current.click()},[]),l=(0,T.useCallback)(function(){if(i.current){var t=i.current.files[0];t&&(o(t),e(),i.current.value="")}},[e]);return{fileInputRef:i,handleFileChange:l,triggerFileSelection:a,selectedFile:n}};function ta(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}let tl=function(){var e,t=(e=(0,T.useState)(!1),function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(i.push(r.value),i.length!==t);a=!0);}catch(e){l=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw n}}return i}}(e,2)||function(e,t){if(e){if("string"==typeof e)return ta(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ta(e,t)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=t[0],n=t[1];return{isFullScreenMode:r,toggleFullScreenMode:(0,T.useCallback)(function(){return n(function(e){return!e})},[]),exitFullScreenMode:(0,T.useCallback)(function(){return n(!1)},[])}};function tc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function tu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw n}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tc(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}let ts=function(e){var t=tu((0,T.useState)(null),2),r=t[0],n=t[1],o=tu((0,T.useState)(!1),2),i=o[0],a=o[1],l=(0,T.useRef)(null);return(0,T.useEffect)(function(){if(e){var t=URL.createObjectURL(e);l.current=t,a(!0),n(t)}return function(){l.current&&URL.revokeObjectURL(l.current),l.current=null}},[e]),{isImageLoading:i,imageSrc:r,handleImageLoad:(0,T.useCallback)(function(e){URL.revokeObjectURL(e.target.src),a(!1)},[])}};function tf(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function td(e,t,r,n,o,i,a){try{var l=e[i](a),c=l.value}catch(e){r(e);return}l.done?t(c):Promise.resolve(c).then(n,o)}function th(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw n}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tf(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}let tp=function(e){var t=th((0,T.useState)(null),2),r=t[0],n=t[1],o=th((0,T.useState)(!1),2),i=o[0],a=o[1],l=(0,T.useRef)(null),c=el(),u=c.isLoading,s=c.get;return(0,T.useEffect)(function(){var t,r=function(){l.current&&URL.revokeObjectURL(l.current),l.current=null};return(r(),e)?(t=function(){var t,r,o,i,c;return function(e,t){var r,n,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(c){var u=[l,c];if(r)throw TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(i=0)),i;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,n=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}}(this,function(u){switch(u.label){case 0:if(u.trys.push([0,2,,3]),!e)return[2];return[4,s(e,{responseType:"blob"})];case 1:return r=(t=u.sent()).success,o=t.data,t.message,r&&o&&(l.current=i=URL.createObjectURL(o),a(!0),n(i)),[3,3];case 2:return c=u.sent(),a(!1),console.error(c),[3,3];case 3:return[2]}})},function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(e){td(i,n,o,a,l,"next",e)}function l(e){td(i,n,o,a,l,"throw",e)}a(void 0)})})():n(null),r},[e,s]),{isImageFetching:u,isImageLoading:i,imageSrc:r,handleImageLoad:(0,T.useCallback)(function(e){URL.revokeObjectURL(e.target.src),a(!1)},[])}};function tm(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function ty(e,t,r,n,o,i,a){try{var l=e[i](a),c=l.value}catch(e){r(e);return}l.done?t(c):Promise.resolve(c).then(n,o)}let tg=function(e){var t,r=(t=(0,T.useState)(!1),function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(i.push(r.value),i.length!==t);a=!0);}catch(e){l=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw n}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return tm(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tm(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),n=r[0],o=r[1],i=tF(),a=el().get;(0,T.useEffect)(function(){var t;n||(t=function(){var t,r,n,l,c;return function(e,t){var r,n,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(c){var u=[l,c];if(r)throw TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(i=0)),i;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,n=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}}(this,function(u){switch(u.label){case 0:return[4,a("/messages/".concat(e))];case 1:return r=(t=u.sent()).success,n=t.data,l=t.message,c=t.status,r?i(eX(n)):console.error(l),(r||c&&c>=400)&&o(!0),[2]}})},function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(e){ty(i,n,o,a,l,"next",e)}function l(e){ty(i,n,o,a,l,"throw",e)}a(void 0)})})()},[i,a,n,e])};function tb(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}let tv=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=(t=(0,T.useState)(r),function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(i.push(r.value),i.length!==t);a=!0);}catch(e){l=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw n}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return tb(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tb(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[0],a=o[1],l=(0,T.useCallback)(function(){var t=i+1;a(t<e?t:0)},[e,i]),c=(0,T.useCallback)(function(){var t=i-1;a(t>=0?t:e-1)},[e,i]),u=tr().debounce,s=(0,T.useCallback)(function(e){return u(function(){var t,r=document.activeElement;(null!=(t=HTMLElement)&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?t[Symbol.hasInstance](r):r instanceof t)&&r.dataset.isPhotoNavTarget&&("ArrowLeft"===e.key&&c(),"ArrowRight"===e.key&&l())},400)},[u,c,l]);(0,T.useEffect)(function(){return document.addEventListener("keydown",s),function(){document.removeEventListener("keydown",s)}},[s]),(0,T.useEffect)(function(){i>=e&&a(0)},[i,e]);var f=(0,T.useRef)(e);(0,T.useEffect)(function(){var t=f.current;f.current=e,e>t&&n&&a(0)},[e,n]);var d=(0,T.useMemo)(function(){return"".concat(i+1," of ").concat(e)},[i,e]);return{currentIndex:i,handleNext:l,handlePrevious:c,photoIndexIndicator:d}},tw=function(e){var t=(0,T.useMemo)(function(){return e?"/profile-photos/".concat(e.id,"/file"):void 0},[e]),r=(0,T.useMemo)(function(){return e&&F(e.createdAt)},[e]),n=tn();return{photoUrl:t,photoDateTime:r,downloadPhoto:(0,T.useCallback)(function(){e&&n("/profile-photos/".concat(e.id),"".concat(e.id),"png")},[e,n])}};function tx(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}let tj=function(){var e,t=(e=(0,T.useState)(0),function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(i.push(r.value),i.length!==t);a=!0);}catch(e){l=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw n}}return i}}(e,2)||function(e,t){if(e){if("string"==typeof e)return tx(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tx(e,t)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=t[0],n=t[1];(0,T.useLayoutEffect)(function(){n(window.innerWidth)},[]),tr().debounce;var o=(0,T.useCallback)(function(){n(window.innerWidth)},[]);return(0,T.useEffect)(function(){return window.addEventListener("resize",o),function(){return window.removeEventListener("resize",o)}},[o]),{windowWidth:r}};function tC(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function tP(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw n}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tC(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}let tk=function(){var e=(0,z.TH)(),t=tP((0,T.useState)(e.pathname),2),r=t[0],n=t[1],o=tP((0,T.useState)(e.pathname),2),i=o[0],a=o[1];return(0,T.useEffect)(function(){e.pathname!==i&&(n(i),a(e.pathname))},[i,e.pathname]),{currentPath:i,previousPath:r}};function tS(e,t,r,n,o,i,a){try{var l=e[i](a),c=l.value}catch(e){r(e);return}l.done?t(c):Promise.resolve(c).then(n,o)}function tO(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){tS(i,n,o,a,l,"next",e)}function l(e){tS(i,n,o,a,l,"throw",e)}a(void 0)})}}function tI(e,t){var r,n,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(c){var u=[l,c];if(r)throw TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(i=0)),i;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,n=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}}let tE=function(e){var t,r=tR(function(e){return e.blockedUsers}),n=tR(function(e){return e.contacts}),o=(0,T.useMemo)(function(){return D(null==e?void 0:e.firstName,null==e?void 0:e.lastName)},[null==e?void 0:e.firstName,null==e?void 0:e.lastName]),i=(0,T.useMemo)(function(){return U(null==e?void 0:e.firstName,null==e?void 0:e.lastName)},[null==e?void 0:e.firstName,null==e?void 0:e.lastName]),a=(0,T.useMemo)(function(){var t;return(null==e||null==(t=e.profilePhoto)?void 0:t.id)?"/profile-photos/".concat(e.profilePhoto.id,"/file"):null},[null==e||null==(t=e.profilePhoto)?void 0:t.id]),l=(0,T.useMemo)(function(){return!!e&&r.includes(e.id)},[r,e]),c=(0,T.useMemo)(function(){return!!e&&n.includes(e.id)},[n,e]),u=el(),s=u.post,f=u.del,d=tF(),h=(0,T.useCallback)(function(){return tO(function(){var t,r,n;return tI(this,function(o){switch(o.label){case 0:if(!e||l)return[2];return[4,s("/blocked-users",{userId:e.id})];case 1:return r=(t=o.sent()).success,n=t.message,r?d(eB(e.id)):console.error(n),[2]}})})()},[d,l,s,e]),p=(0,T.useCallback)(function(){return tO(function(){var t,r,n;return tI(this,function(o){switch(o.label){case 0:if(!e||!l)return[2];return[4,f("/blocked-users/".concat(e.id))];case 1:return r=(t=o.sent()).success,n=t.message,r?d(eF(e.id)):console.error(n),[2]}})})()},[f,d,l,e]),m=(0,T.useCallback)(function(){return tO(function(){var t,r,n;return tI(this,function(o){switch(o.label){case 0:if(!e||c)return[2];return[4,s("/contacts",{userId:e.id})];case 1:return r=(t=o.sent()).success,n=t.message,r?d(e6(e.id)):console.error(n),[2]}})})()},[d,c,s,e]),y=(0,T.useCallback)(function(){return tO(function(){var t,r,n;return tI(this,function(o){switch(o.label){case 0:if(!e||!c)return[2];return[4,f("/contacts/".concat(e.id))];case 1:return r=(t=o.sent()).success,n=t.message,r?d(e8(e.id)):console.error(n),[2]}})})()},[f,d,c,e]);return{fullName:o,nameInitials:i,photoUrl:a,isBlocked:l,isContact:c,blockUser:h,unblockUser:p,addToContacts:m,removeFromContacts:y}};function tA(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function tM(e,t,r,n,o,i,a){try{var l=e[i](a),c=l.value}catch(e){r(e);return}l.done?t(c):Promise.resolve(c).then(n,o)}let tN=function(e){var t,r=tR(function(e){return e.users}).find(function(t){return t.id===e}),n=(t=(0,T.useState)("number"==typeof(null==r?void 0:r.id)),function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(i.push(r.value),i.length!==t);a=!0);}catch(e){l=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw n}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return tA(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tA(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[0],i=n[1],a=(0,T.useRef)(0),l=tF(),c=el().get;return(0,T.useEffect)(function(){var t;o||(t=function(){var t,r,n,o;return function(e,t){var r,n,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(c){var u=[l,c];if(r)throw TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(i=0)),i;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,n=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}}(this,function(u){switch(u.label){case 0:return[4,c("/users/".concat(e))];case 1:return r=(t=u.sent()).success,n=t.data,o=t.message,r?(l(eN(n)),i(!0)):(console.error(o),2===a.current&&i(!0)),a.current++,[2]}})},function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(e){tM(i,n,o,a,l,"next",e)}function l(e){tM(i,n,o,a,l,"throw",e)}a(void 0)})})()},[l,c,o,e]),r};function tZ(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function tL(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw n}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tZ(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tZ(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var tT="opacity ".concat(200,"ms ease-in-out, transform ").concat(200,"ms ease-in-out"),tD={opacity:"0.0",transform:"scale(0.8)",transition:tT},tU={opacity:"1.0",transform:"scale(1.0)",transition:tT};let tB=function(e){var t=tL((0,T.useState)(e?"entering":void 0),2),r=t[0],n=t[1],o=tL((0,T.useState)(e),2),i=o[0],a=o[1],l=tL((0,T.useState)(tD),2),c=l[0],u=l[1],s=(0,T.useRef)(!0),f=tt(),d=tt();return(0,T.useEffect)(function(){if(s.current){s.current=!1;return}e?(u(tD),a(!0),n("entering")):(u(tU),n("exiting"))},[e]),(0,T.useEffect)(function(){switch(r){case"entering":u(tU),d.setTimer(function(){return u(void 0)},200);break;case"exiting":u(tD),f.setTimer(function(){return a(!1)},200)}},[r,d.setTimer,f.setTimer]),{isMounted:i,animationStyle:c}};var tF=H.I0.withTypes(),tR=H.v9.withTypes();function tz(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function t$(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw n}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tz(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tz(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}let tW=function(){var e=tR(function(e){return e.account});if(!e)throw Error("Invalid account!");var t=tR(function(e){return e.messages}),r=tR(function(e){return e.users}),n=tR(function(e){return e.contacts}),o=tR(function(e){return e.blockedUsers}),i=t$((0,T.useState)([]),2),a=i[0],l=i[1];return(0,T.useEffect)(function(){var i=new Map;t.forEach(function(t){var r=t.senderId===e.id?t.receiverId:t.senderId,n=i.get(r);(!n||t.createdAt>n.createdAt)&&i.set(r,t)});var a=[],c=!0,u=!1,s=void 0;try{for(var f,d=i[Symbol.iterator]();!(c=(f=d.next()).done);c=!0)!function(){var e=t$(f.value,2),t=e[0],n=e[1],o=r.find(function(e){return e.id===t});o&&a.push({partner:o,lastMessage:n})}()}catch(e){u=!0,s=e}finally{try{c||null==d.return||d.return()}finally{if(u)throw s}}if(a.sort(function(e,t){return t.lastMessage&&e.lastMessage?t.lastMessage.createdAt-e.lastMessage.createdAt:0}),a.length<10){var h=!0,p=!1,m=void 0;try{for(var y,g=n[Symbol.iterator]();!(h=(y=g.next()).done);h=!0){var b=function(){var e=y.value;if(!a.some(function(t){return t.partner.id===e})){var t=r.find(function(t){return t.id===e});t&&a.push({partner:t})}if(10===a.length)return"break"}();if("break"===b)break}}catch(e){p=!0,m=e}finally{try{h||null==g.return||g.return()}finally{if(p)throw m}}}if(a.length<10){var v=!0,w=!1,x=void 0;try{for(var j,C=r[Symbol.iterator]();!(v=(j=C.next()).done);v=!0){var P=function(){var e=j.value;if(o.some(function(t){return t===e.id})||a.some(function(t){return t.partner.id===e.id})||a.push({partner:e}),10===a.length)return"break"}();if("break"===P)break}}catch(e){w=!0,x=e}finally{try{v||null==C.return||C.return()}finally{if(w)throw x}}}l(a)},[e.id,o,n,t,r]),a};function t_(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function tV(e,t,r,n,o,i,a){try{var l=e[i](a),c=l.value}catch(e){r(e);return}l.done?t(c):Promise.resolve(c).then(n,o)}let tH=function(){var e,t=(e=(0,T.useState)(!1),function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(i.push(r.value),i.length!==t);a=!0);}catch(e){l=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw n}}return i}}(e,2)||function(e,t){if(e){if("string"==typeof e)return t_(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t_(e,t)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=t[0],n=t[1],o=(0,T.useRef)(0),i=tF(),a=el().get;(0,T.useEffect)(function(){var e;r||(e=function(){var e,t,r,l,c;return function(e,t){var r,n,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(c){var u=[l,c];if(r)throw TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(i=0)),i;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,n=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}}(this,function(u){switch(u.label){case 0:return[4,a("/users/suggestions")];case 1:return t=(e=u.sent()).success,r=e.data,l=e.message,(c=e.status)&&c>=400&&n(!0),t?(i(eM(r)),n(!0)):(console.error(l),o.current>2&&n(!0)),o.current++,[2]}})},function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){tV(i,n,o,a,l,"next",e)}function l(e){tV(i,n,o,a,l,"throw",e)}a(void 0)})})()},[i,a,r])};var tG=R.ZP.input.withConfig({displayName:"SearchInputStyled"})(["display:block;width:calc(100% - 2.7rem);font-size:1rem;background-color:inherit;color:white;&:focus{border:none;outline:none;}&::placeholder{color:#929292;}"]);let tX=function(){return(0,Z.jsx)(tG,{placeholder:"Search people"})};function tq(){return(tq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}let tY=function(e){return T.createElement("svg",tq({xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",strokeWidth:.2,viewBox:"0 0 24 24",stroke:"currentColor"},e),o||(o=T.createElement("path",{d:"M22.576 13.35s-13.162-.014-21.162-.014c-1.585-.279-1.691-2.377.028-2.686l21.079-.055c1.675.12 1.746 2.49.055 2.81z"})),i||(i=T.createElement("path",{d:"M10.65 22.576s.014-13.162.014-21.162c.279-1.585 2.377-1.691 2.686.028l.055 21.079c-.12 1.675-2.49 1.746-2.81.055z"})))};function tK(){return(tK=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}let tJ=function(e){return T.createElement("svg",tK({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",fill:"currentColor",strokeWidth:.2,viewBox:"0 0 24 24",stroke:"currentColor"},e),T.createElement("path",{d:"M9.023 24h8.216c1.411.052 5.719.61 5.592-2.5.123-5.074-2.654-10.85-9.32-11l-6.205-.1c-3.964-.064-6.158 1.387-6.158 1.387l.073 2.448s2.048-1.4 6.085-1.335l6.204.1c4.444.468 6.537 2.394 6.922 8.5H9.023ZM10.66.085c3.075 0 5.677 2.212 5.677 5.01s-2.602 5.06-5.676 5.06-5.573-2.263-5.573-5.06c0-2.798 2.499-5.01 5.573-5.01m0 2.111c-1.712 0-3.088 1.413-3.088 2.898s1.376 2.792 3.089 2.792c1.712 0 3.192-1.307 3.192-2.792s-1.48-2.898-3.192-2.898",style:{strokeWidth:.2}}),T.createElement("path",{id:"addContact_svg__a",d:"M3.266 24h2.468v-9.419H3.266Z",style:{strokeWidth:.2}}),T.createElement("use",{xlinkHref:"#addContact_svg__a",style:{strokeWidth:.203532},transform:"matrix(0 .99039 -1.0097 0 24.29 14.72)"}))};function tQ(){return(tQ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}let t0=function(e){return T.createElement("svg",tQ({xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",strokeWidth:.1,viewBox:"0 0 24 24",stroke:"currentColor"},e),T.createElement("path",{d:"M12.066 7.9C9.285 7.9 7 10.319 7 13.1c0 2.78 2.285 5.1 5.066 5.1S17 15.88 17 13.1c0-2.781-2.153-5.2-4.934-5.2m0 2.6c1.478 0 2.634 1.121 2.634 2.6 0 1.478-1.156 2.5-2.634 2.5-1.479 0-2.466-1.022-2.466-2.5 0-1.479.987-2.6 2.466-2.6",style:{strokeWidth:.0999998}}),a||(a=T.createElement("path",{d:"M15.727 0h-5.479c-.69.006-1.245.77-1.238 1.46.006.692.572 1.148 1.263 1.14h4.829c.198 1.148.628 1.634 1.46 2.35 0 0 2.361.342 3.387.593.5.25.85.66 1.102 1.297.26.659.35 1.505.349 2.27-.013 3.298.044 6.58 0 9.843-.083 1.368-1.533 2.568-2.914 2.469-.028-.002-.057-.022-.086-.022-4.462-.014-8.912.048-13.347 0-1.278-.05-2.457-1.3-2.453-2.582v-.111c-.01-2.881.003-5.666 0-8.557a1.254 1.254 0 0 0-1.256-1.248C.654 8.903 0 9.462 0 10.152c.003 2.882-.01 5.665 0 8.556-.008 2.69 2.257 5.088 4.963 5.188.011 0 .022.104.033.104 4.478.049 8.946-.096 13.399-.082l-.086.082c2.813.202 5.427-2.023 5.595-4.904.001-.019.096-.037.096-.055.046-3.324-.087-6.633-.074-9.924 0-.001.074-.002.074-.004.002-.998-.2-2.12-.623-3.191s-.987-2.023-2.206-2.59a5 5 0 0 0-.417-.18c-1.07-.28-2.114-.237-3.079-.382-.24-1.276-1.022-1.96-1.948-2.77"})),T.createElement("path",{d:"M3.862.036C3.27.05 2.788.621 2.8 1.312v5.3c.012.69.6 1.238 1.19 1.225s1.043-.583 1.032-1.273V1.263c-.01-.69-.57-1.24-1.16-1.227",style:{strokeWidth:.1}}),T.createElement("path",{d:"M7.892 3.436c-.013-.591-.585-1.094-1.276-1.082h-5.3c-.69.012-1.238.62-1.225 1.21s.583 1.023 1.273 1.012h5.301c.69-.01 1.24-.55 1.227-1.14",style:{strokeWidth:.0999999}}))};function t1(){return(t1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}let t2=function(e){return T.createElement("svg",t1({xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",strokeWidth:.2,viewBox:"0 0 24 24",stroke:"currentColor"},e),T.createElement("path",{d:"M10.707 7.158c-.816-.66-1.35-.798-2.218-.103v8.012c-.001 5.106 7.268 5.484 7.022 0V6.375c.235-8.147-11.855-8.414-11.826 0v11.187c.664 8.153 15.796 8.574 16.63 0V7.112c-.704-.786-1.514-.79-2.217-.01v9.824C17.137 23.3 7.1 23.17 5.902 16.743V5.64c.57-4.38 7.046-4.256 7.391 0v9.427c.051 2.38-2.612 2.272-2.586 0z",style:{strokeWidth:.200001}}))};function t4(){return(t4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}let t3=function(e){return T.createElement("svg",t4({xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",strokeWidth:.2,viewBox:"0 0 24 24",stroke:"currentColor"},e),l||(l=T.createElement("path",{d:"M1.086 10.65s12.596.014 20.596.014c.851.318.816 2.338-.028 2.686l-20.513.055c-1.456-.3-1.566-2.555-.055-2.81z"})),c||(c=T.createElement("path",{d:"m0 11.424 8.806-9.893c1.199-1.585 3.77-.12 2.405 1.599l-7.484 8.226zM.22 12.796 9.188 22.88c1.463.864 3.095-.635 2.197-1.844L3.861 12.74Z"})))};function t5(){return(t5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}let t6=function(e){return T.createElement("svg",t5({xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",strokeWidth:.2,viewBox:"0 0 24 24",stroke:"currentColor"},e),T.createElement("path",{d:"M19.357 10.506H4.637v10.679h14.72Zm-1 13.49H5.802c-1.35.104-3.442-2.048-3.405-3.461v-8.379c-.051-1.455 1.842-4.389 3.405-4.46h12.555c1.986-.084 3.35 3.08 3.24 4.46v8.379c.085 1.95-1.975 3.274-3.24 3.46",style:{strokeWidth:.2}}),T.createElement("path",{d:"M17.97 4.45c0-.477.03-4.326-5.754-4.399C6.1-.025 6.03 3.912 6.03 4.45v3.29h2.306V4.45c0-1.755 2.439-2.248 3.88-2.207 1.197.035 3.448.835 3.448 2.207v3.29h2.306z",style:{strokeWidth:.2}}))};function t8(){return(t8=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}function t7(){return(t7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}function t9(){return(t9=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}let re=function(e){return T.createElement("svg",t9({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",fill:"currentColor",viewBox:"0 0 24 24",stroke:"currentColor"},e),s||(s=T.createElement("path",{id:"close_svg__a",d:"M1.488.234A1.25 1.25 0 0 0 .6 2.367l21.012 21.115a1.25 1.25 0 1 0 1.774-1.763L2.37.604a1.25 1.25 0 0 0-.883-.37"})),f||(f=T.createElement("use",{xlinkHref:"#close_svg__a",transform:"rotate(90 11.992 12.043)"})))};function rt(){return(rt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}let rr=function(e){return T.createElement("svg",rt({xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",strokeWidth:.2,viewBox:"0 0 24 24",stroke:"currentColor"},e),d||(d=T.createElement("path",{d:"M1.152 5.963C9.152 5.963 15 6 23 6c1.182.373 1.065 2.262 0 2.5H1C-.07 8.09-.125 6.586 1 6Z"})),h||(h=T.createElement("path",{d:"M19.5 7V3.4S19.397 0 15 0H9C4.44 0 4.5 3.4 4.5 3.4V7H7V3.4s1.285-.747 2-.9c1.955-.42 4.045-.42 6 0 .715.153 2 .9 2 .9V7ZM18.5 9.434l-1.806 12.063H7.237L5.5 9.363 3 9.388l1.2 10.409c.54 2.143 1.222 4.295 3.6 4.2h8.025c3.132.04 3.274-1.824 3.675-4.2L21 9.517"})))};function rn(){return(rn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}let ro=function(e){return T.createElement("svg",rn({xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",strokeWidth:0,viewBox:"0 0 24 24",stroke:"currentColor"},e),p||(p=T.createElement("path",{d:"M2.162 21.358h19.684c.632 0 1.141.558 1.141 1.25 0 .693-.509 1.25-1.141 1.25H2.162c-.633 0-1.142-.557-1.142-1.25 0-.692.51-1.25 1.142-1.25"})),T.createElement("path",{d:"m12.65 19.794 7.113-7.763-1.596-1.585-6.688 7.026zm-8.996-7.727c2.429 2.596 4.761 5.1 7.196 7.69l1.142-2.626-6.57-6.68c-.6-.158-.862.653-1.257 1.006ZM11.9 1.882c-.77-.04-1.38.7-1.254 1.446-.013 5.273-.244 10.334-.246 15.607.1 1.08 1.814 1.517 2.402.645.365-.568.164-1.175.22-1.812.01-4.949.118-9.897.118-14.845-.057-.608-.648-1.052-1.24-1.04",style:{strokeWidth:0}}))};function ri(){return(ri=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}let ra=function(e){return T.createElement("svg",ri({xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",strokeWidth:.2,viewBox:"0 0 24 24",stroke:"currentColor"},e),T.createElement("path",{d:"m2.286 21.442 2.146-6.423c2.083-1.73 5.454 1.692 4.543 3.566zM23.202 7.603c3.397-3.917-4.553-10.37-7.859-6.198L3.353 13.408-.03 23.947l10.692-4.508Zm-2.001-.668L10.53 17.115c-.094-2.028-2.63-4.126-4.599-3.938L16.526 2.99c2.703-2.725 7.479 1.674 4.675 3.945",style:{strokeWidth:.2}}))};function rl(){return(rl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}let rc=function(e){return T.createElement("svg",rl({xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",strokeWidth:.2,viewBox:"0 0 24 24",stroke:"currentColor"},e),T.createElement("path",{d:"M11.717 1.483V7.56c-.042 1.024.455 2.409 2.267 2.374l6.544-.106-.346-2.268h-6.198V1.483ZM5.9.2c-3.188.145-3.17 2.462-3.15 4.09V18.68c-.19 5.472.318 5.263 5.81 5.132h7.99c4.954.277 4.753-.006 4.72-5.291V6.51L15.854.147zm1.61 2.15 7.313.212 4.268 4.755V18.52c-.016 2.587.325 3.085-2.542 3.023H7.592c-2.326.062-2.557-.03-2.663-2.723V4.927c-.004-1.76-.314-2.512 2.582-2.577",style:{strokeWidth:.2}}))};function ru(){return(ru=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}let rs=function(e){return T.createElement("svg",ru({xmlns:"http://www.w3.org/2000/svg",strokeWidth:0,viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor"},e),m||(m=T.createElement("path",{d:"M16.037 6.408c-1.626-1.09-2.433 1.514-.913 2.101 1.275 1.06 2.55 2.121 3.802 3.21l-4.381 3.988c-1.258 1.297.972 2.617 1.81 1.326q2.484-2.26 4.965-4.521c.95-1.085-.465-2.05-1.223-2.69-1.34-1.154-2.699-2.285-4.06-3.414"})),y||(y=T.createElement("path",{d:"m19.191 10.38-10.043.104c-1.998.113-1.209 2.93.473 2.496l9.596-.1c1.575.027 1.675-2.519-.026-2.5"})),g||(g=T.createElement("path",{d:"M5.43.191C3.115.2 1.427 2.255.74 4.288-.061 6.467.257 8.809.19 11.078c.025 2.169-.054 4.341.052 6.507.241 2.434 1.461 5.1 3.882 6.019 1.225.389 2.53.167 3.794.226h2.856c1.998-.068 1.3-2.932-.383-2.5-1.727-.011-3.456.023-5.183-.017-1.51-.393-2.137-2.109-2.408-3.486-.207-1.711-.07-3.442-.11-5.163.022-1.957-.046-3.918.04-5.873.198-1.52.745-3.351 2.264-4.026 1.132-.154 2.292-.037 3.435-.074.94-.04 1.902.096 2.824-.095 1.543-.656.436-2.756-.99-2.405z"})))};function rf(){return(rf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}let rd=function(e){return T.createElement("svg",rf({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",fill:"currentColor",strokeWidth:0,viewBox:"0 0 24 24",stroke:"currentColor"},e),b||(b=T.createElement("path",{id:"more_svg__a",d:"M14.546 4.133a2.75 2.75 0 0 1-3.586 1.505 2.75 2.75 0 0 1-1.506-3.585A2.75 2.75 0 0 1 13.04.547a2.75 2.75 0 0 1 1.506 3.585"})),v||(v=T.createElement("use",{xlinkHref:"#more_svg__a",transform:"translate(0 8.907)"})),w||(w=T.createElement("use",{xlinkHref:"#more_svg__a",transform:"translate(0 17.878)"})))};function rh(){return(rh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}let rp=function(e){return T.createElement("svg",rh({xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",strokeWidth:0,viewBox:"0 0 24 24",stroke:"currentColor"},e),x||(x=T.createElement("path",{d:"M12.337 21.75 1.41 12.125M1.332 10.877c-1.519.136-1.333 1.98-.29 2.589l10.468 9.222c1.423 1.252 2.93-1.21 1.461-2.043L2.238 11.188l-.422-.246ZM12.382 2.723 1.39 12.013"})),j||(j=T.createElement("path",{d:"m11.574 1.768-10.99 9.29c-1.471 1.395.948 2.994 1.963 1.614l10.642-8.994c1.219-.982-.296-3.02-1.615-1.91"})))};function rm(){return(rm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}function ry(){return(ry=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}function rg(){return(rg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}let rb=function(e){return T.createElement("svg",rg({xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",strokeWidth:.2,viewBox:"0 0 24 24",stroke:"currentColor"},e),P||(P=T.createElement("path",{d:"M14.034 24h-8.71c-1.41.053-5.45.68-5.324-2.5-.072-3.645 3.414-10.604 10.846-10.5h4.19c3.569 0 5.334 1.565 5.334 1.565l-.737 2.179s-2.65-1.244-4.597-1.244h-4.19c-3.21-.088-8.321 2.687-8.346 8h11.579zM13.268.112c-3.11 0-5.69 2.281-5.69 5.1s2.58 5.1 5.69 5.1 5.692-2.282 5.692-5.1c0-2.819-2.582-5.1-5.692-5.1m0 2.287c1.733 0 3.179 1.316 3.179 2.813 0 1.496-1.446 2.813-3.18 2.813-1.732 0-3.176-1.317-3.176-2.813s1.444-2.813 3.177-2.813M21.868 15.212c1.485-.276 2.202.394 1.934 1.634l-6.19 7.036c-1.293.399-2.34-.4-2.016-1.533z"})),k||(k=T.createElement("path",{d:"M15.496 16.742c-.157-1.455 1.002-1.768 2.116-1.425l6.09 6.729c.281 1.278-.82 2.116-1.834 1.725z"})))};function rv(){return(rv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}let rw=function(e){return T.createElement("svg",rv({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",fill:"currentColor",strokeWidth:.2,viewBox:"0 0 24 24",stroke:"currentColor"},e),T.createElement("path",{id:"reply_svg__a",d:"M4.2 8.505 9.72 2.23c.31-.352.174-1.387-.169-1.709C9.204.195 7.99.11 7.678.468L.7 8.525Z",style:{strokeWidth:.2}}),S||(S=T.createElement("path",{d:"M1.059 8.349c-.495 0-.82.666-.851 1.159-.036.589.255 1.34.845 1.34h14.444c4.428.536 5.585-.506 5.803 4.5v7.528c0 .51.845.927 1.402.914.451-.01.885-.434 1.098-.79 0 0 .108-6.095 0-7.651-.47-6.787-2.177-6.653-8.444-7Z"})),O||(O=T.createElement("use",{xlinkHref:"#reply_svg__a",transform:"matrix(1 0 0 -1 -.193 19.225)"})))};function rx(){return(rx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}let rj=function(e){return T.createElement("svg",rx({xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",strokeWidth:.2,viewBox:"0 0 24 24",stroke:"currentColor"},e),T.createElement("path",{d:"m17.732 15.083-2.462 2.36 5.79 5.763c1.7 1.343 3.97-.691 2.072-2.563z",style:{strokeWidth:.2}}),T.createElement("ellipse",{cx:-10.011,cy:-9.719,rx:8.739,ry:8.395,style:{fillOpacity:.478431,fill:"none",opacity:.429561},transform:"scale(-1)"}),T.createElement("path",{d:"M10.122 0C4.549 0 0 4.549 0 10.122s4.549 10.122 10.122 10.122 10.121-4.549 10.121-10.122S15.694 0 10.122 0m0 2.892c4.01 0 7.23 3.22 7.23 7.23s-3.22 7.23-7.23 7.23-7.23-3.22-7.23-7.23 3.22-7.23 7.23-7.23",style:{strokeWidth:.2}}))};function rC(){return(rC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}let rP=function(e){return T.createElement("svg",rC({xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",strokeWidth:.2,viewBox:"0 0 24 24",stroke:"currentColor"},e),I||(I=T.createElement("path",{d:"M22.914 13.35s-13.162-.014-21.162-.014c-.851-.318-.816-2.338.028-2.686l21.079-.055c1.456.3 1.566 2.555.055 2.81z"})),E||(E=T.createElement("path",{d:"m24 12.605-8.806 9.893c-1.199 1.585-3.77.12-2.405-1.598l7.484-8.227zM24 11.474 15.033 1.389c-1.462-.864-3.095.634-2.196 1.843l7.523 8.297z"})))};function rk(){return(rk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}let rS=function(e){return T.createElement("svg",rk({xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",strokeWidth:0,viewBox:"0 0 24 24",stroke:"currentColor"},e),A||(A=T.createElement("path",{d:"M11.998 7.5c-1.834-.024-3.599 1.211-4.222 2.954-.6 1.57-.197 3.455.974 4.648 1.182 1.268 3.113 1.738 4.735 1.142 1.693-.579 2.962-2.257 3.01-4.071.09-1.762-.98-3.49-2.556-4.228A4.46 4.46 0 0 0 12 7.5m0 2.297c1.055-.03 2.063.8 2.202 1.865.18 1.034-.487 2.121-1.48 2.425-1.022.36-2.272-.125-2.731-1.131-.486-.966-.125-2.258.8-2.813.36-.23.785-.347 1.21-.346"})),M||(M=T.createElement("path",{d:"M12.018 23.982c-1.285.123-2.75-.38-2.994-1.784l-.553-1.613c-.884.387-1.704.947-2.654 1.16-1.67-.17-3.354-1.854-3.526-3.519.22-.947.773-1.767 1.165-2.648-.9-.35-1.876-.532-2.7-1.049-1.023-1.308-.992-3.648 0-4.979.825-.515 1.798-.703 2.7-1.05-.39-.883-.951-1.7-1.165-2.649.172-1.666 1.858-3.347 3.527-3.52.95.22 1.771.772 2.654 1.163.35-.898.532-1.871 1.052-2.693 1.3-1.068 3.69-1.068 4.99 0 .515.824.704 1.794 1.052 2.693.885-.388 1.704-.95 2.656-1.162 1.588.16 3.1 1.661 3.52 3.184.016 1.03-.689 1.872-1.065 2.794-.233.388.628.324.867.517.894.318 2.058.524 2.309 1.612.149 1.36.411 2.987-.572 4.091-.827.512-1.798.701-2.699 1.048.379.863.926 1.667 1.158 2.584.076 1.634-1.657 2.75-2.86 3.515-1.163.244-2.107-.584-3.124-.999-.39-.234-.326.627-.52.866-.333.965-.6 2.237-1.86 2.35zm-.764-2.311c.728.046 1.733.278 1.771-.703.404-.975.481-2.221 1.57-2.722 1.217-.4 2.222.506 3.286.938.562.504 1.54-.652 1.382-1.123-.395-.902-.984-1.734-1.16-2.716-.083-1.432 1.353-1.803 2.416-2.149.363-.215 1.07-.163 1.167-.583.108-.751.13-1.554-.784-1.6-.957-.392-2.18-.474-2.664-1.544-.4-1.215.508-2.218.94-3.28.274-.593.819-1.23-.881-1.496-.987.43-1.897 1.07-2.966 1.275-1.434.083-1.806-1.35-2.153-2.41-.352-.788-.283-2.162-1.924-1.15-.394 1.004-.586 2.1-1.196 3.003-.957 1.071-2.235.315-3.233-.19-.405-.1-.868-.64-1.23-.404-.6.463-1.201 1.004-.582 1.685.413.989 1.308 2.009.715 3.119-.585.985-1.823 1.047-2.79 1.46-.647.247-1.59.286-.572 1.721.98.382 2.049.58 2.945 1.136.95.745.613 1.98.085 2.857l-.741 1.51c.493.537 1.028 1.424 1.754.755.976-.403 1.912-1.227 3.035-.817 1.143.578 1.21 1.929 1.658 2.984q.075.222.152.444m10.383-10.71v.005zM4.514 5.485v.003zm13.534-.998h.003z"})))};function rO(){return(rO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}let rI=function(e){return T.createElement("svg",rO({xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",strokeWidth:.2,viewBox:"0 0 24 24",stroke:"currentColor"},e),T.createElement("path",{d:"M18.596 10.506H3.798v10.679h14.798Zm-1.005 13.49H4.97c-1.356.104-3.46-2.048-3.422-3.461v-8.379c-.052-1.455 1.851-4.389 3.422-4.46H17.59c1.996-.084 3.368 3.08 3.257 4.46v8.379c.085 1.95-1.986 3.274-3.257 3.46",style:{strokeWidth:.2}}),T.createElement("path",{d:"M17.151 4.441c0-.47.03-4.27-5.736-4.34C5.318.024 5.25 3.91 5.25 4.44V7.69h2.298V4.441c0-1.732 2.432-2.219 3.868-2.177 1.194.034 3.438.824 3.438 2.177V7.69h2.298z",style:{strokeWidth:.2}}),T.createElement("path",{d:"M.236 4.963c-.322-1.298.283-1.932 1.55-1.619l22.082 18.794c.158 1.598-.26 1.5-1.283 1.833z",style:{strokeWidth:.2}}))};var rE=(0,R.ZP)(rp).withConfig({displayName:"NextIcon"})(["transform:rotate(180deg);"]),rA=R.ZP.svg.withConfig({displayName:"IconStyled"})(["color:inherit;background:transparent;fill:transparent;"]),rM=R.ZP.path.withConfig({displayName:"Square24Path"})(["d:path( 'M0 0, L24 0, M0 1, L24 1, M0 2, L24 2, M0 3, L24 3, M0 4, L24 4, M0 5, L24 5, M0 6, L24 6, M0 7, L24 7, M0 8, L24 8, M0 9, L24 9, M0 10, L24 10, M0 11, L24 11, M0 12, L24 12, M0 13, L24 13, M0 14, L24 14, M0 15, L24 15, M0 16, L24 16, M0 17, L24 17, M0 18, L24 18, M0 19, L24 19, M0 20, L24 20, M0 21, L24 21, M0 22, L24 22, M0 23, L24 23, M0 24, L24 24, M0 0, L0 24, M1 0, L1 24, M2 0, L2 24, M3 0, L3 24, M4 0, L4 24, M5 0, L5 24, M6 0, L6 24, M7 0, L7 24, M8 0, L8 24, M9 0, L9 24, M10 0, L10 24, M11 0, L11 24, M12 0, L12 24, M13 0, L13 24, M14 0, L14 24, M15 0, L15 24, M16 0, L16 24, M17 0, L17 24, M18 0, L18 24, M19 0, L19 24, M20 0, L20 24, M21 0, L21 24, M22 0, L22 24, M23 0, L23 24, M24 0, L24 24' );fill:transparent;stroke:#c02b0e;stroke-width:0.2px;display:none;.svg-design-mode &{display:block;}"]),rN=(0,R.ZP)(function(e){var t=e.children,r=e.isDesigning,n=void 0!==r&&r,o=e.className,i=void 0===o?"":o,a=e.viewBox,l=e.width,c=e.height;return(0,Z.jsxs)(rA,{xmlns:"http://www.w3.org/2000/svg",viewBox:void 0===a?"0 0 24 24":a,width:void 0===l?24:l,height:void 0===c?24:c,className:n?"".concat(i," svg-design-mode"):i,children:[n&&(0,Z.jsx)(rM,{}),t]})}).withConfig({displayName:"FlexibleIcon"})(["display:block;width:100%;height:auto;"]),rZ=R.ZP.path.withConfig({displayName:"PauseIconPath"})(["d:path('M7 4, L7 20, M17 4, L17 20');fill:transparent;stroke:currentColor;stroke-width:4.5px;"]);let rL=function(){return(0,Z.jsx)(rN,{children:(0,Z.jsx)(rZ,{d:""})})};var rT=R.ZP.path.withConfig({displayName:"PlayIconPath"})(["d:path('M5 2, L5 23, L23 12, L5 2');fill:currentColor;stroke:aliceblue;stroke-width:0px;"]);let rD=function(){return(0,Z.jsx)(rN,{children:(0,Z.jsx)(rT,{d:""})})};var rU=R.ZP.path.withConfig({displayName:"SentMsgTailIconPath"})(["d:path('M0 0 C0 0 0 14 14 20 L14 24 L0 24 L0 0');fill:currentColor;stroke-width:0px;"]);(0,R.ZP)(function(e){var t=e.className;return(0,Z.jsx)(rN,{className:t,children:(0,Z.jsx)(rU,{d:""})})}).withConfig({displayName:"ReceivedMsgTailIcon"})(["transform:rotate(270deg);"]),R.ZP.path.withConfig({displayName:"SelectedIconPath"})(["d:path('M3 11, L9 18, L22 5');fill:transparent;stroke:#e3e3e3;stroke-width:4px;stroke-linecap:round;"]);var rB=R.ZP.path.withConfig({displayName:"TickIconPath"})(["d:path('M5 13, l4 4, L19 7');fill:transparent;stroke:currentColor;stroke-width:2.5px;stroke-linecap:round;"]);let rF=function(){return(0,Z.jsx)(rN,{children:(0,Z.jsx)(rB,{d:""})})};var rR=R.ZP.button.withConfig({displayName:"SearchButtonStyled"})(["width:2.7rem;height:2.7rem;padding:0.8rem;color:white;"]);let rz=function(){return(0,Z.jsx)(rR,{children:(0,Z.jsx)(rj,{})})};var r$=(0,R.ZP)(z.rU).withConfig({displayName:"UserStyled"})(["margin:0 0.5rem;padding:0.6rem 1rem;display:flex;align-items:center;border-radius:10px;cursor:pointer;&:hover{background-color:",";}"],function(e){return e.theme.backgroundColors.hover}),rW=R.ZP.div.withConfig({displayName:"ProfilePhotoContainer"})(["width:3.8rem;height:3.8rem;margin-right:0.7rem;border-radius:50%;overflow:hidden;display:flex;justify-content:center;align-items:center;"]),r_=R.ZP.img.withConfig({displayName:"Photo"})(["width:100%;"]),rV=(0,R.ZP)(rW).withConfig({displayName:"DefaultProfilePhotoContainer"})(["background:#005d27;"]),rH=R.ZP.span.withConfig({displayName:"TextPhoto"})(["font-size:1.5rem;font-weight:500;color:#fff;"]),rG=R.ZP.div.withConfig({displayName:"ChatDetailsContainer"})(["flex-grow:1;"]),rX=R.ZP.div.withConfig({displayName:"NameContainer"})(["display:flex;justify-content:space-between;align-items:center;margin-bottom:0.3rem;"]),rq=R.ZP.h3.withConfig({displayName:"Name"})(["margin-right:1rem;flex-grow:1;font-size:1rem;font-weight:500;color:#fff;"]),rY=R.ZP.p.withConfig({displayName:"MessageDateTime"})(["font-size:0.9rem;font-weight:500;color:#ababab;"]),rK=R.ZP.p.withConfig({displayName:"MessagePreview"})(["font-size:1rem;font-weight:500;color:#bebebe;"]);let rJ=function(e){var t=e.firstName,r=e.lastName,n=e.profilePhoto,o=(0,T.useMemo)(function(){var e=null==n?void 0:n.id;return e?"/profile-photos/".concat(e,"/file"):null},[n]),i=(0,T.useMemo)(function(){return D(t,r)},[t,r]);return{photoUrl:o,nameInitials:(0,T.useMemo)(function(){return U(t,r)},[t,r]),fullName:i,id:e.id}},rQ=function(e,t){var r=rJ(e);return{fullName:r.fullName,nameInitials:r.nameInitials,photoUrl:r.photoUrl,messagePreview:(0,T.useMemo)(function(){return null==t?void 0:t.content},[null==t?void 0:t.content]),messageDateTime:(0,T.useMemo)(function(){return(null==t?void 0:t.createdAt)?F(t.createdAt):null},[null==t?void 0:t.createdAt])}},r0=function(e){var t=e.user,r=rQ(t,e.lastMessage),n=r.fullName,o=r.nameInitials,i=r.photoUrl,a=r.messagePreview,l=r.messageDateTime,c=tp(i),u=c.imageSrc,s=c.handleImageLoad;return(0,Z.jsxs)(r$,{to:"/chat/".concat(t.id),children:[u?(0,Z.jsx)(rW,{children:(0,Z.jsx)(r_,{src:u,onLoad:s})}):(0,Z.jsx)(rV,{children:(0,Z.jsx)(rH,{children:o})}),(0,Z.jsxs)(rG,{children:[(0,Z.jsxs)(rX,{children:[(0,Z.jsx)(rq,{children:n}),l&&(0,Z.jsx)(rY,{children:l})]}),a&&(0,Z.jsx)(rK,{children:a})]})]})},r1=function(){var e=eu().isLargeScreen;e0(),tH();var t=tW();return(0,Z.jsxs)($,{$isLargeScreen:e,children:[(0,Z.jsx)(W,{children:(0,Z.jsxs)(_,{$isLargeScreen:e,children:[(0,Z.jsx)(tX,{}),(0,Z.jsx)(rz,{})]})}),(0,Z.jsx)(V,{children:t.map(function(e){var t;return(0,Z.jsx)(r0,{user:e.partner,lastMessage:e.lastMessage},"".concat(null==(t=e.partner)?void 0:t.id))})})]})};var r2=R.ZP.div.withConfig({displayName:"ChatStyled"})(["flex-grow:1;margin-left:0.1rem;height:100vh;overflow:hidden;display:flex;flex-direction:column;background-color:",";"],function(e){return e.theme.page.backgroundColor}),r4=R.ZP.div.withConfig({displayName:"ChatHeader"})(["height:3.5rem;padding:0.5rem 0;display:flex;align-items:center;justify-content:space-between;background-color:#314352;border-bottom:1px solid;border-color:#3c576e;background-color:",";"],function(e){return e.theme.backgroundColors.main}),r3=R.ZP.div.withConfig({displayName:"ChatMessagesListContainer"})(["flex-grow:1;overflow-y:auto;display:flex;justify-content:center;&::-webkit-scrollbar{width:4px;background-color:#131620;}&::-webkit-scrollbar-thumb{background-color:#242a3d;}"]),r5=R.ZP.div.withConfig({displayName:"ChatMessagesList"})(["flex-grow:1;max-width:40rem;margin-top:auto;padding:0 1rem;"]),r6=R.ZP.div.withConfig({displayName:"Gap"})(["height:1rem;width:100%;background-color:transparent;"]),r8=R.ZP.div.withConfig({displayName:"ChatFooter"})(["display:flex;justify-content:center;padding-top:0.2rem;padding-bottom:1.4rem;padding-left:0.3rem;padding-right:0.2rem;background-color:inherit;"]),r7=(0,R.ZP)(z.rU).withConfig({displayName:"BackLinkStyled"})(["width:2rem;padding:0.4rem;background-color:transparent;color:",";&:hover{color:",";background-color:transparent;}"],function(e){return e.theme.iconColor},function(e){return e.theme.iconColor});let r9=function(e){var t=e.to;return(0,Z.jsx)(r7,{to:void 0===t?"/":t,children:(0,Z.jsx)(t3,{})})};var ne=R.ZP.button.withConfig({displayName:"BackButtonStyled"})(["width:2rem;height:2rem;min-width:2rem;padding:0.3rem;color:",";"],function(e){return e.theme.iconColor});let nt=function(e){var t,r,n=e.onClick,o=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["onClick"]);return(0,Z.jsx)(ne,(t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n})}return e}({"aria-label":"Back",onClick:n},o),r=r={children:(0,Z.jsx)(t3,{})},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}),t))};var nr=R.ZP.button.withConfig({displayName:"MoreButtonStyled"})(["width:2rem;padding:0.3rem;color:",";"],function(e){return e.theme.iconColor});let nn=function(e){var t,r,n=e.onClick,o=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["onClick"]);return(0,Z.jsx)(nr,(t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n})}return e}({"aria-label":"More",onClick:n},o),r=r={children:(0,Z.jsx)(rd,{})},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}),t))};var no=R.ZP.button.withConfig({displayName:"CloseButtonStyled"})(["width:2.7rem;height:2.7rem;padding:0.85rem;border-radius:50%;color:#ffffff;transition:background-color 0.2s ease-in-out;&:hover{background-color:",";}"],function(e){var t;return null==(t=e.theme.backgroundColors)?void 0:t.bright});let ni=function(e){var t=e.onClick,r=e.ariaLabel;return(0,Z.jsx)(no,{type:"button",onClick:t,"aria-label":void 0===r?"Close":r,children:(0,Z.jsx)(re,{})})};var na=(0,R.iv)(["*{box-sizing:border-box;}html{width:100vw;height:100vh;overflow:hidden;font-family:system-ui,sans-serif;}body{width:100vw;height:100vh;overflow-x:hidden;overflow-y:hidden;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,'Noto Sans',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol','Noto Color Emoji';font-size:1rem;font-weight:400;line-height:1.2;text-align:left;","}body,header,main,footer,figure,nav,h1,h2,h3,h4,h5,h6,p,div,ul,li,label,input,textarea{display:block;margin:0;padding:0;font-family:system-ui,sans-serif;font-weight:400;}span{display:inline;margin:0;padding:0;font-family:system-ui,sans-serif;}a{margin:0;padding:0;outline:none;border:none;text-decoration:none;color:inherit;background-color:inherit;cursor:pointer;font-family:system-ui,sans-serif;}a:hover{color:inherit;text-decoration:none;}a:active{color:inherit;text-decoration:none;}ul{list-style:none;font-family:system-ui,sans-serif;}img{display:block;margin:0;padding:0;height:auto;}button{margin:0;padding:0;border:none;outline:none;background:transparent;cursor:pointer;border-radius:0;font-family:system-ui,sans-serif;color:inherit;}label{margin:0;padding:0;display:inline;font-family:system-ui,sans-serif;}span{margin:0;padding:0;display:inline;font-family:system-ui,sans-serif;}textarea{overflow-x:hidden;overflow-y:auto;resize:none;border:none;outline:none;}input{outline:none;border:none;font-family:system-ui,sans-serif;}svg{margin:0;padding:0;}.svg-design-mode{position:fixed;z-index:500;width:80vw;top:4vh;right:2vw;background:rgb(25,29,41);}"],function(e){var t=e.theme;return(0,R.iv)(["background-color:",";color:",";"],t.pageBackgroundColor,t.textColor)}),nl=(0,R.vJ)(["  ",""],na),nc=R.ZP.div.withConfig({displayName:"FullScreenOverlay"})(["position:fixed;top:0;left:0;right:0;bottom:0;"," display:flex;background-color:rgb(0 0 0 / 66%);"],function(e){var t=e.$zIndex;return(0,R.iv)(["z-index:",";"],void 0===t?5:t)}),nu=R.ZP.div.withConfig({displayName:"CenteredModal"})(["margin:auto;padding:1rem;border-radius:15px;border:1px solid;",""],function(e){var t,r;return(0,R.iv)(["background-color:",";border-color:",";"],null==(t=e.theme.backgroundColors)?void 0:t.main,null==(r=e.theme.backgroundColors)?void 0:r.bright)});R.ZP.button.withConfig({displayName:"NormalButton"})([""]);var ns=R.ZP.button.withConfig({displayName:"BasicButton"})(["padding:0.4rem 1.7rem;font-size:1rem;font-weight:500;border-radius:8px;transition:background-color 0.2s ease-in-out,color 0.2s ease-in-out;"]),nf=(0,R.ZP)(ns).withConfig({displayName:"PrimaryButton"})(["",""],function(e){var t,r,n=e.theme;return(0,R.iv)(["color:#fff;background-color:",";&:hover{background-color:",";}"],null==(t=n.backgroundColors)?void 0:t.button,null==(r=n.backgroundColors)?void 0:r.buttonHover)}),nd=(0,R.ZP)(ns).withConfig({displayName:"DisabledPrimaryButton"})([""," cursor:not-allowed;"],function(e){var t=e.theme;return(0,R.iv)(["color:",";background-color:",";"],t.disabledPrimaryButton.color,t.disabledPrimaryButton.backgroundColor)});R.ZP.button.withConfig({displayName:"IconButton"})(["width:2rem;height:2rem;padding:0.5rem;",""],function(e){var t=e.theme;return(0,R.iv)(["color:",";"],t.iconColor)});var nh=R.ZP.h1.withConfig({displayName:"ModalTitle"})(["margin-left:1rem;font-size:1.4rem;"]),np=R.ZP.div.withConfig({displayName:"PhotoHeaderSection"})(["position:absolute;top:0.5rem;left:0;right:0.5rem;z-index:5;display:flex;justify-content:space-between;"]),nm=R.ZP.span.withConfig({displayName:"PhotoIndexIndicator"})(["align-self:center;font-size:1rem;font-weight:500;color:#ffffff;"]),ny=R.ZP.div.withConfig({displayName:"PhotoMetaContainer"})(["position:absolute;left:0.5rem;right:0;bottom:0.5rem;"]),ng=R.ZP.p.withConfig({displayName:"PhotoMetaText"})(["margin-bottom:0.4rem;font-size:0.8rem;font-weight:500;color:#dddddd;"]),nb=R.ZP.button.withConfig({displayName:"PhotoNavButton"})(["position:absolute;top:calc(50% - 1.5rem);width:3rem;height:3rem;padding:0.4rem;color:#ffffff96;&:hover{color:#ffffffff;}"]),nv=R.ZP.img.withConfig({displayName:"CenteredImage"})(["margin:auto;width:100%;height:100%;object-fit:contain;"]),nw=(0,R.ZP)(nb).withConfig({displayName:"NextButtonStyled"})(["right:0;"]);let nx=function(e){var t,r,n=e.onClick,o=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["onClick"]);return(0,Z.jsx)(nw,(t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n})}return e}({"aria-label":"Next photo","data-is-photo-nav-target":"true",onClick:n},o),r=r={children:(0,Z.jsx)(rE,{})},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}),t))};var nj=(0,R.ZP)(nb).withConfig({displayName:"PreviousButtonStyled"})(["left:0;"]);let nC=function(e){var t,r,n=e.onClick,o=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["onClick"]);return(0,Z.jsx)(nj,(t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n})}return e}({"aria-label":"Previous photo","data-is-photo-nav-target":"true",onClick:n},o),r=r={children:(0,Z.jsx)(rp,{})},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}),t))};var nP=R.ZP.div.withConfig({displayName:"UserContainer"})(["display:flex;justify-content:left;align-items:center;cursor:pointer;"]),nk=R.ZP.div.withConfig({displayName:"CircularPhoto"})(["width:2.9rem;height:2.9rem;overflow:hidden;margin-right:0.9rem;display:flex;justify-content:center;align-items:center;border-radius:50%;"]),nS=(0,R.ZP)(z.rU).withConfig({displayName:"ProfileLink"})([""," flex-grow:2;"],function(e){return e.$isLargeScreen?(0,R.iv)(["margin-left:1rem;"]):(0,R.iv)(["margin-left:3rem;"])}),nO=R.ZP.div.withConfig({displayName:"NameContainer"})([""]),nI=R.ZP.h3.withConfig({displayName:"Name"})(["font-size:1rem;font-weight:500;color:",";"],function(e){return e.theme.text.title.color}),nE=R.ZP.span.withConfig({displayName:"Status"})(["display:block;font-size:0.8rem;font-weight:500;color:",";"],function(e){return e.theme.text.description.color}),nA=R.ZP.div.withConfig({displayName:"NameInitialsContainer"})(["width:100%;height:100%;display:flex;justify-content:center;align-items:center;background-color:#005d27;border-radius:inherit;background-color:",";"],function(e){return e.theme.nameInitials.backgroundColor}),nM=R.ZP.span.withConfig({displayName:"NameInitials"})(["line-height:1.5;font-size:15rem;font-weight:600;"]),nN=R.ZP.div.withConfig({displayName:"SmallNameInitialsContainer"})(["width:100%;height:100%;display:flex;align-items:center;justify-content:center;background-color:",";"],function(e){return e.theme.nameInitials.backgroundColor}),nZ=R.ZP.span.withConfig({displayName:"SmallNameInitials"})(["font-size:1.8rem;font-weight:500;line-height:2;"]);let nL=function(e){var t=e.nameInitials,r=e.isSmall;return void 0!==r&&r?(0,Z.jsx)(nN,{children:(0,Z.jsx)(nZ,{children:t})}):(0,Z.jsx)(nA,{children:(0,Z.jsx)(nM,{children:t})})},nT=function(e){var t=e.userId,r=tE(e.user),n=r.fullName,o=r.nameInitials,i=tp(r.photoUrl),a=i.imageSrc,l=i.handleImageLoad,c=eu().isLargeScreen;return(0,Z.jsx)(nS,{$isLargeScreen:c,to:"/profile/".concat(t),children:(0,Z.jsxs)(nP,{children:[(0,Z.jsx)(nk,{children:a?(0,Z.jsx)(nv,{src:a,alt:"User profile photo",onLoad:l}):(0,Z.jsx)(nL,{nameInitials:o,isSmall:!0})}),(0,Z.jsxs)(nO,{children:[(0,Z.jsx)(nI,{children:n}),(0,Z.jsx)(nE,{children:"Last seen recently"})]})]})})};var nD=R.ZP.div.withConfig({displayName:"TextMessageStyled"})(["position:relative;",""],function(e){return e.$isOutgoing?(0,R.iv)(["padding:0.3rem 0.5rem 0.4rem 0.9rem;"]):(0,R.iv)(["padding:0.3rem 0.95rem 0.3rem 0.75rem;"])}),nU=R.ZP.span.withConfig({displayName:"Content"})(["font-size:1.032rem;font-weight:500;line-height:1.35;color:inherit;"]),nB=R.ZP.div.withConfig({displayName:"TextMsgMetaContainer"})(["padding:0 0.4rem 0.4rem 0;"]),nF=(0,R.ZP)(nB).withConfig({displayName:"HiddenMeta"})(["display:inline;visibility:hidden;"]),nR=(0,R.ZP)(nB).withConfig({displayName:"VisibleMeta"})(["position:absolute;right:0;bottom:0;display:flex;"]),nz=R.ZP.div.withConfig({displayName:"MessageMetaStyled"})(["background:transparent;display:inherit;align-items:center;"]),n$=R.ZP.span.withConfig({displayName:"Time"})(["margin-right:0.1rem;line-height:1;font-size:0.7rem;font-weight:600;color:",";"],function(e){return e.theme.text.description.color}),nW=R.ZP.div.withConfig({displayName:"TickIconContainer"})(["display:inline-block;width:1.15rem;"]),n_=R.ZP.span.withConfig({displayName:"ProgressText"})(["font-size:0.85rem;font-weight:400;"]);let nV=function(e){var t=e.isOutgoing,r=e.status,n=e.time;return(0,Z.jsx)(nz,{onContextMenu:function(e){return e.stopPropagation()},children:r?(0,Z.jsx)(n_,{children:r}):(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(n$,{children:n}),t&&(0,Z.jsx)(nW,{children:(0,Z.jsx)(rF,{})})]})})},nH=function(e){var t=e.enrichedMessage,r=t.content,n=t.isOutgoing,o=t.status,i=t.time;return(0,Z.jsxs)(nD,{$isOutgoing:n,children:[(0,Z.jsx)(nU,{children:r}),(0,Z.jsx)(nF,{children:(0,Z.jsx)(nV,{isOutgoing:n,status:o,time:i})}),(0,Z.jsx)(nR,{children:(0,Z.jsx)(nV,{isOutgoing:n,status:o,time:i})})]})};var nG=R.ZP.div.withConfig({displayName:"PhotoMessageStyled"})(["position:relative;max-width:13rem;border-color:inherit;"]),nX=R.ZP.img.withConfig({displayName:"PhotoImg"})(["min-height:7rem;max-width:100%;border:2px solid;border-color:inherit;border-radius:13px;"]),nq=R.ZP.div.withConfig({displayName:"PhotoMetaContainer"})(["position:absolute;right:0.1rem;bottom:0.1rem;padding:0.2rem 0.6rem;display:flex;background:rgb(0 0 0 / 52%);border-radius:7px;"]),nY=R.ZP.div.withConfig({displayName:"ContextMenuOverlay"})(["position:fixed;z-index:500;top:0;left:0;right:0;bottom:0;background:transparent;cursor:default;"]),nK=R.ZP.ul.withConfig({displayName:"ContextMenuStyled"})(["position:fixed;min-width:200px;padding:0;border-radius:7px;background-color:",";"],function(e){var t;return null==(t=e.theme.backgroundColors)?void 0:t.bright}),nJ=R.ZP.li.withConfig({displayName:"MenuItemStyled"})(["display:flex;align-items:center;padding:15px 15px;cursor:pointer;border-radius:7px;background-color:inherit;transition:background-color 0.15s ease;color:",";&:hover{background:",";}"],function(e){var t;return null==(t=e.theme.textColors)?void 0:t.normal},function(e){var t;return null==(t=e.theme.backgroundColors)?void 0:t.veryBright}),nQ=R.ZP.div.withConfig({displayName:"MenuItemIconContainer"})(["width:1.25rem;margin-right:0.95rem;color:inherit;background:inherit;"]),n0=R.ZP.label.withConfig({displayName:"MenuItemLabel"})(["display:block;font-size:0.9rem;font-weight:500;color:inherit;"]);let n1=function(e){var t=e.icon,r=e.label,n=e.onClick;return(0,Z.jsxs)(nJ,{role:"menuitem",onClick:n,children:[(0,Z.jsx)(nQ,{children:t}),(0,Z.jsx)(n0,{children:r})]})};function n2(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function n4(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw n}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return n2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n2(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}let n3=function(){var e=n4((0,T.useState)(!1),2),t=e[0],r=e[1],n=n4((0,T.useState)({x:0,y:0}),2),o=n[0],i=n[1],a=(0,T.useRef)(null),l=(0,T.useCallback)(function(){return r(!1)},[]),c=(0,T.useCallback)(function(e){e.stopPropagation(),e.preventDefault();var t=e.currentTarget.getBoundingClientRect();e.clientX>t.left&&e.clientX<t.right&&e.clientY>t.top&&e.clientY<t.bottom?(i({x:e.clientX,y:e.clientY}),r(!0)):r(!1)},[]),u=(0,T.useRef)(!1),s=(0,T.useCallback)(function(e){var t=e.currentTarget.getBoundingClientRect();u.current=!0,i({x:t.right,y:t.top}),r(!0)},[]);return(0,T.useLayoutEffect)(function(){if(!u.current&&t&&a.current){var e=a.current.getBoundingClientRect();i(function(t){var r=t.x,n=t.y;return e.right>window.innerWidth&&(r=window.innerWidth-e.width-10),e.bottom>window.innerHeight&&(n=window.innerHeight-e.height-10),{x:r,y:n}})}},[t,o.x,o.y]),(0,T.useLayoutEffect)(function(){if(t&&u.current&&a.current){var e=a.current.getBoundingClientRect();u.current=!1,i(function(t){return{x:t.x-e.width,y:t.y}})}},[t]),(0,T.useEffect)(function(){return window.addEventListener("resize",l),document.addEventListener("wheel",l),function(){window.removeEventListener("resize",l),document.removeEventListener("wheel",l)}},[l]),{isContextMenuVisible:t,onContextMenu:c,onMoreButtonClick:s,contextMenuControlProps:{menuRef:a,menuStyles:(0,T.useMemo)(function(){return{left:"".concat(o.x,"px"),top:"".concat(o.y,"px")}},[o.x,o.y]),closeMenu:l}}},n5=function(e){var t=e.menuItems,r=e.controlProps,n=r.closeMenu,o=r.menuRef,i=r.menuStyles,a=(0,T.useCallback)(function(e){n(),e()},[n]),l=(0,T.useMemo)(function(){return t.map(function(e,t){return(0,Z.jsx)(n1,{icon:e.icon,label:e.label,onClick:function(){return a(e.action)}},"".concat(e.label,"-").concat(t))})},[t,a]);return(0,Z.jsx)(nY,{onClick:function(e){e.target===e.currentTarget&&n()},children:(0,Z.jsx)(nK,{ref:o,role:"menu",onContextMenu:function(e){return e.stopPropagation()},style:i,children:l})})};function n6(e){var t=new Date(e),r=t.getHours(),n=t.getMinutes().toString().padStart(2,"0"),o=r>=12?"PM":"AM";return r%=12,r=0===r?12:r,"".concat(r,":").concat(n," ").concat(o)}function n8(e){return e.split(".").pop()}var n7=["jpg","jpeg","png","gif","bmp","tiff","tif","webp","svg","ico","heif","heic","apng","avif","jp2","j2k","hdr"],n9=["mp3","wav","ogg","aac","flac","aiff","aif","wma","m4a","opus"],oe=["mp4","webm","ogv","avi","mov","flv","wmv","mkv"];function ot(e){return!!e&&n7.includes(e.toLowerCase())}let or=function(e){var t=(0,H.v9)(function(e){return e.messages}),r=e.senderId,n=e.receiverId,o=(0,T.useMemo)(function(){return t.filter(function(e){return ot(e.fileExtension)&&(e.senderId===r&&e.receiverId===n||e.senderId===n&&e.receiverId===r)})},[t,r,n]),i=(0,T.useMemo)(function(){for(var t=0;t<o.length;t++)if(o[t].id===e.id)return t},[o,e]);return{photos:o,targetIndex:i}};var on=R.ZP.div.withConfig({displayName:"PhotoViewerModal"})(["position:fixed;top:0;left:0;right:0;bottom:0;z-index:150;display:flex;overflow:hidden;background:rgb(0 0 0 / 86%);"]),oo=R.ZP.div.withConfig({displayName:"ProgressContainer"})(["position:absolute;top:0;left:0;right:0;bottom:0;z-index:4;display:flex;justify-content:center;align-items:center;background-color:#0000007a;"]),oi=R.ZP.p.withConfig({displayName:"ProgressText"})(["color:#ffffff;font-size:1.2rem;"]);function oa(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function ol(e,t,r,n,o,i,a){try{var l=e[i](a),c=l.value}catch(e){r(e);return}l.done?t(c):Promise.resolve(c).then(n,o)}function oc(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){ol(i,n,o,a,l,"next",e)}function l(e){ol(i,n,o,a,l,"throw",e)}a(void 0)})}}function ou(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw n}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return oa(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oa(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function os(e,t){var r,n,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(c){var u=[l,c];if(r)throw TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(i=0)),i;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,n=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}}let of=function(e,t){var r=el(),n=r.post,o=r.put,i=r.del,a=(0,H.I0)(),l=(0,T.useCallback)(function(e,r){return oc(function(){var o,i,l,c,u,s,f,d,h,p,m;return os(this,function(y){switch(y.label){case 0:return o=e.receiverId,i=e.content,l=e.isFile,c=e.file,u=e.caption,s=l?"/messages/file":"/messages",l?((f=new FormData).append("receiverId","".concat(o)),u&&f.append("caption",u),c&&f.append("messageFile",c)):f={receiverId:o,content:i},[4,new Promise(function(e){return setTimeout(e,1e3)})];case 1:return y.sent(),[4,n(s,f)];case 2:return h=(d=y.sent()).success,p=d.data,m=d.message,h?a(eq(p)):console.error(m),t(r),[2]}})})()},[n,t,a]),c=(0,T.useCallback)(function(e,r){var n=e.id,i=e.content;return oc(function(){var e,l,c,u,s;return os(this,function(f){switch(f.label){case 0:return e={id:n,content:i},[4,new Promise(function(e){return setTimeout(e,1e3)})];case 1:return f.sent(),[4,o("/messages",e)];case 2:return c=(l=f.sent()).success,u=l.data,s=l.message,c?a(eY(u)):console.error(s),t(r),[2]}})})()},[o,t,a]),u=(0,T.useCallback)(function(e,r){var n=e.id,o=e.deleteForReceiver;return oc(function(){var e,l,c,u;return os(this,function(s){switch(s.label){case 0:return e=o?"?deleteForReceiver=true":"",[4,new Promise(function(e){return setTimeout(e,1e3)})];case 1:return s.sent(),[4,i("/messages/".concat(n).concat(e))];case 2:return c=(l=s.sent()).success,u=l.message,c?a(eK(n)):console.error(u),t(r),[2]}})})()},[i,t,a]),s=ou((0,T.useState)(!1),2),f=s[0],d=s[1],h=(0,T.useCallback)(function(e){return oc(function(){return os(this,function(t){switch(t.label){case 0:if(f)return[2];switch(d(!0),e.type){case"send":return[3,1];case"update":return[3,3];case"delete":return[3,5]}return[3,7];case 1:return[4,l(e.payload,e.id)];case 2:case 4:case 6:return t.sent(),[3,7];case 3:return[4,c(e.payload,e.id)];case 5:return[4,u(e.payload,e.id)];case 7:return d(!1),[2]}})})()},[u,f,l,c]);(0,T.useEffect)(function(){var t=ou(e,1)[0];t&&!f&&h(t)},[f,h,e])};function od(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function oh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw n}}return i}}(e,t)||op(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function op(e,t){if(e){if("string"==typeof e)return od(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return od(e,t)}}var om=(0,T.createContext)(null);let oy=function(){var e=(0,T.useRef)(1),t=(0,T.useRef)(-1),r=tR(function(e){var t;return null==e||null==(t=e.account)?void 0:t.id}),n=oh((0,T.useState)([]),2),o=n[0],i=n[1],a=(0,T.useCallback)(function(e){i(function(t){return((function(e){if(Array.isArray(e))return od(e)})(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||op(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).concat([e])})},[]),l=(0,T.useCallback)(function(e){i(function(t){return t.filter(function(t){return t.id!==e})})},[]),c=(0,T.useCallback)(function(n,o){a({id:e.current++,type:"send",payload:{isPending:!0,id:t.current--,senderId:r,receiverId:n,content:o}})},[a,r]),u=(0,T.useCallback)(function(n,o,i){a({id:e.current++,type:"send",payload:{isPending:!0,id:t.current--,senderId:r,receiverId:n,isFile:!0,file:o,fileName:o.name,fileExtension:n8(o.name),fileSize:o.size,caption:i}})},[a,r]),s=(0,T.useCallback)(function(t,r){a({id:e.current++,type:"update",payload:{id:t,content:r}})},[a]),f=(0,T.useCallback)(function(t,r){a({id:e.current++,type:"delete",payload:{id:t,deleteForReceiver:r}})},[a]),d=(0,T.useCallback)(function(e){var t=oh(o.filter(function(t){return t.payload.id===e}),1)[0];if(!t)return null;switch(t.type){case"send":return"sending";case"update":return"updating";case"delete":return"deleting"}},[o]),h=(0,T.useCallback)(function(e){var t=oh(o.filter(function(t){return t.payload.id===e}),1)[0];return t&&"update"===t.type?t.payload.content:null},[o]),p=(0,T.useMemo)(function(){return o.filter(function(e){return"send"===e.type}).map(function(e){return e.payload})},[o]);return of(o,l),{pendingMessages:p,sendTextMessage:c,sendFileMessage:u,updateMessage:s,deleteMessage:f,getMessageStatus:d,getUpdatingMessageNewContent:h}};var og=(0,T.createContext)(null);let ob=function(){var e=(0,T.useContext)(og);if(!e)throw Error("Invalid chat context!");return e};function ov(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}let ow=function(e){var t,r,n,o=tR(function(e){var t;return null==(t=e.account)?void 0:t.id}),i=e.senderId===o,a=i?e.receiverId:e.senderId,l=(t=(0,T.useMemo)(function(){var t,r,n,o,i,a;return e.createdAt?[n6(e.createdAt),(r=n6(t=e.createdAt),o=(n=new Date(t)).getDate(),i=n.getMonth()+1,a=n.getFullYear(),"".concat(o,"/").concat(i,"/").concat(a," at ").concat(r))]:["",""]},[e.createdAt]),function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(i.push(r.value),i.length!==t);a=!0);}catch(e){l=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw n}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return ov(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ov(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=l[0],u=l[1],s=(0,T.useContext)(om);if(!s)throw Error("Invalid MRSContext");var f=s.getMessageStatus,d=s.getUpdatingMessageNewContent,h=s.deleteMessage,p=(0,T.useMemo)(function(){switch(f(e.id)){case"sending":return e.isFile?"Uploading...":"Sending...";case"updating":return"Updating...";case"deleting":return"Deleting..."}},[f,e.id,e.isFile]),m=(0,T.useMemo)(function(){return d(e.id)||e.content},[d,e.content,e.id]),y=(0,T.useCallback)(function(){var t=!(arguments.length>0)||void 0===arguments[0]||arguments[0];h(e.id,t)},[h,e.id]),g=tn(),b=(0,T.useCallback)(function(){e.isFile&&g("/messages/file-download/".concat(e.id),"".concat(e.id),"".concat(e.fileExtension))},[e,g]),v=(0,T.useMemo)(function(){return"/messages/file/".concat(e.id)},[e.id]),w=ob(),x=w.editMessage,j=w.replyMessage,C=(0,T.useCallback)(function(){e.createdAt&&x(e)},[x,e]),P=(0,T.useCallback)(function(){e.createdAt&&j(e)},[j,e]),k=(0,T.useMemo)(function(){var t,r;return e.isFile?ot(e.fileExtension)?"photo":(t=e.fileExtension)&&oe.includes(t.toLowerCase())?"video":(r=e.fileExtension)&&n9.includes(r.toLowerCase())?"audio":"file":"text"},[e.fileExtension,e.isFile]);return r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n})}return e}({},e),n=n={type:k,content:m,isOutgoing:i,conversationPartnerId:a,status:p,time:c,dateTime:u,fileUrl:v,deleteMessage:y,downloadFile:b,edit:C,reply:P},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(n)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(n,e))}),r};var ox=R.ZP.div.withConfig({displayName:"SpinnerPage"})(["position:fixed;z-index:400;top:0;left:0;right:0;bottom:0;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,0.35);"]),oj=R.ZP.div.withConfig({displayName:"SpinnerContainer"})(["width:160px;height:160px;display:flex;justify-content:center;align-items:center;background:#272d43;border-radius:25px;"]),oC=(0,R.F4)(["",""],(0,R.iv)(["0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}"])),oP=R.ZP.canvas.withConfig({displayName:"SpinnerCanvas"})(["animation:1s linear infinite ",";"],oC);function ok(){return(0,Z.jsx)(ox,{children:(0,Z.jsx)(oj,{children:(0,Z.jsx)(oP,{ref:function(e){if(e){var t=e.getContext("2d");t.clearRect(0,0,120,120),t.lineWidth=4,t.lineCap="round",t.strokeStyle="#6c868f",t.beginPath(),t.arc(60,60,35,0,1.7*Math.PI),t.stroke()}},width:"120",height:"120"})})})}var oS=(0,R.F4)(["",""],(0,R.iv)(["0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}"])),oO=R.ZP.div.withConfig({displayName:"StyledSpinner"})(["position:absolute;top:calc(50% - 25px);left:calc(50% - 25px);z-index:10;width:50px;height:50px;background:#000000;opacity:0.7;border-radius:100px;display:flex;align-items:center;padding:5px;animation-name:",";animation-iteration-count:infinite;animation-duration:2s;animation-delay:0s;animation-timing-function:linear;"],oS),oI=R.ZP.span.withConfig({displayName:"Ball"})(["display:block;width:5px;height:8px;background:white;border-radius:5px;opacity:1;"]);let oE=function(){return(0,Z.jsx)(oO,{children:(0,Z.jsx)(oI,{})})};var oA=R.ZP.img.withConfig({displayName:"FlexibleImageStyled"})(["border-radius:inherit;margin:auto;width:100%;height:100%;object-fit:contain;cursor:pointer;filter:",";&:focus{outline-style:none;border:none;}"],function(e){return e.$isBlur?"blur(15px)":"none"});let oM=function(e){var t=e.isPhotoNavTarget,r=void 0!==t&&t,n=e.isBlur,o=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["isPhotoNavTarget","isBlur"]),i={};(o.onClick||r)&&(i.role="button",i.tabIndex=0),r&&(i["data-is-photo-nav-target"]="true");var a=(0,T.useRef)(null);return(0,T.useEffect)(function(){r&&a.current&&a.current.focus()},[r]),(0,Z.jsx)(oA,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n})}return e}({ref:a,$isBlur:void 0!==n&&n},i,o))},oN=function(e){var t=e.photo,r=e.onClose,n=n3(),o=n.isContextMenuVisible,i=n.onMoreButtonClick,a=n.contextMenuControlProps,l=or(t),c=l.photos,u=l.targetIndex,s=c.length,f=tv(s,u),d=f.currentIndex,h=f.handleNext,p=f.handlePrevious,m=f.photoIndexIndicator,y=ow(c[d]),g=y.isSentMessage,b=y.messagePartnerId,v=y.dateTime,w=y.fileUrl,x=y.isDoingRequest,j=y.deleteMessage,C=y.downloadFile,P=tp(w),k=P.isImageFetching,S=P.isImageLoading,O=P.imageSrc,I=P.handleImageLoad,E=function(){return console.error("Reply not implemented")},A=(0,T.useMemo)(function(){return[{icon:(0,Z.jsx)(rw,{}),label:"Reply",action:E},{icon:(0,Z.jsx)(ro,{}),label:"Save",action:C},{icon:(0,Z.jsx)(rr,{}),label:"Delete",action:j}]},[E,C,j]),M=tE(b).fullName,N=X().fullName;return(0,Z.jsxs)(on,{"aria-modal":"true","aria-label":"Photo Viewer",children:[(0,Z.jsxs)(np,{children:[(0,Z.jsx)(nt,{"aria-label":"Back",onClick:r}),s>1&&(0,Z.jsx)(nm,{children:m}),A.length>0&&(0,Z.jsx)(nn,{"aria-label":"Options",onClick:i})]}),k&&(0,Z.jsx)(oE,{}),O?(0,Z.jsx)(oM,{src:O,onLoad:I,alt:"Photo",isBlur:k||S,isPhotoNavTarget:!0,onClick:r}):(0,Z.jsx)(oo,{children:(0,Z.jsx)(oi,{children:"Loading photo..."})}),s>1&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(nC,{onClick:p}),(0,Z.jsx)(nx,{onClick:h})]}),v&&(0,Z.jsxs)(ny,{children:[(0,Z.jsx)(ng,{children:g?N:M}),(0,Z.jsx)(ng,{children:v})]}),x&&(0,Z.jsx)(ok,{}),o&&(0,Z.jsx)(n5,{menuItems:A,controlProps:a})]})};function oZ(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}let oL=function(e){var t,r=e.enrichedMessage,n=r.fileUrl,o=r.isOutgoing,i=r.status,a=r.time,l=(t=(0,T.useState)(!1),function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(i.push(r.value),i.length!==t);a=!0);}catch(e){l=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw n}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return oZ(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oZ(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=l[0],u=l[1],s=tp(n),f=s.imageSrc,d=s.handleImageLoad,h=ts(r.file),p=h.imageSrc,m=h.handleImageLoad,y=r.file?p:f,g=r.file?m:d;return(0,Z.jsxs)(nG,{children:[y&&(0,Z.jsx)(nX,{src:y,alt:"Photo",onLoad:g,onClick:function(){return u(!0)}}),(0,Z.jsx)(nq,{children:(0,Z.jsx)(nV,{isOutgoing:o,status:i,time:a})}),c&&(0,Z.jsx)(oN,{photo:r,onClose:function(){return u(!1)}})]})};var oT=R.ZP.div.withConfig({displayName:"VideoMessageStyled"})(["position:relative;max-width:13rem;border-color:inherit;"]),oD=R.ZP.video.withConfig({displayName:"VideoTagStyled"})(["max-width:100%;border-radius:14px;border:2px solid;border-color:inherit;"]),oU=R.ZP.div.withConfig({displayName:"VideoMetaContainer"})(["position:absolute;right:0.2rem;bottom:0.3rem;padding:0.2rem 0.7rem;display:flex;background:rgb(0 0 0 / 79%);border-radius:8px;"]);let oB=function(e){var t=e.enrichedMessage,r=t.isSentMessage,n=t.status,o=t.fileUrl,i=t.time;return(0,Z.jsxs)(oT,{children:[(0,Z.jsxs)(oD,{controls:!0,width:"250",children:[(0,Z.jsx)("source",{src:o,type:"video/mp4"}),"Sorry, your browser doesnot support embedded video"]}),(0,Z.jsx)(oU,{children:(0,Z.jsx)(nV,{isOutgoing:r,status:n,time:i})})]})};var oF=R.ZP.button.withConfig({displayName:"PlaybackControlButtonStyled"})(["width:2.5rem;height:2.5rem;padding:0.65rem;align-self:center;border-radius:40px;background:#2f43b1;color:#d1d1d1;"]);let oR=function(e){var t=e.isPlaying,r=e.onClick;return(0,Z.jsx)(oF,{type:"button",onClick:r,children:t?(0,Z.jsx)(rL,{}):(0,Z.jsx)(rD,{})})};var oz=R.ZP.button.withConfig({displayName:"MoreButtonStyled"})(["align-self:flex-start;width:2rem;height:2rem;padding:0.45rem;color:#ffffff;"]);let o$=function(e){var t=e.onClick;return(0,Z.jsx)(oz,{onClick:t,children:(0,Z.jsx)(rd,{})})};var oW=R.ZP.div.withConfig({displayName:"AudioMessageStyled"})(["position:relative;display:flex;flex-direction:column;"]),o_=R.ZP.div.withConfig({displayName:"MainSection"})(["display:flex;"]),oV=R.ZP.div.withConfig({displayName:"ControlArea"})(["margin:1rem 0rem 0rem 1rem;display:flex;"]),oH=R.ZP.div.withConfig({displayName:"AudioMetaContainer"})(["display:flex;justify-content:flex-end;padding:0rem 0.4rem 0.4rem 0rem;"]),oG=R.ZP.div.withConfig({displayName:"PlaybackTimeSliderContainer"})(["width:12rem;align-self:center;padding:0 1rem;"]),oX=R.ZP.span.withConfig({displayName:"PlaybackTime"})(["display:block;font-size:0.9rem;font-weight:400;color:#d2d8dd;background:inherit;"]),oq=R.ZP.div.withConfig({displayName:"MoreButtonContainer"})(["margin-top:0.3rem;display:flex;"]),oY=function(e){var t=Math.floor(e/3600),r=Math.floor(e%3600/60);return e=(e=Math.floor(e%3600%60))<10?"0".concat(e):"".concat(e),"".concat(t?"".concat(t,":"):"").concat(r,":").concat(e)};function oK(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function oJ(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw n}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return oK(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oK(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}let oQ=function(){var e=(0,T.useRef)(null),t=oJ((0,T.useState)(!1),2),r=t[0],n=t[1],o=oJ((0,T.useState)(0),2),i=o[0],a=o[1],l=oJ((0,T.useState)(0),2),c=l[0],u=l[1],s=(0,T.useCallback)(function(){var t=e.current;t&&a(t.duration)},[]),f=(0,T.useCallback)(function(){var t=e.current;if(t)try{r?t.pause():t.play(),n(!r)}catch(e){console.error(e)}},[r]),d=(0,T.useCallback)(function(){var t=e.current;t&&u(Math.floor(t.currentTime))},[]),h=(0,T.useCallback)(function(){u(0),n(!1)},[]),p=(0,T.useCallback)(function(t){var r=e.current;r&&(r.currentTime=r.duration*(t/100))},[]);return{audioElementRef:e,isPlaying:r,handleLoadedMetadata:s,handleTimeUpdate:d,handlePlaybackEnded:h,timePercentage:(0,T.useMemo)(function(){return c/i*100},[c,i]),setTimePercentage:p,togglePlayback:f,playbackTime:(0,T.useMemo)(function(){return"".concat(oY(c)," / ").concat(oY(i))},[c,i])}};var o0=R.ZP.div.withConfig({displayName:"PlaybackTimeSliderStyled"})(["position:relative;height:1.2rem;display:flex;user-select:none;"]),o1=R.ZP.div.withConfig({displayName:"SliderTrack"})(["align-self:center;flex-grow:5;display:flex;background-color:#4b4876;user-select:none;border-radius:100px;"]),o2=R.ZP.div.withConfig({displayName:"SliderProgress"})(["position:relative;width:0%;height:0.3rem;align-self:center;border-radius:inherit;background-color:#2b45d0;"]),o4=R.ZP.div.withConfig({displayName:"SliderThumb"})(["position:absolute;top:-0.35rem;right:-0.5rem;width:1rem;height:1rem;border-radius:50%;user-select:none;cursor:pointer;background-color:#bfc8cb;"]);let o3=function(e){var t=e.timePercentage,r=e.onTimePercentageUpdate,n=(0,T.useRef)(!1),o=(0,T.useRef)(null),i=(0,T.useCallback)(function(){n.current=!0},[]),a=(0,T.useCallback)(function(e){if(n.current&&o.current){var t=o.current.getBoundingClientRect();e>t.left&&e<t.right&&r((e-t.left)/t.width*100),e<=t.left&&r(0),e>=t.right&&r(100)}},[r]),l=(0,T.useCallback)(function(e){if(!n.current&&o.current){var t=o.current.getBoundingClientRect();r((e.clientX-t.left)/t.width*100)}},[r]),c=(0,T.useCallback)(function(){n.current=!1},[]);(0,T.useEffect)(function(){var e=function(e){return a(e.clientX)},t=function(e){return a(e.touches[0].clientX)};return document.addEventListener("mousemove",e),document.addEventListener("touchmove",t),document.addEventListener("mouseup",c),document.addEventListener("touchend",c),function(){document.removeEventListener("mousemove",e),document.removeEventListener("touchmove",t),document.removeEventListener("mouseup",c),document.removeEventListener("touchend",c)}},[c,a]);var u=(0,T.useMemo)(function(){return{width:"".concat(t,"%")}},[t]);return(0,Z.jsx)(o0,{role:"slider","aria-label":"Audio playback time slider track","aria-valuenow":t,"aria-valuemin":0,"aria-valuemax":100,onWheel:function(){},draggable:"false",onClick:l,children:(0,Z.jsx)(o1,{draggable:"false",ref:o,children:(0,Z.jsx)(o2,{draggable:"false",style:u,children:(0,Z.jsx)(o4,{"aria-label":"Slider thumb",draggable:"false",onMouseDown:i,onTouchStart:i})})})})},o5=function(e){var t=e.enrichedMessage,r=e.onMoreButtonClick,n=t.isOutgoing,o=t.status,i=t.fileUrl,a=t.time,l=oQ(),c=l.audioElementRef,u=l.isPlaying,s=l.handleLoadedMetadata,f=l.handleTimeUpdate,d=l.handlePlaybackEnded,h=l.timePercentage,p=l.setTimePercentage,m=l.togglePlayback,y=l.playbackTime;return(0,Z.jsxs)(oW,{children:[(0,Z.jsxs)(o_,{children:[(0,Z.jsx)("audio",{ref:c,onTimeUpdate:f,onEnded:d,onLoadedMetadata:s,children:(0,Z.jsx)("source",{src:i,type:"audio/mp3"})}),(0,Z.jsxs)(oV,{children:[(0,Z.jsx)(oR,{isPlaying:u,onClick:m}),(0,Z.jsxs)(oG,{children:[(0,Z.jsx)(o3,{timePercentage:h,onTimePercentageUpdate:p}),(0,Z.jsx)(oX,{children:y})]})]}),(0,Z.jsx)(oq,{children:(0,Z.jsx)(o$,{onClick:r})})]}),(0,Z.jsx)(oH,{children:(0,Z.jsx)(nV,{isOutgoing:n,status:o,time:a})})]})};var o6=R.ZP.div.withConfig({displayName:"FileMessageStyled"})(["position:relative;padding:0.7rem 0.4rem 0.1rem 0.7rem;"]),o8=R.ZP.div.withConfig({displayName:"MainContainer"})(["display:flex;"]),o7=R.ZP.div.withConfig({displayName:"FileInfoContainer"})(["padding:0 0.7rem;align-self:center;line-height:1.2;"]),o9=R.ZP.div.withConfig({displayName:"MoreButtonContainer"})(["display:flex;"]),ie=R.ZP.span.withConfig({displayName:"FileExtension"})(["font-size:0.8rem;font-weight:400;color:#d8d8d8;text-transform:uppercase;"]),it=R.ZP.span.withConfig({displayName:"FileName"})(["display:block;font-size:0.85rem;font-weight:500;color:#bdc2c6;"]),ir=R.ZP.span.withConfig({displayName:"FileSize"})(["font-size:0.85rem;font-weight:400;color:#bdc2c6;margin-right:0.6rem;"]),io=R.ZP.div.withConfig({displayName:"FileMetaContainer"})(["display:flex;justify-content:flex-end;align-items:center;margin-right:0.4rem;margin-bottom:0.4rem;"]);let ii=function(e){var t,r=e.enrichedMessage,n=e.onMoreButtonClick,o=r.isOutgoing,i=r.status,a=r.time;return(0,Z.jsxs)(o6,{children:[(0,Z.jsxs)(o8,{children:[(0,Z.jsx)(rc,{}),(0,Z.jsxs)(o7,{children:[(0,Z.jsx)(it,{children:r.fileName}),(0,Z.jsx)(ir,{children:(t=r.fileSize,t<1024?"".concat(t," B"):t>0x40000000?(t/=0x40000000,"".concat(t.toFixed(1)," GB")):t>1048576?(t/=1048576,"".concat(t.toFixed(1)," MB")):(t/=1024,"".concat(t.toFixed(1)," KB")))}),(0,Z.jsx)(ie,{children:r.fileExtension})]}),(0,Z.jsx)(o9,{children:(0,Z.jsx)(o$,{onClick:n})})]}),(0,Z.jsx)(io,{children:(0,Z.jsx)(nV,{isOutgoing:o,status:i,time:a})})]})};function ia(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}let il=function(e){var t,r=(t=(0,T.useState)([]),function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(i.push(r.value),i.length!==t);a=!0);}catch(e){l=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw n}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return ia(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ia(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),n=r[0],o=r[1],i=(0,T.useRef)(null),a=(0,T.useCallback)(function(){i.current&&i.current.click()},[]),l=(0,T.useCallback)(function(){var t=i.current;if(t){var r=t.files;if(r){var n=Array.from(r);o(n),e&&e(n),t.value=""}}},[e]);return{fileInputRef:i,handleFileChange:l,triggerFileSelection:a,selectedFiles:n}};var ic=R.ZP.button.withConfig({displayName:"SendButtonStyled"})(["width:2.6rem;height:2.6rem;padding:0.75rem;border-radius:50%;",""],function(e){return e.$isDisabled?(0,R.iv)(["background:",";color:",";cursor:not-allowed;"],e.theme.backgroundColors.veryBright,e.theme.disabledIconButton.color):(0,R.iv)(["background-color:",";color:",";&:hover{background:",";}"],e.theme.backgroundColors.button,e.theme.iconButton.color,e.theme.backgroundColors.buttonHover)});let iu=function(e){var t=e.onClick,r=e.isDisabled,n=void 0!==r&&r;return(0,Z.jsx)(ic,{type:"button","aria-label":"Send",disabled:n,$isDisabled:n,onClick:t,children:(0,Z.jsx)(rP,{})})};var is=R.ZP.div.withConfig({displayName:"FileMessageInputTailStyled"})(["position:absolute;right:-10px;bottom:0;width:10px;display:flex;"]),id=R.ZP.svg.withConfig({displayName:"TailSvg"})(["width:100%;height:auto;align-self:flex-end;"]),ih=R.ZP.path.withConfig({displayName:"TailShape"})(["d:path('M0 0 C0 0 0 14 14 20 L14 24 L0 24 L0 0');fill:#1c2030;stroke-width:0px;"]);function ip(){return(0,Z.jsx)(is,{children:(0,Z.jsx)(id,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:(0,Z.jsx)(ih,{d:"M5 13l4 4L19 7",fill:"none",stroke:"green",strokeWidth:"2"})})})}var im=R.ZP.div.withConfig({displayName:"FileSelectorModal"})(["position:absolute;left:0;right:0;bottom:0;padding:0 1rem;border-radius:10px;border-bottom-right-radius:0;background:#1c2130;cursor:default;"]),iy=R.ZP.div.withConfig({displayName:"FilesContainer"})(["height:55vh;overflow-y:auto;padding:2rem 0;display:flex;flex-wrap:wrap;align-items:center;justify-content:center;border-radius:5px;background-color:#0b0d14;&::-webkit-scrollbar{background:inherit;width:5px;}&::-webkit-scrollbar-thumb{background:#3d455c;border-radius:30px;}"]),ig=R.ZP.div.withConfig({displayName:"ModalHeader"})(["padding:0.5rem 0;display:flex;justify-content:space-between;align-items:center;"]),ib=R.ZP.h1.withConfig({displayName:"ModalTitle"})(["font-size:1.5rem;color:white;"]),iv=R.ZP.div.withConfig({displayName:"ModalFooter"})(["padding:0.5rem 0;display:flex;justify-content:space-between;align-items:center;"]),iw=R.ZP.div.withConfig({displayName:"ActionButtonsContainer"})(["display:flex;justify-content:space-between;align-items:center;"]),ix=R.ZP.h3.withConfig({displayName:"FilesCount"})(["font-size:1.1rem;color:#ffffff;"]),ij=R.ZP.div.withConfig({displayName:"ImageFileStyled"})(["position:relative;margin:0.2rem;border:2px solid #43136d;border-radius:6px;min-width:10rem;min-height:10rem;"]),iC=R.ZP.img.withConfig({displayName:"ImageStyled"})(["max-width:18rem;max-height:18rem;cursor:pointer;"]),iP=R.ZP.input.withConfig({displayName:"CaptionInput"})(["position:absolute;bottom:0px;left:0px;right:0px;display:block;padding:0.1rem 0.4rem;line-height:1;font-size:1rem;background-color:#16244fb0;color:#ffffff;&::placeholder{color:rgb(198,208,216);}"]),ik=R.ZP.div.withConfig({displayName:"ProgressTextContainer"})(["position:absolute;top:0;left:0;right:0;bottom:0;display:flex;background-color:#00000080;"]),iS=R.ZP.p.withConfig({displayName:"ProgressText"})(["margin:auto;font-size:1rem;color:#e4e4e4;"]),iO=R.ZP.button.withConfig({displayName:"RemoveButtonStyled"})(["position:absolute;top:0.5rem;right:0.5rem;width:2.1rem;height:2.1rem;padding:0.65rem;border-radius:50%;transition:background-color 0.3s ease-in-out;background:",";color:",";&:hover{background:",";}"],function(e){return e.theme.iconButton.backgroundColor},function(e){return e.theme.iconButton.color},function(e){return e.theme.iconButton.hover.backgroundColor});let iI=function(e){var t=e.onClick,r=e.ariaLabel;return(0,Z.jsx)(iO,{type:"button","aria-label":void 0===r?"Remove":r,onClick:t,children:(0,Z.jsx)(re,{})})},iE=function(e){var t=e.attachment,r=e.onRemove,n=e.onCaptionChange,o=ts(t.file),i=o.imageSrc,a=o.isImageLoading,l=o.handleImageLoad,c=(0,T.useCallback)(function(){return r(t.id)},[t.id,r]),u=(0,T.useCallback)(function(e){return n(t.id,e.currentTarget.value)},[t.id,n]),s="string"==typeof t.caption?t.caption:"";return(0,Z.jsxs)(ij,{children:[(0,Z.jsx)(iI,{onClick:c}),i&&(0,Z.jsx)(Z.Fragment,{children:(0,Z.jsx)(iC,{src:i,onLoad:l,alt:"Image file"})}),a&&(0,Z.jsx)(ik,{children:(0,Z.jsx)(iS,{children:"Loading Image..."})}),(0,Z.jsx)(iP,{type:"text",value:s,onInput:u,placeholder:"Add a caption..."})]})};var iA=R.ZP.div.withConfig({displayName:"OrdinaryFileStyled"})(["position:relative;width:12rem;height:12rem;border:2px solid #43136d;border-radius:5px;background:inherit;display:flex;flex-direction:column;justify-content:center;align-items:center;"]),iM=R.ZP.div.withConfig({displayName:"IconWrapper"})(["cursor:pointer;width:3rem;height:3rem;"]),iN=R.ZP.p.withConfig({displayName:"FileName"})(["text-align:center;font-size:1rem;"]);let iZ=function(e){var t=e.attachment,r=e.onRemove,n=(0,T.useCallback)(function(){return r(t.id)},[t.id,r]);return(0,Z.jsxs)(iA,{children:[(0,Z.jsx)(iI,{onClick:n}),(0,Z.jsx)(iM,{children:(0,Z.jsx)(rc,{})}),(0,Z.jsx)(iN,{children:t.displayName})]})};function iL(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function iT(e){return function(e){if(Array.isArray(e))return iL(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||iD(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function iD(e,t){if(e){if("string"==typeof e)return iL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iL(e,t)}}let iU=function(e,t,r){var n,o=(0,T.useRef)(1),i=(0,T.useCallback)(function(e){return{id:o.current++,file:e,isImage:ot(n8(e.name)),displayName:function(e,t){if("string"!=typeof e||!e||e.length<=40)return e;var r=e.split("."),n=r.pop(),o=r.join(".");if(!n)return o.slice(0,40);var i=o.slice(o.length-3,o.length),a=t-3-3-1-n.length;return o.length<a?e.slice(0,t):"".concat(o.slice(0,a),"...").concat(i,".").concat(n)}(e.name,40)}},[]),a=(n=(0,T.useState)(function(){return e.map(i)}),function(e){if(Array.isArray(e))return e}(n)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(i.push(r.value),i.length!==t);a=!0);}catch(e){l=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw n}}return i}}(n,2)||iD(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=a[0],c=a[1],u=(0,T.useCallback)(function(e){c(iT(l).concat(iT(e.map(i))))},[l,i]),s=(0,T.useCallback)(function(e){c(function(t){return t.filter(function(t){return t.id!==e})})},[]),f=(0,T.useCallback)(function(e,t){c(function(r){return r.map(function(r){var n,o;return r.id===e?(n=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n})}return e}({},r),o=o={caption:t},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(o)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))}),n):r})})},[]),d=(0,T.useMemo)(function(){return l.length?"".concat(l.length," file").concat(l.length>1?"s":""," selected"):"0 files selected"},[l.length]),h=(0,T.useContext)(om);if(!h)throw Error("Invalid MRSContext");var p=h.sendFileMessage,m=(0,T.useCallback)(function(){l.map(function(e){p(t,e.file,e.caption)}),r()},[l,t,r,p]);return{attachments:l,selectionInfo:d,removeAttachment:s,updateAttachmentCaption:f,addFiles:u,sendAttachments:m}};var iB=R.ZP.button.withConfig({displayName:"AddButtonStyled"})(["margin-right:1rem;width:2.7rem;height:2.7rem;padding:0.7rem;border-radius:50%;transition:background-color 0.3s ease-in-out;",""],function(e){return e.$isDisabled?(0,R.iv)(["color:",";cursor:not-allowed;"],function(e){return e.theme.disabledIconButton.color}):(0,R.iv)(["color:#ffffff;&:hover{background:#28314c;}"])});let iF=function(e){var t=e.onClick,r=e.isDisabled,n=void 0!==r&&r,o=e.ariaLabel;return(0,Z.jsx)(iB,{type:"button",disabled:n,$isDisabled:n,"aria-label":void 0===o?"Add":o,onClick:t,children:(0,Z.jsx)(tY,{})})},iR=function(e){var t=e.files,r=e.chatPartnerId,n=e.onClose,o=iU(t,r,n),i=o.attachments,a=o.selectionInfo,l=o.removeAttachment,c=o.updateAttachmentCaption,u=o.addFiles,s=o.sendAttachments,f=(0,T.useMemo)(function(){return i.map(function(e){return e.isImage?(0,Z.jsx)(iE,{attachment:e,onRemove:l,onCaptionChange:c},"".concat(e.id)):(0,Z.jsx)(iZ,{attachment:e,onRemove:l},"".concat(e.id))})},[i,l,c]),d=il(u),h=d.fileInputRef,p=d.handleFileChange,m=d.triggerFileSelection;return(0,Z.jsxs)(im,{children:[(0,Z.jsxs)(ig,{children:[(0,Z.jsx)(ib,{children:"Select Files"}),(0,Z.jsx)(ni,{onClick:n})]}),(0,Z.jsx)(iy,{children:f}),(0,Z.jsxs)(iv,{children:[(0,Z.jsx)(ix,{children:a}),(0,Z.jsxs)(iw,{children:[(0,Z.jsx)(iF,{onClick:m}),(0,Z.jsx)(iu,{onClick:s,isDisabled:!i.length})]})]}),(0,Z.jsx)(ip,{}),(0,Z.jsx)("input",{type:"file",multiple:!0,style:{display:"none"},ref:h,onChange:p})]})};var iz=R.ZP.button.withConfig({displayName:"AttachFileButtonStyled"})(["margin-right:0.5rem;width:2.6rem;height:2.6rem;padding:0.55rem;border-radius:50%;transition:background-color 0.3s ease-in-out;color:#84929f;&:hover{background:#2e354f;}"]);let i$=function(e){var t=e.onClick;return(0,Z.jsx)(iz,{type:"button",onClick:t,children:(0,Z.jsx)(t2,{})})};var iW=R.ZP.div.withConfig({displayName:"MessageInputStyled"})(["position:relative;flex-grow:1;max-width:40rem;display:flex;margin-right:10px;padding:7px 10px 7px 23px;border-radius:15px;cursor:text;background-color:",";"],function(e){return e.theme.backgroundColors.textInput}),i_=R.ZP.textarea.withConfig({displayName:"GrowingTextArea"})(["flex-grow:1;align-self:center;max-height:50vh;font-size:1rem;font-weight:400;color:",";background:transparent;&::placeholder{color:",";}&::-webkit-scrollbar{display:none;}"],function(e){return e.theme.messageInput.color},function(e){return e.theme.messageInput.placeholder.color}),iV=R.ZP.div.withConfig({displayName:"ActionButtonsContainer"})(["align-self:flex-end;display:flex;"]);function iH(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function iG(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw n}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return iH(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iH(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}let iX=function(){var e=ob(),t=e.chatPartnerId,r=e.editingTextRef,n=e.onSend,o=(0,T.useRef)(null);(0,T.useEffect)(function(){var e=o.current;e&&(e.style.height="auto",e.scrollHeight>e.clientHeight&&(e.style.height="".concat(e.scrollHeight,"px")))});var i=(0,T.useCallback)(function(e){o.current&&e.target===e.currentTarget&&o.current.focus()},[]),a=iG((0,T.useState)(""),2),l=a[0],c=a[1],u=(0,T.useCallback)(function(e){return c(e.currentTarget.value)},[]);(0,T.useEffect)(function(){if(r.current){var e,t=r.current;r.current="",c(t),null==(e=o.current)||e.focus()}}),(0,T.useEffect)(function(){c("")},[t]);var s=(0,T.useCallback)(function(){c(""),n(l)},[n,l]),f=(0,T.useCallback)(function(e){"Enter"===e.key&&(e.preventDefault(),s())},[s]),d=iG((0,T.useState)(!1),2),h=d[0],p=d[1],m=il(function(){return p(!0)}),y=m.fileInputRef,g=m.handleFileChange,b=m.triggerFileSelection,v=m.selectedFiles;return(0,Z.jsxs)(iW,{onClick:i,children:[(0,Z.jsx)(i_,{rows:1,placeholder:"Message",onKeyDown:f,value:l,onInput:u,ref:o}),(0,Z.jsxs)(iV,{children:[(0,Z.jsx)(i$,{onClick:b}),(0,Z.jsx)(iu,{isDisabled:!(null==l?void 0:l.trim()),onClick:s})]}),(0,Z.jsx)("input",{type:"file",multiple:!0,style:{display:"none"},ref:y,onChange:g}),h&&(0,Z.jsx)(iR,{files:v,chatPartnerId:t,onClose:function(){return p(!1)}})]})};function iq(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function iY(e){return function(e){if(Array.isArray(e))return iq(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return iq(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iq(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}let iK=function(e){var t=tR(function(e){return e.messages}),r=(0,T.useMemo)(function(){return t.filter(function(t){return t.receiverId===e||t.senderId===e})},[e,t]),n=(0,T.useContext)(om);if(!n)throw Error("Invalid MRSContext");var o=n.pendingMessages,i=(0,T.useMemo)(function(){return o.filter(function(t){return t.receiverId===e})},[e,o]);return(0,T.useMemo)(function(){return iY(r).concat(iY(i))},[r,i])};var iJ=R.ZP.div.withConfig({displayName:"ConfirmDialogOverlay"})(["position:fixed;top:0;left:0;right:0;bottom:0;z-index:200;display:flex;justify-content:center;align-items:center;background:rgb(0 0 0 / 37%);"]),iQ=R.ZP.div.withConfig({displayName:"ConfirmDialogStyled"})(["padding:1rem;border-radius:10px;background-color:",";"],function(e){var t;return null==(t=e.theme.backgroundColors)?void 0:t.main}),i0=R.ZP.h3.withConfig({displayName:"DialogTitle"})(["margin-bottom:1.5rem;font-size:1.3rem;color:",";"],function(e){var t;return null==(t=e.theme.textColors)?void 0:t.title}),i1=R.ZP.p.withConfig({displayName:"DialogMessage"})(["margin-bottom:1.5rem;font-size:1rem;font-weight:400;color:",";"],function(e){var t;return null==(t=e.theme.textColors)?void 0:t.normal}),i2=R.ZP.div.withConfig({displayName:"DialogButtonsContainer"})(["display:flex;justify-content:right;align-items:center;"]),i4=R.ZP.button.withConfig({displayName:"ActionButton"})(["padding:0.5rem 1rem;border-radius:6px;font-size:1.16rem;line-height:1;font-weight:500;transition:background-color 0.2s ease-in-out;color:",";&:hover{background-color:",";}"],function(e){var t;return null==(t=e.theme.backgroundColors)?void 0:t.buttonHover},function(e){var t;return null==(t=e.theme.backgroundColors)?void 0:t.bright}),i3=(0,R.ZP)(i4).withConfig({displayName:"CancelButton"})(["margin-right:0.5rem;"]),i5=(0,R.ZP)(i4).withConfig({displayName:"ConfirmButton"})([""]),i6=R.ZP.div.withConfig({displayName:"CheckBoxStyled"})(["margin-bottom:1.5rem;display:flex;align-items:center;"]),i8=R.ZP.div.withConfig({displayName:"BoxContainer"})(["position:relative;width:1.4rem;height:1.4rem;margin-right:0.8rem;color:white;"]),i7=(0,R.ZP)(function(e){return T.createElement("svg",t8({xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",strokeWidth:.2,viewBox:"0 0 24 24",stroke:"currentColor"},e),u||(u=T.createElement("path",{d:"M24 4c.074-.815-.08-4.108-4-4H4C.072.14-.08 3.202 0 4v16c-.043.717.109 4.033 4 4h16c3.854.016 4.026-3.171 4-4zM2.5 21.5v-19h19v19z"})))}).withConfig({displayName:"CheckBoxIconStyled"})(["position:absolute;top:0;left:0;right:0;bottom:0;z-index:5;cursor:pointer;stroke-width:0;transition:fill 0.1s ease-in-out;",""],function(e){return e.$isChecked?(0,R.iv)(["fill:blue;"]):(0,R.iv)(["fill:currentColor;"])}),i9=(0,R.ZP)(function(e){return T.createElement("svg",t7({xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",strokeWidth:.2,viewBox:"0 0 24 24",stroke:"currentColor"},e),T.createElement("path",{d:"M2 2h20v20H2Z",style:{strokeWidth:.2}}),T.createElement("path",{d:"m5.43 13.437 4.183 4.169 9.113-9.416c.366-1.303-.58-2.116-1.758-1.752L9.58 14.071l-2.425-2.417c-1.158-.825-2.52.237-1.726 1.783z",style:{fill:"currentColor",stroke:"#fff",strokeWidth:.2}}))}).withConfig({displayName:"CheckBoxTickIconStyled"})(["position:absolute;top:0;left:0;right:0;bottom:0;stroke-width:0;fill:blue;transition:transform 0.1s ease-in;",""],function(e){return e.$isChecked?(0,R.iv)(["transform:scale(1);"]):(0,R.iv)(["transform:scale(0);"])}),ae=R.ZP.label.withConfig({displayName:"CheckBoxLabel"})(["font-size:1rem;line-height:1;cursor:pointer;color:",";"],function(e){var t;return null==(t=e.theme.textColors)?void 0:t.normal});let at=function(e){var t=e.label,r=e.isChecked,n=e.onToggle;return(0,Z.jsxs)(i6,{children:[(0,Z.jsxs)(i8,{children:[(0,Z.jsx)(i7,{role:"checkbox","aria-checked":r,$isChecked:r,onClick:n}),(0,Z.jsx)(i9,{$isChecked:r})]}),(0,Z.jsx)(ae,{onClick:n,children:t})]})};function ar(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}let an=function(e){var t,r=e.isOutgoing,n=e.onDelete,o=e.onClose,i=(t=(0,T.useState)(!1),function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(i.push(r.value),i.length!==t);a=!0);}catch(e){l=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw n}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return ar(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ar(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=i[0],l=i[1];return(0,Z.jsx)(iJ,{onClick:function(e){return e.stopPropagation()},onContextMenu:function(e){return e.stopPropagation()},children:(0,Z.jsxs)(iQ,{children:[(0,Z.jsx)(i0,{children:"Delete message"}),(0,Z.jsx)(i1,{children:"Are you sure you want to delete this message?"}),r&&(0,Z.jsx)(at,{label:"Also delete for receiver",isChecked:a,onToggle:function(){return l(function(e){return!e})}}),(0,Z.jsxs)(i2,{children:[(0,Z.jsx)(i3,{type:"button",onClick:o,children:"Cancel"}),(0,Z.jsx)(i5,{type:"button",onClick:function(){o(),n(a)},children:"Yes"})]})]})})};var ao=R.ZP.div.withConfig({displayName:"MessageStyled"})(["display:flex;"," ",""],function(e){return e.$isOutgoing?(0,R.iv)(["justify-content:right;flex-direction:row-reverse;"]):(0,R.iv)(["justify-content:left;"])},function(e){return e.$isLastInGroup?(0,R.iv)(["margin-bottom:0.6rem;"]):(0,R.iv)(["margin-bottom:0.2rem;"])}),ai=R.ZP.div.withConfig({displayName:"MessageContainer"})(["max-width:65%;border-radius:15px;cursor:pointer;color:",";background-color:",";"],function(e){return e.theme.message["".concat(e.$isOutgoing?"sent":"received")].color},function(e){return e.$isTransparentBackground?"transparent":e.theme.message["".concat(e.$isOutgoing?"sent":"received")].backgroundColor});function aa(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}let al=function(e){var t,r=e.message,n=e.isLastInGroup,o=ow(r),i=o.type,a=o.isOutgoing,l=o.downloadFile,c=o.deleteMessage,u=o.edit,s=o.reply,f=(t=(0,T.useState)(!1),function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(i.push(r.value),i.length!==t);a=!0);}catch(e){l=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw n}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return aa(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aa(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=f[0],h=f[1],p=(0,T.useCallback)(function(){return h(!0)},[]),m=(0,T.useCallback)(function(){return h(!1)},[]),y=n3(),g=y.isContextMenuVisible,b=y.onContextMenu,v=y.onMoreButtonClick,w=y.contextMenuControlProps,x=(0,T.useMemo)(function(){var e=[{icon:(0,Z.jsx)(rw,{}),label:"Reply",action:s}];return"text"===i&&a&&e.push({icon:(0,Z.jsx)(ra,{}),label:"Edit",action:u}),"text"!==i&&e.push({icon:(0,Z.jsx)(ro,{}),label:"Save",action:l}),e.push({icon:(0,Z.jsx)(rr,{}),label:"Delete",action:p}),e},[s,i,a,u,l,p]),j=(0,T.useMemo)(function(){switch(i){case"text":return(0,Z.jsx)(nH,{enrichedMessage:o});case"photo":return(0,Z.jsx)(oL,{enrichedMessage:o});case"video":return(0,Z.jsx)(oB,{enrichedMessage:o});case"audio":return(0,Z.jsx)(o5,{enrichedMessage:o,onMoreButtonClick:v});case"file":return(0,Z.jsx)(ii,{onMoreButtonClick:v,enrichedMessage:o})}},[o,v,i]),C="audio"===i||"file"===i?void 0:b;return(0,Z.jsxs)(ao,{$isOutgoing:a,$isLastInGroup:n,children:[(0,Z.jsxs)(ai,{$isTransparentBackground:"photo"===i||"video"===i,$isLastInGroup:n,$isOutgoing:a,onContextMenu:C,children:[j,g&&(0,Z.jsx)(n5,{menuItems:x,controlProps:w})]}),d&&(0,Z.jsx)(an,{isOutgoing:a,onClose:m,onDelete:c})]})};function ac(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}let au=function(e){var t,r=tR(function(e){var t;return null==(t=e.account)?void 0:t.id}),n=(0,T.useRef)(""),o=(t=(0,T.useState)({mode:"new"}),function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(i.push(r.value),i.length!==t);a=!0);}catch(e){l=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw n}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return ac(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ac(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=o[0],a=o[1],l=(0,T.useCallback)(function(e){(null==e?void 0:e.id)&&e.content&&e.senderId===r&&(n.current=e.content,a({mode:"edit",message:e}))},[r]),c=(0,T.useCallback)(function(e){(null==e?void 0:e.id)&&a({mode:"reply",message:e})},[]),u=(0,T.useContext)(om);if(!u)throw Error("Invalid MRSContext");var s=u.updateMessage,f=u.sendTextMessage;return{editingTextRef:n,onSend:(0,T.useCallback)(function(t){"edit"===i.mode?s(i.message.id,t.trim()):f(e,t.trim()),a({mode:"new"})},[i,s,f,e]),chatPartnerId:e,replyMessage:c,editMessage:l}},as=function(){var e=(0,z.UO)(),t=(null==e?void 0:e.chatPartnerId)?parseInt(e.chatPartnerId,10):0,r=eu().isLargeScreen,n=tN(t);tg(t);var o=iK(t),i=(0,T.useMemo)(function(){return o.map(function(e,t){return(0,Z.jsx)(al,{message:e,isLastInGroup:!o[t+1]||o[t+1].senderId!==e.senderId},"".concat(e.id))})},[o]),a=au(t),l=(0,T.useRef)(null);return(0,T.useEffect)(function(){if(l.current){var e=l.current;e.scrollTop=e.scrollHeight-e.clientHeight}},[o.length]),(0,Z.jsx)(og.Provider,{value:a,children:(0,Z.jsxs)(r2,{children:[(0,Z.jsxs)(r4,{children:[!r&&(0,Z.jsx)(r9,{}),(0,Z.jsx)(nT,{userId:t,user:n}),(0,Z.jsx)(nn,{onClick:function(){}})]}),(0,Z.jsx)(r3,{ref:l,children:(0,Z.jsxs)(r5,{children:[(0,Z.jsx)(r6,{}),i,(0,Z.jsx)(r6,{})]})}),(0,Z.jsx)(r8,{children:(0,Z.jsx)(iX,{})})]})})};var af=R.ZP.div.withConfig({displayName:"SideBarOverlay"})(["position:fixed;top:0;left:0;"," bottom:0;z-index:150;background-color:#00000047;"],function(e){return e.$isVisible&&(0,R.iv)(["right:0;"])}),ad=R.ZP.div.withConfig({displayName:"SideBarStyled"})(["position:absolute;top:0;left:0;bottom:0;width:12rem;transition:transform 0.2s ease-in-out;background-color:",";"," ",""],function(e){var t;return null==(t=e.theme.backgroundColors)?void 0:t.main},function(e){return e.$isVisible?(0,R.iv)(["transform:translateX(0rem);box-shadow:22px 17px 20px #1a1e2c;"]):(0,R.iv)(["transform:translateX(-13rem);"])},function(e){return!e.$isVisible&&e.$isLargeScreen&&(0,R.iv)(["display:flex;flex-direction:column;align-items:flex-end;transform:translateX(-8.5rem);"])}),ah=R.ZP.div.withConfig({displayName:"ProfileStyled"})(["padding:3rem 0 0.5rem 1rem;overflow:hidden;background-color:",";",""],function(e){var t;return null==(t=e.theme.backgroundColors)?void 0:t.bright},function(e){return e.$isVisible?(0,R.iv)(["visibility:visible;"]):(0,R.iv)(["visibility:hidden;"])}),ap=R.ZP.div.withConfig({displayName:"ProfilePhotoContainer"})(["display:flex;justify-content:center;align-items:center;width:5rem;height:5rem;overflow:hidden;border-radius:50%;"]),am=R.ZP.img.withConfig({displayName:"ProfilePhotoStyled"})(["width:100%;"]),ay=R.ZP.button.withConfig({displayName:"SidebarToggleButton"})(["position:absolute;top:0.5rem;right:0.8rem;width:2rem;height:2rem;padding:0.5rem;color:white;"]),ag=R.ZP.h2.withConfig({displayName:"NameStyled"})(["width:100%;margin-left:0.9rem;margin-top:0.7rem;color:#fff;"]),ab=R.ZP.div.withConfig({displayName:"MenuItemsContainer"})(["padding:0.5rem 0 0.5rem 0rem;border-bottom:1px solid #272d3f;border-color:",";",""],function(e){var t;return null==(t=e.theme.backgroundColors)?void 0:t.bright},function(e){return!e.$isVisible&&e.$isLargeScreen&&(0,R.iv)(["width:calc(12rem - 8.5rem);display:flex;flex-direction:column;align-items:center;"])}),av=R.ZP.button.withConfig({displayName:"MenuItemButton"})(["width:100%;padding:1rem;display:flex;align-items:center;border-radius:6px;&:hover{background-color:",";}"],function(e){var t;return null==(t=e.theme.backgroundColors)?void 0:t.hover}),aw=R.ZP.img.withConfig({displayName:"ImageIcon"})(["display:block;width:20px;height:20px;opacity:0.6;"]),ax=R.ZP.div.withConfig({displayName:"IconContainer"})(["width:1.2rem;height:1.2rem;color:#fff;"]),aj=R.ZP.p.withConfig({displayName:"MenuItemLabel"})(["margin-left:0.7rem;flex-grow:1;min-width:5rem;overflow:hidden;text-align:left;color:#fff;font-size:1rem;"]),aC=R.ZP.div.withConfig({displayName:"ProfilePhotoSettingsStyled"})([""," ",""],function(e){return e.$isFullScreenMode&&(0,R.iv)(["position:fixed;top:0;left:0;right:0;bottom:0;z-index:350;display:flex;overflow:hidden;background:rgb(0 0 0 / 86%);"])},function(e){return e.$isFullScreenMode?"":e.$windowWidth<500?(0,R.iv)(["position:relative;width:100vw;height:100vw;border-radius:10px;"]):(0,R.iv)(["position:relative;width:27rem;height:27rem;border-radius:10px;"])}),aP=R.ZP.h3.withConfig({displayName:"Name"})(["position:absolute;left:0.8rem;bottom:0.8rem;font-size:1.8rem;font-weight:400;color:#ffffff;"]),ak=(0,R.ZP)(nu).withConfig({displayName:"PhotoUploaderModal"})([""]),aS=R.ZP.div.withConfig({displayName:"ModalHeader"})(["margin-bottom:1rem;display:flex;justify-content:space-between;"]),aO=R.ZP.div.withConfig({displayName:"CroppingViewport"})(["position:relative;margin:1rem;width:calc(100vw - 6rem);max-width:400px;height:calc(100vw - 6rem);max-height:400px;overflow:hidden;border-radius:5px;border:1px solid;background-color:inherit;border-color:inherit;"]),aI=R.ZP.div.withConfig({displayName:"CropOverlayMask"})(["position:absolute;top:0;left:0;right:0;bottom:0;z-index:10;border:10px solid;border-radius:50%;outline-style:solid;outline-width:10000px;outline-color:",";border-color:",";background-color:transparent;user-select:none;cursor:move;"],function(e){return e.theme.cropOverlayMask.outlineColor},function(e){return e.theme.cropOverlayMask.outlineColor}),aE=R.ZP.img.withConfig({displayName:"PositionableImage"})(["position:absolute;width:100%;user-select:none;pointer-events:none;"]),aA=R.ZP.div.withConfig({displayName:"LoadingTextContainer"})(["position:absolute;top:0;left:0;right:0;bottom:0;z-index:5;display:flex;background-color:inherit;"]),aM=R.ZP.p.withConfig({displayName:"LoadingText"})(["margin:auto;"]),aN=R.ZP.div.withConfig({displayName:"ModalFooter"})(["padding:0 2rem;display:flex;"]);function aZ(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}let aL=function(){var e,t=(e=(0,T.useState)(0),function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(i.push(r.value),i.length!==t);a=!0);}catch(e){l=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw n}}return i}}(e,2)||function(e,t){if(e){if("string"==typeof e)return aZ(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aZ(e,t)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=t[0],n=t[1],o=(0,T.useCallback)(function(e){n(Math.max(0,Math.min(100,r+5*(e.deltaY<0?1:-1))))},[r]);return{imageWidth:(0,T.useMemo)(function(){return 100+2*r},[r]),zoomPercentage:r,updateZoomPercentage:n,adjustZoomOnWheelEvent:o}};function aT(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function aD(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw n}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return aT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aT(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}let aU=function(){var e=aL(),t=e.imageWidth,r=e.zoomPercentage,n=e.updateZoomPercentage,o=e.adjustZoomOnWheelEvent,i=(0,T.useRef)(null),a=(0,T.useRef)(null),l=aD((0,T.useState)({x:0,y:0}),2),c=l[0],u=l[1],s=aD((0,T.useState)(!1),2),f=s[0],d=s[1],h=(0,T.useRef)(!1),p=(0,T.useRef)({imagePosition:{x:0,y:0},pointerPosition:{x:0,y:0}}),m=(0,T.useCallback)(function(e,t){p.current={imagePosition:{x:c.x,y:c.y},pointerPosition:{x:e,y:t}},h.current=!0},[c]),y=(0,T.useCallback)(function(e,t){if(h.current){var r=p.current,n=r.imagePosition,o=r.pointerPosition,i=e-o.x,a=t-o.y;u({x:n.x+i,y:n.y+a})}},[]),g=(0,T.useCallback)(function(){if(i.current&&a.current){var e=i.current.getBoundingClientRect(),t=a.current.getBoundingClientRect();u({x:Math.round((e.width-t.width)/2),y:Math.round((e.height-t.height)/2)})}},[]),b=(0,T.useCallback)(function(e){d(!0),URL.revokeObjectURL(e.target.src),g()},[g]),v=(0,T.useCallback)(function(){if(i.current&&a.current){var e=i.current.getBoundingClientRect(),t=a.current.getBoundingClientRect();(t.left+.25*t.width>=e.right||t.right-.25*t.width<=e.left||t.top+.25*t.height>=e.bottom||t.bottom-.25*t.height<=e.top)&&g()}},[g]),w=(0,T.useCallback)(function(){return new Promise(function(e,t){if(!a.current||!i.current)return void t("Failed to get DOM elements while cropping image.");var r=i.current.getBoundingClientRect(),n=a.current,o=n.getBoundingClientRect(),l=n.naturalWidth/o.width,u=n.naturalHeight/o.height,s=-1*c.x*l,f=-1*c.y*u,d=r.width*l,h=r.height*u,p=r.width,m=r.height,y=document.createElement("canvas");y.width=r.width,y.height=r.height;var g=y.getContext("2d");g&&g.drawImage(n,s,f,d,h,0,0,p,m),y.toBlob(function(t){return e(t)},"image/png")})},[c]),x=(0,T.useCallback)(function(){h.current=!1,v()},[v]);(0,T.useEffect)(function(){var e=function(e){return y(e.clientX,e.clientY)},t=function(e){return y(e.touches[0].clientX,e.touches[0].clientY)};return document.addEventListener("mousemove",e),document.addEventListener("touchmove",t),document.addEventListener("mouseup",x),document.addEventListener("touchend",x),function(){document.removeEventListener("mousemove",e),document.removeEventListener("touchmove",t),document.removeEventListener("mouseup",x),document.removeEventListener("touchend",x)}},[y,x]);var j=(0,T.useCallback)(function(e){return m(e.clientX,e.clientY)},[m]),C=(0,T.useCallback)(function(e){return m(e.touches[0].clientX,e.touches[0].clientY)},[m]);return{croppingViewportRef:i,positionableImageRef:a,positionableImageStyle:(0,T.useMemo)(function(){return{transform:"translate(".concat(c.x,"px, ").concat(c.y,"px)"),width:"".concat(t,"%"),transition:h.current?"none":"transform 0.7s ease-in-out"}},[c,t]),handlePositionableImageLoad:b,isPositionableImageLoaded:f,handleMouseDownOnMask:j,handleTouchStartOnMask:C,adjustZoomOnWheelEvent:o,zoomPercentage:r,updateZoomPercentage:n,cropImage:w}};var aB=R.ZP.div.withConfig({displayName:"ZoomSliderTrack"})(["position:relative;align-self:center;margin-right:1rem;flex-grow:5;height:1.2rem;display:flex;user-select:none;"]),aF=R.ZP.div.withConfig({displayName:"SliderProgress"})(["align-self:center;flex-grow:5;height:3px;user-select:none;border-radius:80px;background-color:",";"],function(e){var t;return null==(t=e.theme.backgroundColors)?void 0:t.button}),aR=R.ZP.div.withConfig({displayName:"SliderThumb"})(["position:absolute;width:1.2rem;height:1.2rem;border-radius:50%;user-select:none;cursor:pointer;background-color:",";"],function(e){var t;return null==(t=e.theme.backgroundColors)?void 0:t.buttonHover});function az(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}let a$=function(e){var t,r=e.zoomPercentage,n=e.onZoomPercentageUpdate,o=e.onWheel,i=(t=(0,T.useState)(0),function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(i.push(r.value),i.length!==t);a=!0);}catch(e){l=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw n}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return az(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return az(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=i[0],l=i[1],c=(0,T.useRef)(!1),u=(0,T.useRef)(null),s=(0,T.useRef)(null),f=function(){c.current=!0},d=(0,T.useCallback)(function(e){if(c.current&&u.current){var t=u.current.getBoundingClientRect();e>t.left&&e<t.right&&n((e-t.left)/t.width*100),e<=t.left&&n(0),e>=t.right&&n(100)}},[n]),h=(0,T.useCallback)(function(){c.current=!1},[]);return(0,T.useEffect)(function(){var e=function(e){return d(e.clientX)},t=function(e){return d(e.touches[0].clientX)};return document.addEventListener("mousemove",e),document.addEventListener("touchmove",t),document.addEventListener("mouseup",h),document.addEventListener("touchend",h),function(){document.removeEventListener("mousemove",e),document.removeEventListener("touchmove",t),document.removeEventListener("mouseup",h),document.removeEventListener("touchend",h)}},[d,h]),(0,T.useEffect)(function(){u.current&&s.current&&l(Math.round(r/100*u.current.getBoundingClientRect().width-s.current.getBoundingClientRect().width/2))},[r]),(0,Z.jsxs)(aB,{role:"slider","aria-label":"Zoom level slider track","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,onWheel:o,draggable:"false",ref:u,onClick:function(e){if(!c.current&&u.current){var t=u.current.getBoundingClientRect();n((e.clientX-t.left)/t.width*100)}},children:[(0,Z.jsx)(aF,{draggable:"false"}),(0,Z.jsx)(aR,{"aria-label":"Slider thumb",draggable:"false",ref:s,onMouseDown:f,onTouchStart:f,style:{transform:"translateX(".concat(a,"px)")}})]})};var aW=["jpg","jpeg","png","gif","bmp","tiff","tif","webp","svg","ico","heif","heic","apng","avif","jp2","j2k","hdr"],a_=function(e){var t=e.name;if("string"!=typeof t)return null;var r=t.split(".");return r[r.length-1]},aV=function(e){var t=a_(e);return"string"==typeof t&&aW.includes(t.toLowerCase())},aH=function(e){return e>=0x40000000?"".concat(Math.round(e/0x40000000)," GB"):e>=1048576?"".concat(Math.round(e/1048576)," MB"):e>=1024?"".concat(Math.round(e/1024)," KB"):"".concat(e," B")};function aG(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function aX(e,t,r,n,o,i,a){try{var l=e[i](a),c=l.value}catch(e){r(e);return}l.done?t(c):Promise.resolve(c).then(n,o)}function aq(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw n}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return aG(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aG(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var aY={INVALID_FILE:"Invalid file",INVALID_FILE_TYPE:"Invalid file type! Only image is allowed",SIZE_TOO_SMALL:"Image size too small. \n                      Minimum size is ".concat(aH(1024),"."),SIZE_TOO_BIG:"Image size too big.\n                    Maximum size is ".concat(aH(5242880),".")},aK={CROPPING_FAILED:"Image cropping failed. Please try again.",UNKNOWN_ERROR:"Photo upload failed for unknown reason. Please try again."},aJ=function(e){var t;return(null!=(t=File)&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?t[Symbol.hasInstance](e):e instanceof t)?aV(e)?e.size<1024?aY.SIZE_TOO_SMALL:e.size>5242880?aY.SIZE_TOO_BIG:null:aY.INVALID_FILE_TYPE:aY.INVALID_FILE};let aQ=function(e){var t=e.file,r=e.onClose,n=e.imageCropperFunc,o=aq((0,T.useState)(null),2),i=o[0],a=o[1],l=aq((0,T.useState)(null),2),c=l[0],u=l[1],s=aq((0,T.useState)(!1),2),f=s[0],d=s[1],h=(0,T.useRef)(null);(0,T.useEffect)(function(){var e=aJ(t);if(e)u(e);else{var r=URL.createObjectURL(t);h.current=r,a(r)}return function(){h.current&&URL.revokeObjectURL(h.current)}},[t]);var p=tF(),m=el(),y=m.isLoading,g=m.post,b=(0,T.useRef)(!1);return{imageSrc:i,isUploading:y||f,error:c,uploadPhoto:(0,T.useCallback)(function(){var e;return(e=function(){var e,t,o,i,a,l,c;return function(e,t){var r,n,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(c){var u=[l,c];if(r)throw TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(i=0)),i;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,n=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}}(this,function(s){switch(s.label){case 0:if(b.current)return[2];b.current=!0,s.label=1;case 1:return s.trys.push([1,5,,6]),d(!0),[4,new Promise(function(e){return setTimeout(e,50)})];case 2:return s.sent(),[4,n()];case 3:if(e=s.sent(),d(!1),!e)return u(aK.CROPPING_FAILED),console.error("Image cropping failed. did not get valid blob."),[2];return(t=new FormData).append("profilePhoto",e),[4,g("/profile-photos/me",t)];case 4:return i=(o=s.sent()).success,a=o.data,l=o.message,i?(p(ew(a)),r(),console.log(l)):u(l||aK.UNKNOWN_ERROR),[3,6];case 5:return console.error((c=s.sent()).message||"Unknown error occured at profile photo upload."),u(c.message||aK.UNKNOWN_ERROR),[3,6];case 6:return b.current=!1,[2]}})},function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){aX(i,n,o,a,l,"next",e)}function l(e){aX(i,n,o,a,l,"throw",e)}a(void 0)})})()},[n,g,p,r])}};var a0=(0,R.ZP)(nu).withConfig({displayName:"ErrorBannerModal"})(["display:flex;min-height:5rem;align-items:center;"]),a1=R.ZP.p.withConfig({displayName:"ErrorText"})(["margin:auto;margin-right:1rem;font-size:1.04rem;font-weight:500;color:",";"],function(e){return e.theme.errorBanner.color});let a2=function(e){var t=e.error,r=e.onClose;return(0,Z.jsx)(nc,{$zIndex:300,children:(0,Z.jsxs)(a0,{children:[(0,Z.jsx)(a1,{children:t}),(0,Z.jsx)(ni,{onClick:r,ariaLabel:"Close error banner."})]})})};var a4="Upload",a3=(0,R.ZP)(nf).withConfig({displayName:"UploadButtonEnabled"})(["padding:0.5rem 1rem;"]),a5=(0,R.ZP)(nd).withConfig({displayName:"UploadButtonDisabled"})(["padding:0.5rem 1rem;"]);let a6=function(e){var t=e.isDisabled,r=e.onClick;return t?(0,Z.jsx)(a5,{disabled:!0,children:a4}):(0,Z.jsx)(a3,{onClick:r,children:a4})},a8=function(e){var t=e.file,r=e.onClose,n=aU(),o=n.croppingViewportRef,i=n.positionableImageRef,a=n.positionableImageStyle,l=n.handlePositionableImageLoad,c=n.isPositionableImageLoaded,u=n.handleMouseDownOnMask,s=n.handleTouchStartOnMask,f=n.adjustZoomOnWheelEvent,d=n.zoomPercentage,h=n.updateZoomPercentage,p=aQ({file:t,onClose:r,imageCropperFunc:n.cropImage}),m=p.error,y=p.imageSrc,g=p.uploadPhoto,b=p.isUploading;return m?(0,Z.jsx)(a2,{error:m,onClose:r}):y?(0,Z.jsx)(nc,{$zIndex:300,children:(0,Z.jsxs)(ak,{"aria-modal":"true",children:[(0,Z.jsxs)(aS,{children:[(0,Z.jsx)(nh,{children:"Drag to reposition"}),(0,Z.jsx)(ni,{ariaLabel:"Close Profile Photo Uploader",onClick:r})]}),(0,Z.jsxs)(aO,{ref:o,children:[(0,Z.jsx)(aI,{draggable:!1,onMouseDown:u,onTouchStart:s,onWheel:f}),!c&&(0,Z.jsx)(aA,{children:(0,Z.jsx)(aM,{children:"Processing image..."})}),(0,Z.jsx)(aE,{ref:i,src:y,alt:"Positionable profile photo",style:a,draggable:!1,onLoad:l})]}),(0,Z.jsxs)(aN,{children:[(0,Z.jsx)(a$,{zoomPercentage:d,onZoomPercentageUpdate:h,onWheel:f}),(0,Z.jsx)(a6,{isDisabled:b||!c,onClick:g})]}),b&&(0,Z.jsx)(ok,{})]})}):null};function a7(e,t,r,n,o,i,a){try{var l=e[i](a),c=l.value}catch(e){r(e);return}l.done?t(c):Promise.resolve(c).then(n,o)}let a9=function(e){var t=tw(e),r=t.photoUrl,n=t.photoDateTime,o=t.downloadPhoto,i=el(),a=i.isLoading,l=i.del,c=tF();return{photoUrl:r,photoDateTime:n,downloadPhoto:o,isDoingRequest:a,deletePhoto:(0,T.useCallback)(function(){var t;return(t=function(){var t,r,n;return function(e,t){var r,n,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(c){var u=[l,c];if(r)throw TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(i=0)),i;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,n=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}}(this,function(o){switch(o.label){case 0:if(!e)return[2];return[4,l("/profile-photos/me/".concat(e.id))];case 1:return r=(t=o.sent()).success,n=t.message,r?(c(ex(e.id)),console.log(n)):console.error(n),[2]}})},function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(e){a7(i,n,o,a,l,"next",e)}function l(e){a7(i,n,o,a,l,"throw",e)}a(void 0)})})()},[e,l,c])}};var le=R.ZP.button.withConfig({displayName:"AddPhotoButtonStyled"})(["position:absolute;right:2rem;bottom:-1.7rem;width:3.13rem;height:3.13rem;padding:0.8rem;border-radius:50%;color:white;box-shadow:3px 3px 14px #000000c4;transition:background-color 0.2s ease-in-out;background-color:",";&:hover{background-color:",";}"],function(e){var t;return null==(t=e.theme.backgroundColors)?void 0:t.button},function(e){var t;return null==(t=e.theme.backgroundColors)?void 0:t.buttonHover});let lt=function(e){var t,r,n=e.onClick,o=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["onClick"]);return(0,Z.jsx)(le,(t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n})}return e}({type:"button",onClick:n},o),r=r={children:(0,Z.jsx)(t0,{})},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}),t))};function lr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function ln(e,t,r,n,o,i,a){try{var l=e[i](a),c=l.value}catch(e){r(e);return}l.done?t(c):Promise.resolve(c).then(n,o)}let lo=function(){var e,t=(e=(0,T.useState)(!1),function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(i.push(r.value),i.length!==t);a=!0);}catch(e){l=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw n}}return i}}(e,2)||function(e,t){if(e){if("string"==typeof e)return lr(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lr(e,t)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=t[0],n=t[1],o=(0,T.useRef)(0),i=tF(),a=el().get;(0,T.useEffect)(function(){var e;r||(e=function(){var e,t,r,l;return function(e,t){var r,n,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(c){var u=[l,c];if(r)throw TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(i=0)),i;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,n=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}}(this,function(c){switch(c.label){case 0:return[4,a("/profile-photos/me")];case 1:return t=(e=c.sent()).success,r=e.data,l=e.message,t?(i(ev(r)),n(!0)):(console.error(l),o.current>2&&n(!0)),o.current++,[2]}})},function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){ln(i,n,o,a,l,"next",e)}function l(e){ln(i,n,o,a,l,"throw",e)}a(void 0)})})()},[i,a,r])};function li(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}let la=function(){var e,t=eu().windowWidth;lo();var r=X(),n=r.fullName,o=r.nameInitials,i=n3(),a=i.isContextMenuVisible,l=i.onMoreButtonClick,c=i.contextMenuControlProps,u=tl(),s=u.isFullScreenMode,f=u.toggleFullScreenMode,d=u.exitFullScreenMode,h=(e=(0,T.useState)(!1),function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(i.push(r.value),i.length!==t);a=!0);}catch(e){l=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw n}}return i}}(e,2)||function(e,t){if(e){if("string"==typeof e)return li(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return li(e,t)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),p=h[0],m=h[1],y=ti(function(){return m(!0)}),g=y.fileInputRef,b=y.handleFileChange,v=y.triggerFileSelection,w=y.selectedFile,x=(0,H.v9)(function(e){return e.profilePhotos}),j=x.length,C=tv(j,0,!0),P=C.currentIndex,k=C.handleNext,S=C.handlePrevious,O=C.photoIndexIndicator,I=a9(x[P]),E=I.photoUrl,A=I.photoDateTime,M=I.isDoingRequest,N=I.downloadPhoto,L=I.deletePhoto,D=tp(E||null),U=D.isImageFetching,B=D.isImageLoading,F=D.imageSrc,R=D.handleImageLoad,z=(0,T.useMemo)(function(){var e=[];return s||e.push({icon:(0,Z.jsx)(t0,{}),label:"Set Profile Photo",action:v}),F&&e.push({icon:(0,Z.jsx)(ro,{}),label:"Save Photo",action:N},{icon:(0,Z.jsx)(rr,{}),label:"Delete",action:L}),e},[s,v,F,N,L]);return(0,T.useEffect)(function(){s&&!j&&d()},[j,s,d]),(0,Z.jsxs)(aC,{"aria-modal":s,"aria-label":"Profile photo settings",$isFullScreenMode:s,$windowWidth:t,children:[(0,Z.jsxs)(np,{children:[s?(0,Z.jsx)(nt,{"aria-label":"Exit fullscreen mode",onClick:d}):(0,Z.jsx)("div",{}),j>1&&(0,Z.jsx)(nm,{children:O}),z.length>0&&(0,Z.jsx)(nn,{"aria-label":"Open profile photo options",onClick:l})]}),U&&(0,Z.jsx)(oE,{}),F?(0,Z.jsx)(oM,{src:F,onLoad:R,alt:"Profile Photo",isBlur:U||B,onClick:f,isPhotoNavTarget:!0}):(0,Z.jsx)(nL,{nameInitials:o}),j>1&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(nC,{onClick:S}),(0,Z.jsx)(nx,{onClick:k})]}),!s&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(aP,{children:n}),(0,Z.jsx)(lt,{"aria-label":"Set profile photo",onClick:v})]}),(0,Z.jsx)("input",{type:"file",accept:"image/*",ref:g,onChange:b,style:{display:"none"}}),M&&(0,Z.jsx)(ok,{}),s&&A&&(0,Z.jsxs)(ny,{children:[(0,Z.jsx)(ng,{children:"Profile Photo"}),(0,Z.jsx)(ng,{children:A})]}),p&&(0,Z.jsx)(a8,{file:w,onClose:function(){return m(!1)}}),a&&(0,Z.jsx)(n5,{menuItems:z,controlProps:c})]})};var ll=R.ZP.div.withConfig({displayName:"SettingsPageOverlay"})(["position:fixed;top:0;left:0;right:0;bottom:0;z-index:300;background-color:",";display:flex;justify-content:center;"],function(e){var t;return null==(t=e.theme.backgroundColors)?void 0:t.overlay}),lc=R.ZP.div.withConfig({displayName:"SettingsPage"})([""," background-color:",";"],function(e){return e.$windowWidth<500?(0,R.iv)(["width:100vw;padding-top:0.5rem;"]):(0,R.iv)(["padding:1rem;border-radius:10px;margin-top:5vh;height:90vh;"])},function(e){var t;return null==(t=e.theme.backgroundColors)?void 0:t.main}),lu=R.ZP.div.withConfig({displayName:"SettingsPageHeader"})(["margin-bottom:1rem;display:flex;justify-content:space-between;align-items:center;"]),ls=R.ZP.h1.withConfig({displayName:"MainTitle"})(["font-size:1.5rem;line-height:1;font-weight:500;color:",";"],function(e){var t;return null==(t=e.theme.textColors)?void 0:t.title}),lf=R.ZP.div.withConfig({displayName:"NavMenuContainer"})(["display:flex;align-items:flex-start;justify-content:space-between;margin-bottom:1rem;"]),ld=R.ZP.div.withConfig({displayName:"NavMenu"})([""," background-color:",";"],function(e){return e.$windowWidth<500?(0,R.iv)(["margin:0 1rem;display:flex;flex-wrap:wrap;justify-content:center;align-items:center;padding:2px;border-radius:12px;"]):(0,R.iv)(["display:flex;justify-content:space-between;align-items:center;padding:2px;border-radius:12px;background-color:#3c576e;"])},function(e){var t;return null==(t=e.theme.backgroundColors)?void 0:t.bright}),lh=R.ZP.button.withConfig({displayName:"MenuItemButton"})(["flex-grow:1;font-size:1rem;font-weight:500;color:white;padding:0.45rem 1.3rem;border-radius:inherit;",""],function(e){return e.$isActive&&(0,R.iv)(["background-color:",";"],function(e){var t;return null==(t=e.theme.backgroundColors)?void 0:t.veryBright})}),lp=R.ZP.div.withConfig({displayName:"MenuDivider"})(["width:1px;height:1rem;background-color:",";"],function(e){var t;return null==(t=e.theme.backgroundColors)?void 0:t.veryBright}),lm=R.ZP.div.withConfig({displayName:"SettingsCategoryContainer"})([""]),ly=R.ZP.div.withConfig({displayName:"SettingsItemContainer"})(["padding:0.8rem 1rem;cursor:pointer;display:flex;justify-content:space-between;border-radius:15px;&:hover{background:",";}"],function(e){var t;return null==(t=e.theme.backgroundColors)?void 0:t.hover}),lg=R.ZP.p.withConfig({displayName:"Title"})(["padding:0;margin:0;font-size:1rem;color:",";transition:color 0.4s ease-in-out;"],function(e){var t;return null==(t=e.theme.textColors)?void 0:t.normal}),lb=R.ZP.span.withConfig({displayName:"Description"})(["display:block;color:",";font-size:0.9rem;"],function(e){var t;return null==(t=e.theme.textColors)?void 0:t.description}),lv=R.ZP.div.withConfig({displayName:"ArrowIconContainer"})(["width:1rem;height:1rem;color:",";"],function(e){var t;return null==(t=e.theme.textColors)?void 0:t.normal}),lw=R.ZP.div.withConfig({displayName:"EditorModalOverlay"})(["position:fixed;top:0;left:0;right:0;bottom:0;z-index:300;display:flex;justify-content:center;align-items:center;background:",";"],function(e){var t;return null==(t=e.theme.backgroundColors)?void 0:t.overlay}),lx=R.ZP.div.withConfig({displayName:"EditorModalStyled"})([""," background-color:",";border-color:",";"],function(e){return e.$windowWidth<500?(0,R.iv)(["width:100vw;padding:1rem;border-radius:10px;border:1px solid;"]):(0,R.iv)(["width:27rem;padding:1rem;border-radius:10px;border:1px solid;background-color:#314352;border-color:#405d76;"])},function(e){var t;return null==(t=e.theme.backgroundColors)?void 0:t.main},function(e){return e.theme.borderColor}),lj=R.ZP.div.withConfig({displayName:"HeaderSection"})(["padding-bottom:1rem;margin-bottom:1rem;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid;border-color:",";"],function(e){return e.theme.dividerColor}),lC=R.ZP.h2.withConfig({displayName:"Title"})(["margin-right:1.3rem;font-size:1.2rem;font-weight:500;color:",";"],function(e){var t;return null==(t=e.theme.textColors)?void 0:t.title}),lP=R.ZP.div.withConfig({displayName:"MainSection"})(["margin-bottom:1rem;"]),lk=R.ZP.div.withConfig({displayName:"FooterSection"})(["display:flex;justify-content:right;border-top:1px solid;border-color:",";padding-top:1rem;"],function(e){return e.theme.dividerColor}),lS=R.ZP.button.withConfig({displayName:"ActionButton"})(["display:block;padding-top:0.4rem;padding-bottom:0.4rem;border-radius:5px;font-size:0.94rem;font-weight:500;transition:background-color 0.2s ease-in-out;"]),lO=(0,R.ZP)(lS).withConfig({displayName:"CancelButton"})(["margin-right:0.5rem;padding-left:1rem;padding-right:1rem;color:",";&:hover{background-color:",";}"],function(e){var t;return null==(t=e.theme.backgroundColors)?void 0:t.buttonHover},function(e){var t;return null==(t=e.theme.backgroundColors)?void 0:t.bright}),lI=(0,R.ZP)(lS).withConfig({displayName:"DoneButton"})(["padding-left:1.7rem;padding-right:1.7rem;border-radius:5px;color:#ffffff;background-color:",";&:hover{background-color:",";}"],function(e){var t;return null==(t=e.theme.backgroundColors)?void 0:t.button},function(e){var t;return null==(t=e.theme.backgroundColors)?void 0:t.buttonHover});let lE=function(e){var t,r,n=e.title,o=e.animationStyle,i=e.children,a=e.onDone,l=e.onClose,c=e.leftButtonConfig,u=void 0===c?{label:"Cancel",action:void 0}:c,s=e.rightButtonConfig,f=void 0===s?{label:"Done",action:void 0}:s,d=eu().windowWidth;return(0,Z.jsx)(lw,{style:(t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n})}return e}({},o),r=r={transform:void 0},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}),t),onClick:function(e){e.stopPropagation(),e.target===e.currentTarget&&l()},children:(0,Z.jsxs)(lx,{style:o,$windowWidth:d,children:[(0,Z.jsxs)(lj,{children:[(0,Z.jsx)(lC,{children:n}),(0,Z.jsx)(ni,{onClick:l})]}),(0,Z.jsx)(lP,{children:i}),(0,Z.jsxs)(lk,{children:[(0,Z.jsx)(lO,{type:"button",onClick:u.action||l,children:u.label}),(0,Z.jsx)(lI,{type:"button",onClick:f.action||a,children:f.label})]})]})})};var lA=R.ZP.div.withConfig({displayName:"TextInputContainer"})(["margin-bottom:1rem;"]),lM=R.ZP.div.withConfig({displayName:"LabelWrapper"})(["display:flex;justify-content:space-between;align-items:center;"]),lN=R.ZP.label.withConfig({displayName:"LabelStyled"})(["font-size:1rem;font-weight:500;color:",";display:block;"],function(e){var t;return null==(t=e.theme.textColors)?void 0:t.normal}),lZ=R.ZP.input.withConfig({displayName:"InputStyled"})(["width:100%;padding:1.2rem 0 0.5rem 0;margin-bottom:0.7rem;box-shadow:none;outline-style:none;border:none;border-bottom:1px solid #43829f;border-radius:0;font-size:1rem;font-weight:500;color:#cfd3d4;background:transparent;&::placeholder{color:#6e6f74;font-family:system-ui,sans-serif;font-size:1rem;font-weight:500;font-weight:500;}&:focus{border-color:#04c1ff;}"]),lL=R.ZP.span.withConfig({displayName:"HelperText"})(["display:block;color:",";font-size:0.8rem;font-weight:500;"],function(e){var t;return null==(t=e.theme.textColors)?void 0:t.description});let lT=function(e){var t=e.label,r=e.type,n=e.name,o=e.placeholder,i=e.value,a=e.shouldFocus,l=void 0===a||a,c=e.onChange,u=e.onEnterPress,s=e.helperText,f=e.errorMessage,d=(0,T.useRef)(null),h=(0,T.useRef)(null);return(0,T.useEffect)(function(){l&&d.current&&d.current.focus()}),(0,T.useEffect)(function(){f&&h.current&&h.current.animate([{transform:"translateX(0px)"},{transform:"translateX(12px)"},{transform:"translateX(0px)"},{transform:"translateX(12px)"},{transform:"translateX(0px)"}],700)},[f]),(0,Z.jsxs)(lA,{children:[t&&(0,Z.jsx)(lM,{children:(0,Z.jsx)(lN,{htmlFor:n,children:t})}),(0,Z.jsx)(lZ,{type:void 0===r?"text":r,name:n,placeholder:void 0===o?"":o,value:i,ref:d,onKeyDown:function(e){u&&"Enter"===e.key&&(e.preventDefault(),u(e))},onInput:c}),(f||s)&&(0,Z.jsx)(lL,{ref:h,children:f||s})]})};function lD(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function lU(e,t,r,n,o,i,a){try{var l=e[i](a),c=l.value}catch(e){r(e);return}l.done?t(c):Promise.resolve(c).then(n,o)}let lB=function(){var e,t=(e=(0,T.useState)(!1),function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(i.push(r.value),i.length!==t);a=!0);}catch(e){l=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw n}}return i}}(e,2)||function(e,t){if(e){if("string"==typeof e)return lD(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lD(e,t)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=t[0],n=t[1],o=el().put,i=tF();return{updateAccount:(0,T.useCallback)(function(e){var t;return(t=function(){var t,r,a,l;return function(e,t){var r,n,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(c){var u=[l,c];if(r)throw TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(i=0)),i;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,n=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}}(this,function(c){switch(c.label){case 0:return n(!0),[4,o("/users/me",e)];case 1:return r=(t=c.sent()).success,a=t.data,l=t.message,r&&i(ep(a)),n(!1),[2,{success:r,message:l}]}})},function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(e){lU(i,n,o,a,l,"next",e)}function l(e){lU(i,n,o,a,l,"throw",e)}a(void 0)})})()},[i,o]),isUpdating:r}};function lF(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function lR(e,t,r,n,o,i,a){try{var l=e[i](a),c=l.value}catch(e){r(e);return}l.done?t(c):Promise.resolve(c).then(n,o)}function lz(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw n}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return lF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lF(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}let l$=function(e){var t=e.onClose,r=e.animationStyle,n=tR(function(e){return e.account});if(!n)throw Error("Invalid account!");var o=lz((0,T.useState)(n.username),2),i=o[0],a=o[1],l=lz((0,T.useState)(void 0),2),c=l[0],u=l[1],s=lB(),f=s.updateAccount,d=s.isUpdating,h=function(){var e;return(e=function(){var e,r,o,a,l;return function(e,t){var r,n,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(c){var u=[l,c];if(r)throw TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(i=0)),i;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,n=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}}(this,function(c){switch(c.label){case 0:var s;if((e=i.trim())===n.username)return[2,t()];if(r=(s=(s=e).trim())?/^[A-Za-z][A-Za-z0-9_]*$/.test(s)?s.length<5?"Minimum length is ".concat(5," characters."):s.length>15?"Maximum length is ".concat(15," characters."):null:"Username can only contain alphabets, numbers and underscores. And the first character must be alphabet.":null)return[2,u(r)];return[4,f({username:e})];case 1:return a=(o=c.sent()).success,l=o.message,a?t():u(l||""),[2]}})},function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){lR(i,n,o,a,l,"next",e)}function l(e){lR(i,n,o,a,l,"throw",e)}a(void 0)})})()};return(0,Z.jsxs)(lE,{title:"Edit Username",animationStyle:r,onDone:h,onClose:t,children:[(0,Z.jsx)(lT,{name:"username",placeholder:"Username",value:i,onChange:function(e){a(e.target.value),u(void 0)},onEnterPress:h,helperText:"Others can find and message you using this usernamexsdd.",errorMessage:c}),d&&(0,Z.jsx)(ok,{})]})};function lW(e){return 0===e.length?"First name is required":e.length>15?"First name too long":""}function l_(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function lV(e,t,r,n,o,i,a){try{var l=e[i](a),c=l.value}catch(e){r(e);return}l.done?t(c):Promise.resolve(c).then(n,o)}function lH(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lG(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){lH(e,t,r[t])})}return e}function lX(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}let lq=function(e){var t,r=e.onClose,n=e.animationStyle,o=tR(function(e){return e.account});if(!o)throw Error("Invalid user account!");var i=(t=(0,T.useState)({firstName:o.firstName,firstNameError:"",lastName:o.lastName||"",lastNameError:"",activeField:"firstName"}),function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(i.push(r.value),i.length!==t);a=!0);}catch(e){l=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw n}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return l_(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l_(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=i[0],l=i[1],c=function(e){var t=e.target,r=t.value,n=t.name;l(function(e){var t;return lX(lG({},e),(lH(t={},n,r),lH(t,"firstNameError",""),lH(t,"lastNameError",""),lH(t,"activeField",n),t))})},u=lB(),s=u.updateAccount,f=u.isUpdating,d=function(){var e;return(e=function(){var e,t,n,i,c,u,f,d;return function(e,t){var r,n,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(c){var u=[l,c];if(r)throw TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(i=0)),i;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,n=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}}(this,function(h){switch(h.label){case 0:if(e=a.firstName.trim(),t=a.lastName.trim(),n=lW(e),i=t.length>15?"Last name too long":"",!(n||i))return[3,1];return c=n?"firstName":"lastName",l(function(e){return lX(lG({},e),{firstNameError:n,lastNameError:i,activeField:c})}),[3,4];case 1:if(e!==o.firstName||t!==o.lastName)return[3,2];return r(),[3,4];case 2:return[4,s({firstName:e,lastName:t})];case 3:f=(u=h.sent()).success,d=u.message,f?r():l(function(e){return lX(lG({},e),{firstNameError:d||"",lastNameError:""})}),h.label=4;case 4:return[2]}})},function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){lV(i,n,o,a,l,"next",e)}function l(e){lV(i,n,o,a,l,"throw",e)}a(void 0)})})()},h=function(e){if("firstName"===e.target.name){var t=lW(a.firstName.trim());t?l(function(e){return lX(lG({},e),{firstNameError:t})}):l(function(e){return lX(lG({},e),{activeField:"lastName"})})}else d()};return(0,Z.jsxs)(lE,{title:"Edit name",animationStyle:n,onClose:r,onDone:d,children:[(0,Z.jsx)(lT,{name:"firstName",placeholder:"First name (required)",value:a.firstName,shouldFocus:"firstName"===a.activeField,onChange:c,onEnterPress:h,errorMessage:a.firstNameError}),(0,Z.jsx)(lT,{name:"lastName",placeholder:"Last name (optional)",value:a.lastName,shouldFocus:"lastName"===a.activeField,onChange:c,onEnterPress:h,errorMessage:a.lastNameError}),f&&(0,Z.jsx)(ok,{})]})};var lY=R.ZP.p.withConfig({displayName:"Counter"})(["display:block;margin-bottom:0.5rem;font-size:1rem;line-height:1.7;font-weight:500;color:#bdbdbd;"]),lK=R.ZP.div.withConfig({displayName:"MultiLineInputContainer"})(["    display:flex;align-items:flex-end;margin-bottom:1rem;"]),lJ=(0,R.ZP)(lZ).withConfig({displayName:"MultiLineInput"})(["     margin-bottom:0;margin-right:0.5rem;overflow:hidden;overflow-wrap:break-word;line-height:1.7;resize:none;"]);let lQ=function(e){var t=e.value,r=e.count,n=e.shouldCounterShake,o=e.onChange,i=e.onEnterPress,a=(0,T.useRef)(null);return(0,T.useEffect)(function(){n&&a.current&&a.current.animate([{transform:"translateX(0px)"},{transform:"translateX(6px)"},{transform:"translateX(0px)"},{transform:"translateX(6px)"},{transform:"translateX(0px)"}],300)},[n]),(0,Z.jsxs)(lA,{children:[(0,Z.jsxs)(lK,{children:[(0,Z.jsx)(lJ,{as:"textarea",rows:"1",cols:"20",value:t,placeholder:"Bio",ref:function(e){if(e){e.focus();var t=e.scrollHeight;t-e.clientHeight>1&&(e.style.height="".concat(t,"px"))}},onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),i())},onInput:o}),(0,Z.jsx)(lY,{ref:a,children:-1===r?0:r})]}),(0,Z.jsx)(lL,{children:"You can add a few lines about yourself."})]})};function l0(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function l1(e,t,r,n,o,i,a){try{var l=e[i](a),c=l.value}catch(e){r(e);return}l.done?t(c):Promise.resolve(c).then(n,o)}let l2=function(e){var t,r,n=e.onClose,o=e.animationStyle,i=tR(function(e){return e.account});if(!i)throw Error("Invalid user account!");var a=(t=(0,T.useState)({value:i.bio||"",count:70-((null==(r=i.bio)?void 0:r.length)||0),shouldCounterShake:!1}),function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(i.push(r.value),i.length!==t);a=!0);}catch(e){l=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw n}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return l0(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l0(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=a[0],c=a[1],u=lB(),s=u.updateAccount,f=u.isUpdating,d=function(){var e;return(e=function(){var e,t,r,o;return function(e,t){var r,n,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(c){var u=[l,c];if(r)throw TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(i=0)),i;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,n=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}}(this,function(a){switch(a.label){case 0:if((e=l.value.trim())===i.bio)return[2,n()];return[4,s({bio:e})];case 1:return r=(t=a.sent()).success,o=t.message,r?n():console.log(o),[2]}})},function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){l1(i,n,o,a,l,"next",e)}function l(e){l1(i,n,o,a,l,"throw",e)}a(void 0)})})()};return(0,Z.jsxs)(lE,{title:"Edit bio",onClose:n,onDone:d,animationStyle:o,children:[(0,Z.jsx)(lQ,{value:l.value,count:l.count,shouldCounterShake:l.shouldCounterShake,onChange:function(e){var t=e.target.value;t.length<=70?c({value:t,count:70-t.length,shouldCounterShake:!1}):c(function(e){var t,r;return t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n})}return e}({},e),r=r={shouldCounterShake:!0},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}),t})},onEnterPress:d}),f&&(0,Z.jsx)(ok,{})]})};function l4(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l3="everybody",l5="contacts",l6="nobody",l8=(l4(N={},l3,"Everybody"),l4(N,l5,"My Contacts"),l4(N,l6,"Only Me"),N),l7={emailVisibility:{title:"Who can see your email address?",visibilityChoices:[l3,l5,l6]},lastSeenVisibility:{title:"Who can see your last seen time?",visibilityChoices:[l3,l5,l6]},profilePhotosVisibility:{title:"Who can see your profile photos?",visibilityChoices:[l3,l5,l6]},messageSender:{title:"Who can send you messages?",visibilityChoices:[l3,l5,l6]}};function l9(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw n}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return l9(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l9(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}let ct=function(){var e=X(),t=e.email,r=e.username,n=e.bio,o=e.emailVisibility,i=e.lastSeenVisibility,a=e.profilePhotosVisibility,l=e.messageSender,c=e.fullName,u=ce((0,T.useState)(null),2),s=u[0],f=u[1],d=ce((0,T.useState)(null),2),h=d[0],p=d[1],m=(0,T.useCallback)(function(e,t){p(t),f(e)},[]),y=(0,T.useCallback)(function(){return f(null)},[]);return{accountSettingsItems:(0,T.useMemo)(function(){return[{title:r?"@".concat(r):"Username",description:r?"Click to change username":"Click to add username",onClick:function(){return m("UsernameEditor")}},{title:c,description:"Name",onClick:function(){return m("NameEditor")}},{title:n||"Bio",description:n?"Bio":"Add a few words about yourself",onClick:function(){return m("BioEditor")}},{title:t||"",description:"Email",onClick:void 0}]},[n,t,c,m,r]),securitySettingsItems:(0,T.useMemo)(function(){return[{title:"Password",description:"Click to change password",onClick:function(){return m("PasswordEditor")}},{title:"Blocked Users",description:"You blocked 0 users",onClick:void 0}]},[m]),privacySettingsItems:(0,T.useMemo)(function(){return[{title:l7.emailVisibility.title,description:l8[o],onClick:function(){return m("PrivacyEditor","emailVisibility")}},{title:l7.lastSeenVisibility.title,description:l8[i],onClick:function(){return m("PrivacyEditor","lastSeenVisibility")}},{title:l7.profilePhotosVisibility.title,description:l8[a],onClick:function(){return m("PrivacyEditor","profilePhotosVisibility")}},{title:l7.messageSender.title,description:l8[l],onClick:function(){return m("PrivacyEditor","messageSender")}}]},[o,i,l,m,a]),activeModal:s,modalPayload:h,closeModal:y}};function cr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function cn(e,t,r,n,o,i,a){try{var l=e[i](a),c=l.value}catch(e){r(e);return}l.done?t(c):Promise.resolve(c).then(n,o)}function co(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw n}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return cr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cr(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ci={NEW_PASSWORD:"new_password",CONFIRM_PASSWORD:"confirm_password",CURRENT_PASSWORD:"current_password"};let ca=function(e){var t=co((0,T.useState)(ci.NEW_PASSWORD),2),r=t[0],n=t[1],o=co((0,T.useState)(""),2),i=o[0],a=o[1],l=co((0,T.useState)(""),2),c=l[0],u=l[1],s=co((0,T.useState)(""),2),f=s[0],d=s[1],h=co((0,T.useState)(""),2),p=h[0],m=h[1],y=co((0,T.useState)(""),2),g=y[0],b=y[1],v=co((0,T.useState)(""),2),w=v[0],x=v[1],j=lB(),C=j.updateAccount,P=j.isUpdating,k=function(){var t;return(t=function(){var t,r,n;return function(e,t){var r,n,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(c){var u=[l,c];if(r)throw TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(i=0)),i;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,n=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}}(this,function(o){switch(o.label){case 0:return[4,C({newPassword:i.trim(),password:f.trim()})];case 1:return r=(t=o.sent()).success,n=t.message,r?e():x(n||""),[2]}})},function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(e){cn(i,n,o,a,l,"next",e)}function l(e){cn(i,n,o,a,l,"throw",e)}a(void 0)})})()},S=function(){var e;return"string"!=typeof(e=i.trim())?"Invalid Password":0===e.length?"Password is required":e.length<4?"Password too short":""},O=function(){var e=c.trim(),t="string"!=typeof e?"Invalid Password":0===e.length?"Confirm password is required":"";return t||(e!==i.trim()?"Passwords do not match":"")},I=function(){var e;return"string"!=typeof(e=f.trim())?"Invalid Password":0===e.length?"Password is required":e.length<4?"Invalid password":""};return{currentStep:r,newPassword:i,confirmPassword:c,currentPassword:f,newPasswordError:p,confirmPasswordError:g,currentPasswordError:w,handleNewPasswordChange:function(e){a(e.target.value),m("")},handleConfirmPasswordChange:function(e){u(e.target.value),b("")},handleCurrentPasswordChange:function(e){d(e.target.value),x("")},handleBackNav:function(){switch(r){case ci.NEW_PASSWORD:e();break;case ci.CONFIRM_PASSWORD:n(ci.NEW_PASSWORD);break;case ci.CURRENT_PASSWORD:n(ci.CONFIRM_PASSWORD)}},handleNextNav:function(){switch(r){case ci.NEW_PASSWORD:var e=S();e?m(e):n(ci.CONFIRM_PASSWORD);break;case ci.CONFIRM_PASSWORD:var t=O();t?b(t):n(ci.CURRENT_PASSWORD);break;case ci.CURRENT_PASSWORD:var o=I();o?x(o):k()}},isLoading:P}},cl=function(e){var t=e.animationStyle,r=ca(e.onClose),n=r.currentStep,o=r.newPassword,i=r.confirmPassword,a=r.currentPassword,l=r.newPasswordError,c=r.confirmPasswordError,u=r.currentPasswordError,s=r.handleNewPasswordChange,f=r.handleConfirmPasswordChange,d=r.handleCurrentPasswordChange,h=r.handleBackNav,p=r.handleNextNav,m=r.isLoading;return(0,Z.jsxs)(lE,{title:"Change Password",animationStyle:t,onClose:h,onDone:p,leftButtonConfig:{label:n===ci.NEW_PASSWORD?"Cancel":"Previous"},rightButtonConfig:{label:n===ci.CURRENT_PASSWORD?"Done":"Next"},children:[n===ci.NEW_PASSWORD&&(0,Z.jsx)(lT,{label:"New password",type:"password",name:"newPassword",placeholder:"Password",value:o,onChange:s,onEnterPress:p,helperText:"Choose a strong password.",errorMessage:l}),n===ci.CONFIRM_PASSWORD&&(0,Z.jsx)(lT,{label:"Confirm password",type:"password",name:"confirmPassword",placeholder:"Password",value:i,onChange:f,onEnterPress:p,helperText:"Confirm your new password.",errorMessage:c}),n===ci.CURRENT_PASSWORD&&(0,Z.jsx)(lT,{label:"Current password",type:"password",name:"currentPassword",placeholder:"Password",value:a,onChange:d,onEnterPress:p,helperText:"Your current password helps us verify your identity.",errorMessage:u}),m&&(0,Z.jsx)(ok,{})]})};var cc=R.ZP.div.withConfig({displayName:"SpinnerPage"})(["position:fixed;z-index:400;top:0;left:0;right:0;bottom:0;display:flex;justify-content:center;align-items:center;background:rgba(0,0,0,0.35);"]),cu=R.ZP.div.withConfig({displayName:"SpinnerContainer"})(["width:160px;height:160px;display:flex;justify-content:center;align-items:center;background:#272d43;border-radius:25px;"]),cs=(0,R.F4)(["",""],(0,R.iv)(["0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}"])),cf=R.ZP.canvas.withConfig({displayName:"SpinnerCanvas"})(["animation:1s linear infinite ",";"],cs);function cd(){return(0,Z.jsx)(cc,{children:(0,Z.jsx)(cu,{children:(0,Z.jsx)(cf,{ref:function(e){if(e){var t=e.getContext("2d");t.clearRect(0,0,120,120),t.lineWidth=4,t.lineCap="round",t.strokeStyle="#6c868f",t.beginPath(),t.arc(60,60,35,0,1.7*Math.PI),t.stroke()}},width:"120",height:"120"})})})}var ch=R.ZP.div.withConfig({displayName:"RadioButtonContainer"})(["margin:1.4rem 0;display:flex;align-items:center;"]),cp=R.ZP.div.withConfig({displayName:"RadioButtonIconContainer"})(["position:relative;width:1.5rem;height:1.5rem;color:#2a81c7;"]),cm=(0,R.ZP)(function(e){return T.createElement("svg",rm({xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",strokeWidth:.2,viewBox:"0 0 24 24",stroke:"currentColor"},e),C||(C=T.createElement("path",{d:"M12 0C5.392 0 0 5.392 0 12s5.392 12 12 12 12-5.392 12-12S18.608 0 12 0m0 3.243A8.73 8.73 0 0 1 20.757 12 8.73 8.73 0 0 1 12 20.757 8.73 8.73 0 0 1 3.243 12 8.73 8.73 0 0 1 12 3.243"})))}).withConfig({displayName:"RadioButtonIconStyled"})(["position:absolute;top:0;left:0;right:0;bottom:0;z-index:5;cursor:pointer;"]),cy=(0,R.ZP)(function(e){return T.createElement("svg",ry({xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",strokeWidth:.2,viewBox:"0 0 24 24",stroke:"currentColor"},e),T.createElement("path",{d:"M18 12a6 6 0 0 1-6 6 6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6",style:{strokeWidth:.2}}))}).withConfig({displayName:"RadioButtonBallIconStyled"})(["position:absolute;top:0;left:0;right:0;bottom:0;transform:scale(0);transition:transform 0.17s ease-in-out;",""],function(e){return e.$isVisible&&(0,R.iv)(["transform:scale(1);"])}),cg=R.ZP.label.withConfig({displayName:"RadioButtonLabel"})(["padding-left:1rem;align-self:center;cursor:pointer;font-size:1rem;font-weight:400;color:",";"],function(e){var t;return null==(t=e.theme.textColors)?void 0:t.normal});let cb=function(e){var t=e.isChecked,r=e.label,n=e.value,o=e.onCheck;return(0,Z.jsxs)(ch,{children:[(0,Z.jsxs)(cp,{children:[(0,Z.jsx)(cm,{role:"radio","data-value":n,onClick:o}),(0,Z.jsx)(cy,{$isVisible:t})]}),(0,Z.jsx)(cg,{"data-value":n,onClick:o,children:r})]})};var cv=R.ZP.div.withConfig({displayName:"VisibilityChoicesContainer"})([""]);function cw(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function cx(e,t,r,n,o,i,a){try{var l=e[i](a),c=l.value}catch(e){r(e);return}l.done?t(c):Promise.resolve(c).then(n,o)}let cj=function(e){var t,r=e.settingKey,n=e.animationStyle,o=e.onClose,i=l7[r],a=i.title,l=i.visibilityChoices,c=tR(function(e){return e.account});if(!c)throw Error("Invalid account!");var u=(t=(0,T.useState)(c[r]),function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(i.push(r.value),i.length!==t);a=!0);}catch(e){l=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw n}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return cw(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cw(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=u[0],f=u[1],d=function(e){return f(e.target.dataset.value)},h=lB(),p=h.updateAccount,m=h.isUpdating;return(0,Z.jsxs)(lE,{title:a,animationStyle:n,onDone:function(){var e;return(e=function(){var e,t,n;return function(e,t){var r,n,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(c){var u=[l,c];if(r)throw TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(i=0)),i;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,n=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}}(this,function(i){switch(i.label){case 0:var a;return[4,p((r in(a={})?Object.defineProperty(a,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[r]=s,a))];case 1:return t=(e=i.sent()).success,n=e.message,t?o():console.error(n),[2]}})},function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){cx(i,n,o,a,l,"next",e)}function l(e){cx(i,n,o,a,l,"throw",e)}a(void 0)})})()},onClose:o,children:[(0,Z.jsx)(cv,{children:l.map(function(e,t){return(0,Z.jsx)(cb,{isChecked:e===s,label:l8[e],value:e,onCheck:d},"".concat(t))})}),m&&(0,Z.jsx)(cd,{})]})};function cC(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}let cP=function(e){var t,r,n,o=e.animationStyle,i=e.onClose,a=eu().windowWidth,l=ct(),c=l.accountSettingsItems,u=l.securitySettingsItems,s=l.privacySettingsItems,f=l.activeModal,d=l.modalPayload,h=l.closeModal,p=(t=(0,T.useState)("profilePhoto"),function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(i.push(r.value),i.length!==t);a=!0);}catch(e){l=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw n}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return cC(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cC(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),m=p[0],y=p[1],g=(0,T.useMemo)(function(){return c.map(function(e,t){return(0,Z.jsxs)(ly,{onClick:e.onClick,children:[(0,Z.jsxs)("div",{children:[(0,Z.jsx)(lg,{children:e.title}),(0,Z.jsx)(lb,{children:e.description})]}),(0,Z.jsx)(lv,{children:(0,Z.jsx)(rE,{})})]},"".concat(t,"-").concat(e.title))})},[c]),b=(0,T.useMemo)(function(){return u.map(function(e,t){return(0,Z.jsxs)(ly,{onClick:e.onClick,children:[(0,Z.jsxs)("div",{children:[(0,Z.jsx)(lg,{children:e.title}),(0,Z.jsx)(lb,{children:e.description})]}),(0,Z.jsx)(lv,{children:(0,Z.jsx)(rE,{})})]},"".concat(t,"-").concat(e.title))})},[u]),v=(0,T.useMemo)(function(){return s.map(function(e,t){return(0,Z.jsxs)(ly,{onClick:e.onClick,children:[(0,Z.jsxs)("div",{children:[(0,Z.jsx)(lg,{children:e.title}),(0,Z.jsx)(lb,{children:e.description})]}),(0,Z.jsx)(lv,{children:(0,Z.jsx)(rE,{})})]},"".concat(t,"-").concat(e.title))})},[s]),w=tB("UsernameEditor"===f),x=tB("NameEditor"===f),j=tB("BioEditor"===f),C=tB("PasswordEditor"===f),P=tB("PrivacyEditor"===f);return(0,Z.jsx)(ll,{style:(r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n})}return e}({},o),n=n={transform:void 0},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(n)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(n,e))}),r),children:(0,Z.jsxs)(lc,{style:o,$windowWidth:a,children:[a>500&&(0,Z.jsxs)(lu,{children:[(0,Z.jsx)(ls,{children:"Settings"}),(0,Z.jsx)(ni,{onClick:i})]}),(0,Z.jsxs)(lf,{children:[a<=500&&(0,Z.jsx)(nt,{onClick:i}),(0,Z.jsxs)(ld,{$windowWidth:a,children:[(0,Z.jsx)(lh,{$isActive:"account"===m,onClick:function(){return y("account")},children:"Account"}),(0,Z.jsx)(lp,{}),(0,Z.jsx)(lh,{$isActive:"profilePhoto"===m,onClick:function(){return y("profilePhoto")},children:"Profile Photo"}),(0,Z.jsx)(lp,{}),(0,Z.jsx)(lh,{$isActive:"security"===m,onClick:function(){return y("security")},children:"Security"}),(0,Z.jsx)(lp,{}),(0,Z.jsx)(lh,{$isActive:"privacy"===m,onClick:function(){return y("privacy")},children:"Privacy"})]})]}),"profilePhoto"===m&&(0,Z.jsx)(la,{}),"account"===m&&(0,Z.jsx)(lm,{children:g}),"security"===m&&(0,Z.jsx)(lm,{children:b}),"privacy"===m&&(0,Z.jsx)(lm,{children:v}),w.isMounted&&(0,Z.jsx)(l$,{onClose:h,animationStyle:w.animationStyle}),x.isMounted&&(0,Z.jsx)(lq,{onClose:h,animationStyle:x.animationStyle}),j.isMounted&&(0,Z.jsx)(l2,{onClose:h,animationStyle:j.animationStyle}),C.isMounted&&(0,Z.jsx)(cl,{onClose:h,animationStyle:C.animationStyle}),P.isMounted&&(0,Z.jsx)(cj,{settingKey:d,onClose:h,animationStyle:P.animationStyle})]})})};var ck=R.ZP.button.withConfig({displayName:"MenuButtonStyled"})(["position:fixed;top:1rem;left:1rem;height:1.3rem;display:flex;flex-direction:column;justify-content:space-between;align-items:center;"]),cS=R.ZP.span.withConfig({displayName:"Dash"})(["display:block;width:2rem;height:3px;background:#aaaaaa;"]);let cO=function(e){var t=e.onClick;return(0,Z.jsxs)(ck,{onClick:t,children:[(0,Z.jsx)(cS,{}),(0,Z.jsx)(cS,{}),(0,Z.jsx)(cS,{})]})};function cI(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function cE(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw n}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return cI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cI(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}let cA=function(){var e=(0,z.s0)(),t=eu().isLargeScreen,r=cE((0,T.useState)(!1),2),n=r[0],o=r[1],i=(0,T.useCallback)(function(){return o(!0)},[]),a=(0,T.useCallback)(function(){return o(!1)},[]),l=(0,T.useCallback)(function(){return o(function(e){return!e})},[]),c=X(),u=c.fullName,s=c.nameInitials,f=c.photoUrl,d=c.logout,h=tp(f),p=h.handleImageLoad,m=h.imageSrc,y=cE((0,T.useState)(!1),2),g=y[0],b=y[1],v=(0,T.useCallback)(function(){return b(!0)},[]),w=(0,T.useCallback)(function(){return b(!1)},[]),x=tB(g),j=function(){n&&a(),v()},C=[{onClick:function(){a(),e("/chat/2")},icon:(0,Z.jsx)(aw,{src:"/icons/user.png",alt:"icon"}),label:"Contacts"},{onClick:j,icon:(0,Z.jsx)(rS,{}),label:"Settings"},{onClick:d,icon:(0,Z.jsx)(rs,{}),label:"Log out"}],P=(0,z.TH)();return(0,Z.jsxs)(af,{$isVisible:n,onClick:function(e){e.target===e.currentTarget&&a()},children:[!t&&"/"===P.pathname&&(0,Z.jsx)(cO,{onClick:i}),x.isMounted&&(0,Z.jsx)(cP,{onClose:w,animationStyle:x.animationStyle}),(0,Z.jsxs)(ad,{$isLargeScreen:t,$isVisible:n,children:[(0,Z.jsx)(ay,{onClick:l,children:n?(0,Z.jsx)(re,{}):(0,Z.jsx)(rE,{})}),(0,Z.jsxs)(ah,{$isVisible:n,onClick:j,children:[(0,Z.jsx)(ap,{children:m?(0,Z.jsx)(am,{src:m,onLoad:p,alt:"Profile Photo"}):(0,Z.jsx)(nL,{nameInitials:s,isSmall:!0})}),(0,Z.jsx)(ag,{children:u})]}),(0,Z.jsx)(ab,{$isVisible:n,$isLargeScreen:t,children:C.map(function(e){return(0,Z.jsxs)(av,{onClick:e.onClick,children:[(0,Z.jsx)(ax,{children:e.icon}),n&&(0,Z.jsx)(aj,{children:e.label})]},e.label)})})]})]})};var cM=R.ZP.div.withConfig({displayName:"InputGroup"})(["margin-bottom:1.5rem;"]),cN=R.ZP.label.withConfig({displayName:"InputLabel"})(["font-size:1rem;font-weight:500;color:#b1b1b1;"]),cZ=R.ZP.input.withConfig({displayName:"InputField"})(["width:300px;padding:0.4rem 0.6rem;outline-style:none;box-shadow:none;border:1px solid #2f8396;border-radius:0;font-size:1.1rem;font-weight:400;color:#c2c2c2;background-color:transparent;caret-color:#03ffe7;&:focus{border-color:#1fb5d6;}"]),cL=R.ZP.p.withConfig({displayName:"InputError"})(["margin-left:3px;font-size:0.9rem;font-weight:500;color:#b93917;"]);function cT(e){var t=e.label,r=e.type,n=e.name,o=e.placeholder,i=e.value,a=e.shouldFocus,l=e.onChangeListener,c=e.onEnter,u=e.error,s=e.shakeError,f="id-".concat(n);return(0,Z.jsxs)(cM,{children:[(0,Z.jsx)(cN,{htmlFor:f,children:t}),(0,Z.jsx)(cZ,{type:void 0===r?"text":r,name:n,placeholder:void 0===o?"":o,value:i,ref:function(e){e&&a&&e.focus()},onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),c(e))},onInput:l,id:f}),u&&(0,Z.jsx)(cL,{ref:function(e){e&&u&&s&&e.animate([{transform:"translateX(0px)"},{transform:"translateX(12px)"},{transform:"translateX(0px)"},{transform:"translateX(12px)"},{transform:"translateX(0px)"}],700)},children:u})]})}function cD(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function cU(e){var t=e.value,r=e.shouldFocus,n=e.onChangeListener,o=e.onEnter,i=e.error,a=e.shakeError;return(0,Z.jsx)(cT,{label:"Email",type:"email",name:"email",value:t,shouldFocus:r,onChangeListener:n,onEnter:o,error:i,shakeError:a})}function cB(e){var t=e.value,r=e.shouldFocus,n=e.onChangeListener,o=e.onEnter,i=e.error,a=e.shakeError;return(0,Z.jsx)(cT,{label:"Password",type:"password",name:"password",value:t,shouldFocus:r,onChangeListener:n,onEnter:o,error:i,shakeError:a})}function cF(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function cR(e,t,r,n,o,i,a){try{var l=e[i](a),c=l.value}catch(e){r(e);return}l.done?t(c):Promise.resolve(c).then(n,o)}function cz(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c$(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){cz(e,t,r[t])})}return e}function cW(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}var c_=R.ZP.h2.withConfig({displayName:"FormTitle"})(["margin-bottom:1rem;font-size:1.5rem;font-weight:500;color:#26a7c4;"]);function cV(){var e,t=(e=(0,T.useState)({email:"",emailError:"",password:"",passwordError:"",shakeErrors:!1,activeField:"email"}),function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(i.push(r.value),i.length!==t);a=!0);}catch(e){l=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw n}}return i}}(e,2)||function(e,t){if(e){if("string"==typeof e)return cF(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cF(e,t)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=t[0],n=t[1],o=function(e){var t=e.target,r=t.name,o=t.value;n(function(e){var t;return cW(c$({},e),(cz(t={},r,o),cz(t,"".concat(r,"Error"),null),cz(t,"activeField",r),cz(t,"shakeErrors",!1),t))})},i=el().post,a=tF(),l=function(){var e;return(e=function(){var e,t,o,l,c,u,s,f;return function(e,t){var r,n,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(c){var u=[l,c];if(r)throw TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(i=0)),i;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,n=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}}(this,function(d){switch(d.label){case 0:var h;if(e=r.email.trim(),t=r.password.trim(),o=function(e){if("string"!=typeof e)return"Invalid email.";if(0===e.length)return"Email is required.";if(2!==(e=e.split("@")).length)return"Invalid email.";var t,r=function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(i.push(r.value),i.length!==t);a=!0);}catch(e){l=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw n}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return cD(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cD(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=r[0],o=r[1];if(!/^\w+([.-]?\w+)*$/.test(n))return"Invalid email.";var i=o.lastIndexOf(".");if(-1===i)return"Invalid email.";var a=o.substring(0,i);if(!/^\w+([.-]?\w+)*$/.test(a))return"Invalid email.";var l=o.substring(i);return/^\.\w{1,6}$/.test(l)?"":"Invalid email."}(e),l="string"!=typeof(h=t)?"Invalid password":0===h.length?"Password is required.":h.length<4?"Invalid password":"",!(o||l))return[3,1];return n(function(e){return cW(c$({},e),{emailError:o,passwordError:l,shakeErrors:!0})}),[3,3];case 1:return[4,i("/auth/login",{email:e,password:t})];case 2:u=(c=d.sent()).success,s=c.data,f=c.message,u?a(ep(s||null)):(n(function(e){return cW(c$({},e),{passwordError:f||"",shakeErrors:!0})}),console.error(u)),d.label=3;case 3:return[2]}})},function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){cR(i,n,o,a,l,"next",e)}function l(e){cR(i,n,o,a,l,"throw",e)}a(void 0)})})()},c=function(){return l()},u=r.shakeErrors;return(0,Z.jsxs)("form",{action:"login",method:"POST",children:[(0,Z.jsx)(c_,{children:"LogIn"}),(0,Z.jsx)(cU,{value:r.email,shouldFocus:"email"===r.activeField,onChangeListener:o,onEnter:c,error:r.emailError,shakeError:u}),(0,Z.jsx)(cB,{value:r.password,shouldFocus:"password"===r.activeField,onChangeListener:o,onEnter:c,error:r.passwordError,shakeError:u}),(0,Z.jsx)(cG,{onClickHandler:l}),(0,Z.jsxs)("div",{children:["Don't have an account? ",(0,Z.jsx)(z.rU,{to:"../signup",children:"Sign up"})]})]})}var cH=R.ZP.input.withConfig({displayName:"ButtonPrimary"})(["padding:0.5rem 1.7rem;cursor:pointer;box-shadow:none;outline-style:none;border:1px solid #2f8396;border-radius:4px;font-size:1rem;font-weight:500;color:#b1b1b1;background:transparent;&:hover{border-color:#06e2ff;}"]);function cG(e){var t=e.onClickHandler;return(0,Z.jsx)(cM,{children:(0,Z.jsx)(cH,{type:"submit",value:"LogIn",onClick:function(e){e.preventDefault(),t()}})})}function cX(e){var t=e.value,r=e.shouldFocus,n=e.onChangeListener,o=e.onEnter,i=e.error,a=e.shakeError;return(0,Z.jsx)(cT,{label:"Name",name:"name",value:t,shouldFocus:r,onChangeListener:n,onEnter:o,error:i,shakeError:a})}function cq(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function cY(e){var t=e.value,r=e.shouldFocus,n=e.onChangeListener,o=e.onEnter,i=e.error,a=e.shakeError;return(0,Z.jsx)(cT,{label:"Email",type:"email",name:"email",value:t,shouldFocus:r,onChangeListener:n,onEnter:o,error:i,shakeError:a})}function cK(e){var t=e.value,r=e.shouldFocus,n=e.onChangeListener,o=e.onEnter,i=e.error,a=e.shakeError;return(0,Z.jsx)(cT,{label:"Password",type:"password",name:"password",value:t,shouldFocus:r,onChangeListener:n,onEnter:o,error:i,shakeError:a})}function cJ(e){var t=e.value,r=e.shouldFocus,n=e.onChangeListener,o=e.onEnter,i=e.error,a=e.shakeError;return(0,Z.jsx)(cT,{label:"Confirm Password",type:"password",name:"confirmPassword",value:t,shouldFocus:r,onChangeListener:n,onEnter:o,error:i,shakeError:a})}function cQ(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function c0(e,t,r,n,o,i,a){try{var l=e[i](a),c=l.value}catch(e){r(e);return}l.done?t(c):Promise.resolve(c).then(n,o)}function c1(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c2(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){c1(e,t,r[t])})}return e}function c4(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}function c3(){var e,t=(e=(0,T.useState)({name:"",nameError:"",email:"",emailError:"",password:"",passwordError:"",confirmPassword:"",confirmPasswordError:"",shakeErrors:!1,activeField:"name"}),function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(i.push(r.value),i.length!==t);a=!0);}catch(e){l=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw n}}return i}}(e,2)||function(e,t){if(e){if("string"==typeof e)return cQ(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cQ(e,t)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=t[0],n=t[1],o=function(e){var t=e.target,r=t.name,o=t.value;n(function(e){var t;return c4(c2({},e),(c1(t={},r,o),c1(t,"".concat(r,"Error"),null),c1(t,"activeField",r),c1(t,"shakeErrors",!1),t))})},i=el().post,a=tF(),l=function(){var e;return(e=function(){var e,t,o,l,c,u,s,f,d,h,p,m;return function(e,t){var r,n,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(c){var u=[l,c];if(r)throw TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(i=0)),i;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,n=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}}(this,function(y){switch(y.label){case 0:var g,b;if(e=r.name.trim(),t=r.email.trim(),o=r.password.trim(),l=r.confirmPassword.trim(),c="string"!=typeof(g=e)?"Invalid name.":0===g.length?"Name is rquired.":/^[A-Za-z][A-Za-z ]*$/.test(g)?g.split(" ").length>3?"Name cannot have more than two spaces.":g.length>25?"Name too long.":"":"Invalid name.",u=function(e){if("string"!=typeof e)return"Invalid email.";if(0===e.length)return"Email is required.";if(2!==(e=e.split("@")).length)return"Invalid email.";var t,r=function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(i.push(r.value),i.length!==t);a=!0);}catch(e){l=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw n}}return i}}(t,2)||function(e,t){if(e){if("string"==typeof e)return cq(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cq(e,t)}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=r[0],o=r[1];if(!/^\w+([.-]?\w+)*$/.test(n))return"Invalid email.";var i=o.lastIndexOf(".");if(-1===i)return"Invalid email.";var a=o.substring(0,i);if(!/^\w+([.-]?\w+)*$/.test(a))return"Invalid email.";var l=o.substring(i);return/^\.\w{1,6}$/.test(l)?"":"Invalid email."}(t),s="string"!=typeof(b=o)?"Invalid password":0===b.length?"Password is required.":b.length<4?"Password too short.":"",(f="string"!=typeof l?"Invalid password":0===l.length?"Confirm password is required.":"")||l===o||(f="Passwords do not match."),!(c||u||s||f))return[3,1];return n(function(e){return c4(c2({},e),{nameError:c,emailError:u,passwordError:s,confirmPasswordError:f,shakeErrors:!0})}),[3,3];case 1:return[4,i("/auth/signup",{firstName:e,email:t,password:o})];case 2:h=(d=y.sent()).success,p=d.data,m=d.message,h&&p?a(eh(p)):(n(function(e){return c4(c2({},e),{confirmPasswordError:m||"",shakeErrors:!0})}),console.error(m)),y.label=3;case 3:return[2]}})},function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){c0(i,n,o,a,l,"next",e)}function l(e){c0(i,n,o,a,l,"throw",e)}a(void 0)})})()},c=function(){return l()},u=r.shakeErrors;return(0,Z.jsxs)("form",{action:"signup",method:"POST",children:[(0,Z.jsx)(c_,{children:"Join Now"}),(0,Z.jsx)(cX,{value:r.name,shouldFocus:"name"===r.activeField,onChangeListener:o,onEnter:c,error:r.nameError,shakeError:u}),(0,Z.jsx)(cY,{value:r.email,shouldFocus:"email"===r.activeField,onChangeListener:o,onEnter:c,error:r.emailError,shakeError:u}),(0,Z.jsx)(cK,{value:r.password,shouldFocus:"password"===r.activeField,onChangeListener:o,onEnter:c,error:r.passwordError,shakeError:u}),(0,Z.jsx)(cJ,{value:r.confirmPassword,shouldFocus:"confirmPassword"===r.activeField,onChangeListener:o,onEnter:c,error:r.confirmPasswordError,shakeError:u}),(0,Z.jsx)(c5,{onSubmitHandler:l}),(0,Z.jsxs)("div",{children:["Already have an account? ",(0,Z.jsx)(z.rU,{to:"../login",children:"Log in"})]})]})}function c5(e){var t=e.onSubmitHandler;return(0,Z.jsx)(cM,{children:(0,Z.jsx)(cH,{type:"submit",value:"Sign Up",onClick:function(e){e.preventDefault(),t()}})})}var c6=R.ZP.header.withConfig({displayName:"HeaderSection"})(["display:flex;flex-direction:column;align-items:center;margin-bottom:1rem;margin-top:1.5rem;"]),c8=R.ZP.h1.withConfig({displayName:"Logo"})(["font-size:2.5rem;font-weight:400;border-bottom:5px solid #b734e6;border-radius:40px;padding:0px 0px 5px 0px;margin-bottom:10px;border-bottom-left-radius:0px;"]),c7=R.ZP.span.withConfig({displayName:"LogoPartOne"})(["color:#58c70c;"]),c9=R.ZP.span.withConfig({displayName:"LogoPartTwo"})(["color:#b734e6;"]),ue=R.ZP.h2.withConfig({displayName:"Description"})(["text-align:center;font-size:1.2rem;font-weight:500;font-style:italic;color:#afb917;"]);function ut(){return(0,Z.jsxs)(c6,{children:[(0,Z.jsxs)(c8,{children:[(0,Z.jsx)(c7,{children:"Spark"}),(0,Z.jsx)(c9,{children:"chat"})]}),(0,Z.jsx)(ue,{children:"Fast And Secure Real Time Messaging Platform"})]})}var ur=R.ZP.div.withConfig({displayName:"CenteredPage"})(["width:100%;display:flex;flex-direction:column;align-items:center;"]);let un=function(){return(0,Z.jsxs)(ur,{children:[(0,Z.jsx)(ut,{}),(0,Z.jsx)("main",{children:(0,Z.jsxs)(z.Z5,{children:[(0,Z.jsx)(z.AW,{index:!0,element:(0,Z.jsx)(cV,{})}),(0,Z.jsx)(z.AW,{path:"/*",element:(0,Z.jsx)(cV,{})}),(0,Z.jsx)(z.AW,{path:"/signup",element:(0,Z.jsx)(c3,{})})]})})]})},uo={mainFgColor:"#e0e0e0",mainBgColor:"#21242e",titleFgColor:"",descFgColor:"",textColor:"#c8c8c8",iconColor:"#ffffff",pageBackgroundColor:"#0b0d14",contentBackgroundColor:"#1c2130",contentBorderColor:"#283456",page:{backgroundColor:"#0b0d14"},backgroundColors:{main:"#314352",hover:"#334759",bright:"#3c576e",veryBright:"#466e91",overlay:"#0000008f",button:"#4684bb",buttonHover:"#4c99dd",textInput:"#29343e"},textColors:{normal:"#f1f1f1",title:"#ffffff",description:"#9c9c9c"},dividerColor:"#3a566e",borderColor:"#405d76",text:{title:{color:"#ffffff"},normal:{color:"#f1f1f1"},description:{color:"#9c9c9c"}},message:{sent:{color:"#ffffff",backgroundColor:"#43136d"},received:{color:"#ffffff",backgroundColor:"#314352"}},primaryButton:{color:"#f3f3f3",backgroundColor:"#0765a8",hover:{color:"#f9f9f9",backgroundColor:"#076fb9"}},disabledPrimaryButton:{color:"#bababa",backgroundColor:"#353f5d"},iconButton:{color:"#ffffff",backgroundColor:"#2339b7",hover:{backgroundColor:"#203ff0"}},disabledIconButton:{color:"#8f8f8f",backgroundColor:"#1c2a54"},errorBanner:{color:"#db1d7c",backgroundColor:""},sliderProgress:{backgroundColor:"#3f3c61"},cropOverlayMask:{outlineColor:"#00000070"},contextMenu:{backgroundColor:"#484848"},contextMenuItem:{backgroundColor:"#484848",color:"#eaeaea",hover:{backgroundColor:"#4f5152"}},nameInitials:{backgroundColor:"#005d27"},messageInput:{backgroundColor:"#1c2130",color:"#f1f1f1",placeholder:{color:"#99a9b6"}}},ui={mainFgColor:"#fff",mainBgColor:"#f1f1f1",titleFgColor:"",descFgColor:""};function ua(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}let ul=function(){var e,t=tj().windowWidth,r=(e=(0,T.useState)("dark"),function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(i.push(r.value),i.length!==t);a=!0);}catch(e){l=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw n}}return i}}(e,2)||function(e,t){if(e){if("string"==typeof e)return ua(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ua(e,t)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),n=r[0],o=r[1],i=(0,T.useCallback)(function(){o(function(e){return"light"===e?"dark":"light"})},[]),a=(0,T.useMemo)(function(){return"dark"===n?uo:ui},[n]),l=tk();return{windowWidth:t,theme:a,toggleTheme:i,isLargeScreen:t>=768,currentRoutePath:l.currentPath,previousRoutePath:l.previousPath}};var uc=R.ZP.div.withConfig({displayName:"ProfileStyled"})(["position:relative;height:100%;color:",";background:",";"],function(e){return e.theme.mainFgColor},function(e){return e.theme.mainBgColor}),uu=R.ZP.div.withConfig({displayName:"InfoStyled"})(["padding-left:1rem;padding-top:1rem;"]);R.ZP.h3.withConfig({displayName:"Title"})(["font-size:1rem;margin-bottom:0.5rem;color:#5aa4df;"]);var us=R.ZP.div.withConfig({displayName:"InfoItem"})(["padding:0.6rem 0;border-bottom:1px solid #1b1d23;"]),uf=R.ZP.h2.withConfig({displayName:"InfoItemTitle"})(["margin-bottom:0.5rem;font-size:1rem;color:inherit;"]),ud=R.ZP.p.withConfig({displayName:"InfoItemDesc"})(["display:block;color:#7c7e85;font-size:0.9rem;"]);let uh=function(e){var t=e.user;return(0,Z.jsxs)(uu,{children:[(null==t?void 0:t.email)&&(0,Z.jsxs)(us,{children:[(0,Z.jsx)(uf,{children:t.email}),(0,Z.jsx)(ud,{children:"Email"})]}),(null==t?void 0:t.bio)&&(0,Z.jsxs)(us,{children:[(0,Z.jsx)(uf,{children:t.bio}),(0,Z.jsx)(ud,{children:"Bio"})]}),(null==t?void 0:t.username)&&(0,Z.jsxs)(us,{children:[(0,Z.jsxs)(uf,{children:["@",t.username]}),(0,Z.jsx)(ud,{children:"Username"})]})]})};function up(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function um(e,t,r,n,o,i,a){try{var l=e[i](a),c=l.value}catch(e){r(e);return}l.done?t(c):Promise.resolve(c).then(n,o)}function uy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(r=o.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){l=!0,n=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw n}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return up(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return up(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}let ug=function(e){var t=uy((0,T.useState)([]),2),r=t[0],n=t[1],o=uy((0,T.useState)(!1),2),i=o[0],a=o[1],l=(0,T.useRef)(0),c=el().get;return(0,T.useEffect)(function(){var t;!i&&e&&(t=function(){var t,r,o,i;return function(e,t){var r,n,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(l){return function(c){var u=[l,c];if(r)throw TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(i=0)),i;)try{if(r=1,n&&(o=2&u[0]?n.return:u[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,u[1])).done)return o;switch(n=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,n=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(e){u=[6,e],n=0}finally{r=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}}(this,function(u){switch(u.label){case 0:return[4,c("/profile-photos/user/".concat(e))];case 1:return r=(t=u.sent()).success,o=t.data,i=t.message,r?(n(o),a(!0)):(console.error(i),l.current>2&&a(!0)),l.current++,[2]}})},function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(e){um(i,n,o,a,l,"next",e)}function l(e){um(i,n,o,a,l,"throw",e)}a(void 0)})})()},[c,i,e]),r},ub=function(e){var t=e.user,r=tE(t),n=r.fullName,o=r.nameInitials,i=r.isBlocked,a=r.isContact,l=r.blockUser,c=r.unblockUser,u=r.addToContacts,s=r.removeFromContacts,f=n3(),d=f.isContextMenuVisible,h=f.onMoreButtonClick,p=f.contextMenuControlProps,m=tl(),y=m.isFullScreenMode,g=m.toggleFullScreenMode,b=m.exitFullScreenMode,v=ug(null==t?void 0:t.id),w=(null==v?void 0:v.length)||0,x=tv(w),j=x.currentIndex,C=x.handleNext,P=x.handlePrevious,k=x.photoIndexIndicator,S=tw(v[j]),O=S.photoUrl,I=S.photoDateTime,E=S.downloadPhoto,A=tp(O||null),M=A.isImageFetching,N=A.isImageLoading,L=A.imageSrc,D=A.handleImageLoad,U=(0,T.useMemo)(function(){var e=[];return y||(i?e.push({icon:(0,Z.jsx)(rI,{}),label:"Unblock user",action:c}):e.push({icon:(0,Z.jsx)(t6,{}),label:"Block user",action:l}),a?e.push({icon:(0,Z.jsx)(rb,{}),label:"Remove contact",action:s}):e.push({icon:(0,Z.jsx)(tJ,{}),label:"Add contact",action:u})),L&&e.push({icon:(0,Z.jsx)(ro,{}),label:"Download",action:E}),e},[y,L,i,a,c,l,s,u,E]);return(0,Z.jsxs)(aC,{$isFullScreenMode:y,children:[(0,Z.jsxs)(np,{children:[y?(0,Z.jsx)(nt,{onClick:b}):(0,Z.jsx)(r9,{to:"/chat/".concat(null==t?void 0:t.id)}),w>1&&(0,Z.jsx)(nm,{children:k}),(0,Z.jsx)(nn,{onClick:h})]}),M&&(0,Z.jsx)(oE,{}),L?(0,Z.jsx)(oM,{src:L,onLoad:D,alt:"Profile Photo",isBlur:M||N,onClick:g,isPhotoNavTarget:!0}):(0,Z.jsx)(nL,{nameInitials:o}),w>1&&(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(nC,{onClick:P}),(0,Z.jsx)(nx,{onClick:C})]}),!y&&(0,Z.jsx)(aP,{children:n}),y&&I&&(0,Z.jsxs)(ny,{children:[(0,Z.jsxs)(ng,{children:[n," - profile photo"]}),(0,Z.jsx)(ng,{children:I})]}),d&&(0,Z.jsx)(n5,{menuItems:U,controlProps:p})]})},uv=function(){var e=(0,z.UO)(),t=tN(parseInt("string"==typeof(null==e?void 0:e.userId)?e.userId:"",10));return(0,Z.jsxs)(uc,{children:[(0,Z.jsx)(ub,{user:t}),(0,Z.jsx)(uh,{user:t})]})};var uw=R.ZP.div.withConfig({displayName:"AppContainer"})(["display:flex;",""],function(e){return e.$isLargeScreen&&(0,R.iv)(["margin-left:4rem;"])}),ux=R.ZP.div.withConfig({displayName:"PageContainer"})(["height:100vh;overflow-y:auto;flex-grow:1;display:flex;justify-content:center;&::-webkit-scrollbar{background:inherit;width:4px;}&::-webkit-scrollbar-thumb{background:#3d455c;border-radius:30px;}"]);let uj=function(){var e=ul(),t=e.theme,r=e.isLargeScreen,n=oy(),o=ek(),i=o.isLoading,a=o.isLoggedIn;return(te(),e$(),i)?(0,Z.jsx)(cd,{}):(0,Z.jsxs)(R.f6,{theme:t,children:[(0,Z.jsx)(nl,{}),a?(0,Z.jsx)(om,{value:n,children:(0,Z.jsx)(ec,{value:e,children:(0,Z.jsxs)(uw,{$isLargeScreen:r,children:[(0,Z.jsx)(cA,{}),r&&(0,Z.jsx)(r1,{}),(0,Z.jsx)(ux,{children:(0,Z.jsxs)(z.Z5,{children:[!r&&(0,Z.jsx)(z.AW,{index:!0,element:(0,Z.jsx)(r1,{})}),(0,Z.jsx)(z.AW,{path:"/chat/:chatPartnerId",element:(0,Z.jsx)(as,{})}),(0,Z.jsx)(z.AW,{path:"/profile/:userId",element:(0,Z.jsx)(uv,{})})]})})]})})}):(0,Z.jsx)(un,{})]})};var uC=(0,es.oM)({name:"chats",initialState:[],reducers:{chatsFetched:function(e,t){return t.payload}}});let uP=uC.reducer;uC.actions.chatsFetched;var uk=(0,es.xC)({reducer:{account:em,profilePhotos:ej,messages:eH,chats:uP,users:eE,contacts:e4,blockedUsers:eT}});n=function(){(0,L.createRoot)(document.getElementById("root")).render((0,Z.jsx)(T.StrictMode,{children:(0,Z.jsx)(H.zt,{store:uk,children:(0,Z.jsx)(z.UT,{children:(0,Z.jsx)(uj,{})})})}))},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",n):n()}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.m=e,r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.nc=void 0,(()=>{var e=[];r.O=(t,n,o,i)=>{if(n){i=i||0;for(var a=e.length;a>0&&e[a-1][2]>i;a--)e[a]=e[a-1];e[a]=[n,o,i];return}for(var l=1/0,a=0;a<e.length;a++){for(var[n,o,i]=e[a],c=!0,u=0;u<n.length;u++)(!1&i||l>=i)&&Object.keys(r.O).every(e=>r.O[e](n[u]))?n.splice(u--,1):(c=!1,i<l&&(l=i));if(c){e.splice(a--,1);var s=o();void 0!==s&&(t=s)}}return t}})(),r.rv=()=>"1.3.13",(()=>{var e={909:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var o,i,[a,l,c]=n,u=0;if(a.some(t=>0!==e[t])){for(o in l)r.o(l,o)&&(r.m[o]=l[o]);if(c)var s=c(r)}for(t&&t(n);u<a.length;u++)i=a[u],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(s)},n=self.webpackChunksemaychat_frontend=self.webpackChunksemaychat_frontend||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),r.ruid="bundler=rspack@1.3.13";var n=r.O(void 0,["971"],function(){return r(419)});n=r.O(n)})();