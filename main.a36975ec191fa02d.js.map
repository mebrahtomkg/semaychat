{"version":3,"file":"main.a36975ec191fa02d.js","sources":["webpack://semaychat-frontend/./src/utils.ts","webpack://semaychat-frontend/./src/assets/icons/add.svg","webpack://semaychat-frontend/./src/assets/icons/addPhoto.svg","webpack://semaychat-frontend/./src/assets/icons/back.svg","webpack://semaychat-frontend/./src/assets/icons/checkBox.svg","webpack://semaychat-frontend/./src/assets/icons/close.svg","webpack://semaychat-frontend/./src/assets/icons/delete.svg","webpack://semaychat-frontend/./src/assets/icons/download.svg","webpack://semaychat-frontend/./src/assets/icons/logout.svg","webpack://semaychat-frontend/./src/assets/icons/more.svg","webpack://semaychat-frontend/./src/assets/icons/previous.svg","webpack://semaychat-frontend/./src/assets/icons/radioButton.svg","webpack://semaychat-frontend/./src/assets/icons/removeContact.svg","webpack://semaychat-frontend/./src/assets/icons/reply.svg","webpack://semaychat-frontend/./src/assets/icons/send.svg","webpack://semaychat-frontend/./src/assets/icons/settings.svg","webpack://semaychat-frontend/./src/features/Settings/constants.ts","webpack://semaychat-frontend/./src/features/Home/styles.ts","webpack://semaychat-frontend/./src/hooks/useAccount.ts","webpack://semaychat-frontend/./src/hooks/smartFetch.ts","webpack://semaychat-frontend/./src/hooks/useAPI.ts","webpack://semaychat-frontend/./src/App/AppContext.ts","webpack://semaychat-frontend/./src/hooks/useAppContext.ts","webpack://semaychat-frontend/./src/features/Settings/slices/accountSlice.ts","webpack://semaychat-frontend/./src/features/Settings/slices/profilePhotosSlice.ts","webpack://semaychat-frontend/./src/hooks/useAuth.ts","webpack://semaychat-frontend/./src/usersSlice.ts","webpack://semaychat-frontend/./src/blockedUsersSlice.ts","webpack://semaychat-frontend/./src/hooks/useBlockedUsersFetcher.ts","webpack://semaychat-frontend/./src/features/Chat/slices/messagesSlice.ts","webpack://semaychat-frontend/./src/hooks/useChatsFetcher.ts","webpack://semaychat-frontend/./src/contactsSlice.ts","webpack://semaychat-frontend/./src/hooks/useContactsFetcher.ts","webpack://semaychat-frontend/./src/hooks/useTimer.ts","webpack://semaychat-frontend/./src/hooks/useDebounce.ts","webpack://semaychat-frontend/./src/hooks/useDownload.ts","webpack://semaychat-frontend/./src/hooks/useFileSelector.ts","webpack://semaychat-frontend/./src/hooks/useFullScreenPhoto.ts","webpack://semaychat-frontend/./src/hooks/useImageFileLoader.ts","webpack://semaychat-frontend/./src/hooks/useImageLoader.ts","webpack://semaychat-frontend/./src/hooks/useMessagesFetcher.ts","webpack://semaychat-frontend/./src/hooks/usePhotoNavigation.ts","webpack://semaychat-frontend/./src/hooks/useProfilePhoto.ts","webpack://semaychat-frontend/./src/hooks/useResponsive.ts","webpack://semaychat-frontend/./src/hooks/useRouteTracker.ts","webpack://semaychat-frontend/./src/hooks/useUser.ts","webpack://semaychat-frontend/./src/hooks/useUserFetcher.ts","webpack://semaychat-frontend/./src/hooks/useAnimation.ts","webpack://semaychat-frontend/./src/hooks/index.tsx","webpack://semaychat-frontend/./src/features/Home/useChats.ts","webpack://semaychat-frontend/./src/features/Home/useSuggestionsFetcher.ts","webpack://semaychat-frontend/./src/features/Home/components/SearchInput.tsx","webpack://semaychat-frontend/./src/assets/icons/addContact.svg","webpack://semaychat-frontend/./src/assets/icons/attachment.svg","webpack://semaychat-frontend/./src/assets/icons/blockUser.svg","webpack://semaychat-frontend/./src/assets/icons/checkBoxTick.svg","webpack://semaychat-frontend/./src/assets/icons/edit.svg","webpack://semaychat-frontend/./src/assets/icons/file.svg","webpack://semaychat-frontend/./src/assets/icons/radioButtonBall.svg","webpack://semaychat-frontend/./src/assets/icons/search.svg","webpack://semaychat-frontend/./src/assets/icons/unblockUser.svg","webpack://semaychat-frontend/./src/components/icons/NextIcon.tsx","webpack://semaychat-frontend/./src/components/icons/Icon.tsx","webpack://semaychat-frontend/./src/components/icons/FlexibleIcon.ts","webpack://semaychat-frontend/./src/components/icons/PauseIcon.jsx","webpack://semaychat-frontend/./src/components/icons/PlayIcon.jsx","webpack://semaychat-frontend/./src/components/icons/SentMsgTailIcon.jsx","webpack://semaychat-frontend/./src/components/icons/ReceivedMsgTailIcon.jsx","webpack://semaychat-frontend/./src/components/icons/SelectedIcon.jsx","webpack://semaychat-frontend/./src/components/icons/TickIcon.jsx","webpack://semaychat-frontend/./src/features/Home/components/SearchButton.tsx","webpack://semaychat-frontend/./src/features/Home/components/User/styles.ts","webpack://semaychat-frontend/./src/features/Home/components/User/useUser.ts","webpack://semaychat-frontend/./src/features/Home/components/User/useChatItem.ts","webpack://semaychat-frontend/./src/features/Home/components/User/index.tsx","webpack://semaychat-frontend/./src/features/Home/index.tsx","webpack://semaychat-frontend/./src/features/Chat/styles.ts","webpack://semaychat-frontend/./src/components/BackLink.tsx","webpack://semaychat-frontend/./src/components/buttons/BackButton.jsx","webpack://semaychat-frontend/./src/components/buttons/MoreButton.jsx","webpack://semaychat-frontend/./src/components/buttons/CloseButton.tsx","webpack://semaychat-frontend/./src/styles/GlobalStyle.tsx","webpack://semaychat-frontend/./src/styles/index.tsx","webpack://semaychat-frontend/./src/components/buttons/NextButton.jsx","webpack://semaychat-frontend/./src/components/buttons/PreviousButton.jsx","webpack://semaychat-frontend/./src/features/Chat/components/User/styles.ts","webpack://semaychat-frontend/./src/components/NameInitial.tsx","webpack://semaychat-frontend/./src/features/Chat/components/User/index.tsx","webpack://semaychat-frontend/./src/features/Chat/components/TextMessage/styles.ts","webpack://semaychat-frontend/./src/features/Chat/components/MessageMeta/styles.ts","webpack://semaychat-frontend/./src/features/Chat/components/MessageMeta/index.tsx","webpack://semaychat-frontend/./src/features/Chat/components/TextMessage/index.tsx","webpack://semaychat-frontend/./src/features/Chat/components/PhotoMessage/styles.ts","webpack://semaychat-frontend/./src/components/ContextMenu/styles.ts","webpack://semaychat-frontend/./src/components/ContextMenu/MenuItem/styles.ts","webpack://semaychat-frontend/./src/components/ContextMenu/MenuItem/index.tsx","webpack://semaychat-frontend/./src/components/ContextMenu/useContextMenu.ts","webpack://semaychat-frontend/./src/components/ContextMenu/index.tsx","webpack://semaychat-frontend/./src/features/Chat/utils.ts","webpack://semaychat-frontend/./src/features/Chat/components/PhotoViewer/usePhotoSelector.ts","webpack://semaychat-frontend/./src/features/Chat/components/PhotoViewer/styles.ts","webpack://semaychat-frontend/./src/features/Chat/MRS/useMessageRequestsProcessor.ts","webpack://semaychat-frontend/./src/features/Chat/MRS/MRSContext.ts","webpack://semaychat-frontend/./src/features/Chat/MRS/index.ts","webpack://semaychat-frontend/./src/features/Chat/MRS/useMessageRequestSystem.ts","webpack://semaychat-frontend/./src/features/Chat/ChatContext.ts","webpack://semaychat-frontend/./src/features/Chat/hooks/useChatContext.ts","webpack://semaychat-frontend/./src/features/Chat/hooks/useMessage.tsx","webpack://semaychat-frontend/./src/Spinner.tsx","webpack://semaychat-frontend/./src/components/TinySpinner.tsx","webpack://semaychat-frontend/./src/components/FlexibleImage.tsx","webpack://semaychat-frontend/./src/features/Chat/components/PhotoViewer/index.tsx","webpack://semaychat-frontend/./src/features/Chat/components/PhotoMessage/index.tsx","webpack://semaychat-frontend/./src/features/Chat/components/VideoMessage/styles.ts","webpack://semaychat-frontend/./src/features/Chat/components/VideoMessage/index.tsx","webpack://semaychat-frontend/./src/features/Chat/components/AudioMessage/PlaybackControlButton.tsx","webpack://semaychat-frontend/./src/features/Chat/components/SmallMoreButton.tsx","webpack://semaychat-frontend/./src/features/Chat/components/AudioMessage/styles.ts","webpack://semaychat-frontend/./src/features/Chat/components/AudioMessage/utils.ts","webpack://semaychat-frontend/./src/features/Chat/components/AudioMessage/useAudioPlaybackController.ts","webpack://semaychat-frontend/./src/features/Chat/components/AudioMessage/PlaybackTimeSlider/styles.ts","webpack://semaychat-frontend/./src/features/Chat/components/AudioMessage/PlaybackTimeSlider/index.tsx","webpack://semaychat-frontend/./src/features/Chat/components/AudioMessage/index.tsx","webpack://semaychat-frontend/./src/features/Chat/components/FileMessage/styles.ts","webpack://semaychat-frontend/./src/features/Chat/components/FileMessage/index.tsx","webpack://semaychat-frontend/./src/features/Chat/hooks/useFilesSelector.ts","webpack://semaychat-frontend/./src/features/Chat/components/SendButton.tsx","webpack://semaychat-frontend/./src/features/Chat/components/FileSelector/FileMessageInputTail.jsx","webpack://semaychat-frontend/./src/features/Chat/components/FileSelector/styles.ts","webpack://semaychat-frontend/./src/features/Chat/components/FileSelector/ImageFile/styles.ts","webpack://semaychat-frontend/./src/features/Chat/components/FileSelector/RemoveButton.tsx","webpack://semaychat-frontend/./src/features/Chat/components/FileSelector/ImageFile/index.tsx","webpack://semaychat-frontend/./src/features/Chat/components/FileSelector/OrdinaryFile/styles.ts","webpack://semaychat-frontend/./src/features/Chat/components/FileSelector/OrdinaryFile/index.tsx","webpack://semaychat-frontend/./src/features/Chat/components/FileSelector/useFilesSender.ts","webpack://semaychat-frontend/./src/features/Chat/components/FileSelector/AddButton.tsx","webpack://semaychat-frontend/./src/features/Chat/components/FileSelector/index.tsx","webpack://semaychat-frontend/./src/features/Chat/components/MessageInput/AttachFileButton.tsx","webpack://semaychat-frontend/./src/features/Chat/components/MessageInput/styles.ts","webpack://semaychat-frontend/./src/features/Chat/components/MessageInput/index.tsx","webpack://semaychat-frontend/./src/features/Chat/hooks/useMessagesSelector.ts","webpack://semaychat-frontend/./src/features/Chat/components/MessageDeleteConfirmDialog/styles.ts","webpack://semaychat-frontend/./src/features/Chat/components/MessageDeleteConfirmDialog/Checkbox/styles.ts","webpack://semaychat-frontend/./src/features/Chat/components/MessageDeleteConfirmDialog/Checkbox/index.tsx","webpack://semaychat-frontend/./src/features/Chat/components/MessageDeleteConfirmDialog/index.tsx","webpack://semaychat-frontend/./src/features/Chat/components/Message/styles.ts","webpack://semaychat-frontend/./src/features/Chat/components/Message/index.tsx","webpack://semaychat-frontend/./src/features/Chat/hooks/useChat.ts","webpack://semaychat-frontend/./src/features/Chat/index.tsx","webpack://semaychat-frontend/./src/features/SideBar/styles.ts","webpack://semaychat-frontend/./src/features/Settings/components/ProfilePhotoSettings/styles.ts","webpack://semaychat-frontend/./src/features/Settings/components/ProfilePhotoUploader/styles.ts","webpack://semaychat-frontend/./src/features/Settings/components/ProfilePhotoUploader/useZoomController.ts","webpack://semaychat-frontend/./src/features/Settings/components/ProfilePhotoUploader/useImageCropper.ts","webpack://semaychat-frontend/./src/features/Settings/components/ProfilePhotoUploader/ZoomSlider/styles.ts","webpack://semaychat-frontend/./src/features/Settings/components/ProfilePhotoUploader/ZoomSlider/index.tsx","webpack://semaychat-frontend/./src/features/Settings/components/ProfilePhotoUploader/utils.ts","webpack://semaychat-frontend/./src/features/Settings/components/ProfilePhotoUploader/useProfilePhotoUploader.ts","webpack://semaychat-frontend/./src/features/Settings/components/ErrorBanner/styles.ts","webpack://semaychat-frontend/./src/features/Settings/components/ErrorBanner/index.tsx","webpack://semaychat-frontend/./src/features/Settings/components/UploadButton.tsx","webpack://semaychat-frontend/./src/features/Settings/components/ProfilePhotoUploader/index.tsx","webpack://semaychat-frontend/./src/features/Settings/hooks/useSelfProfilePhoto.ts","webpack://semaychat-frontend/./src/features/Settings/components/AddPhotoButton.tsx","webpack://semaychat-frontend/./src/features/Settings/hooks/useProfilePhotosFetcher.ts","webpack://semaychat-frontend/./src/features/Settings/components/ProfilePhotoSettings/index.tsx","webpack://semaychat-frontend/./src/features/Settings/styles.ts","webpack://semaychat-frontend/./src/features/Settings/components/EditorModal/styles.ts","webpack://semaychat-frontend/./src/features/Settings/components/EditorModal/index.tsx","webpack://semaychat-frontend/./src/features/Settings/components/TextInput/styles.ts","webpack://semaychat-frontend/./src/features/Settings/components/TextInput/index.tsx","webpack://semaychat-frontend/./src/features/Settings/hooks/useAccountUpdater.ts","webpack://semaychat-frontend/./src/features/Settings/components/UsernameEditor/index.tsx","webpack://semaychat-frontend/./src/features/Settings/components/UsernameEditor/utils.ts","webpack://semaychat-frontend/./src/features/Settings/components/NameEditor/utils.ts","webpack://semaychat-frontend/./src/features/Settings/components/NameEditor/index.tsx","webpack://semaychat-frontend/./src/features/Settings/components/BioEditor/BioInput/styles.ts","webpack://semaychat-frontend/./src/features/Settings/components/BioEditor/BioInput/index.tsx","webpack://semaychat-frontend/./src/features/Settings/components/BioEditor/index.tsx","webpack://semaychat-frontend/./src/features/Settings/useSettings.ts","webpack://semaychat-frontend/./src/features/Settings/components/PasswordEditor/usePasswordUpdate.ts","webpack://semaychat-frontend/./src/features/Settings/components/PasswordEditor/utils.ts","webpack://semaychat-frontend/./src/features/Settings/components/PasswordEditor/index.tsx","webpack://semaychat-frontend/./src/components/spinner/index.tsx","webpack://semaychat-frontend/./src/features/Settings/components/RadioButton/styles.ts","webpack://semaychat-frontend/./src/features/Settings/components/RadioButton/index.tsx","webpack://semaychat-frontend/./src/features/Settings/components/PrivacyEditor/styles.ts","webpack://semaychat-frontend/./src/features/Settings/components/PrivacyEditor/index.tsx","webpack://semaychat-frontend/./src/features/Settings/index.tsx","webpack://semaychat-frontend/./src/components/MenuButton.tsx","webpack://semaychat-frontend/./src/features/SideBar/index.tsx","webpack://semaychat-frontend/./src/features/Guest/TextInput.tsx","webpack://semaychat-frontend/./src/features/Guest/LogInForm/EmailInput.tsx","webpack://semaychat-frontend/./src/features/Guest/LogInForm/PasswordInput.tsx","webpack://semaychat-frontend/./src/features/Guest/LogInForm/index.tsx","webpack://semaychat-frontend/./src/features/Guest/SignUpForm/NameInput.tsx","webpack://semaychat-frontend/./src/features/Guest/SignUpForm/EmailInput.tsx","webpack://semaychat-frontend/./src/features/Guest/SignUpForm/PasswordInput.tsx","webpack://semaychat-frontend/./src/features/Guest/SignUpForm/ConfirmPasswordInput.tsx","webpack://semaychat-frontend/./src/features/Guest/SignUpForm/index.tsx","webpack://semaychat-frontend/./src/features/Guest/Header.tsx","webpack://semaychat-frontend/./src/features/Guest/index.tsx","webpack://semaychat-frontend/./src/themes/DarkTheme.ts","webpack://semaychat-frontend/./src/themes/LightTheme.ts","webpack://semaychat-frontend/./src/App/useApp.ts","webpack://semaychat-frontend/./src/features/Profile/styles.ts","webpack://semaychat-frontend/./src/features/Profile/UserInfo/styles.ts","webpack://semaychat-frontend/./src/features/Profile/UserInfo/index.tsx","webpack://semaychat-frontend/./src/features/Profile/UserProfilePhoto/useProfilePhotosFetcher.ts","webpack://semaychat-frontend/./src/features/Profile/UserProfilePhoto/index.tsx","webpack://semaychat-frontend/./src/features/Profile/index.tsx","webpack://semaychat-frontend/./src/App/styles.ts","webpack://semaychat-frontend/./src/App/index.tsx","webpack://semaychat-frontend/./src/features/Chat/slices/chatsSlice.ts","webpack://semaychat-frontend/./src/store.ts","webpack://semaychat-frontend/./src/index.tsx","webpack://semaychat-frontend/webpack/runtime/compat_get_default_export","webpack://semaychat-frontend/webpack/runtime/define_property_getters","webpack://semaychat-frontend/webpack/runtime/has_own_property","webpack://semaychat-frontend/webpack/runtime/nonce","webpack://semaychat-frontend/webpack/runtime/on_chunk_loaded","webpack://semaychat-frontend/webpack/runtime/rspack_version","webpack://semaychat-frontend/webpack/runtime/jsonp_chunk_loading","webpack://semaychat-frontend/webpack/runtime/rspack_unique_id"],"sourcesContent":["export function ready(handler) {\r\n  if (document.readyState === 'loading') {\r\n    document.addEventListener('DOMContentLoaded', handler);\r\n  } else {\r\n    handler();\r\n  }\r\n}\r\n\r\nexport const calculateFullName = (firstName, lastName) => {\r\n  const fullName = [firstName, lastName]\r\n    .filter((name) => (name ? true : false))\r\n    .join(' ');\r\n\r\n  return fullName || '?'; // Return ? if both names are missing\r\n};\r\n\r\nexport const calculateNameInitials = (firstName, lastName) => {\r\n  const initials = [\r\n    firstName ? firstName[0] : '',\r\n    lastName ? lastName[0] : ''\r\n  ].filter((name) => (name ? true : false));\r\n\r\n  return initials.join('').toUpperCase() || '?'; // Default to '?' if no initials found;\r\n};\r\n\r\nexport const formatTime = (time) => {\r\n  const date = new Date(time);\r\n  let hours = date.getHours();\r\n  let minutes = date.getMinutes();\r\n  const period = hours >= 12 ? 'PM' : 'AM';\r\n  // 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23\r\n  // 0 1 2 3 4 5 6 7 8 9 10 11 0  1  2  3  4  5  6  7  8  9  10 11\r\n  hours = hours % 12;\r\n  hours = hours === 0 ? 12 : hours;\r\n  minutes = minutes < 10 ? `0${minutes}` : minutes;\r\n  return `${hours}:${minutes} ${period}`;\r\n};\r\n\r\nexport const formatDateTime = (time) => {\r\n  const formattedTime = formatTime(time);\r\n  const date = new Date(time);\r\n  const day = date.getDate();\r\n  const month = date.getMonth() + 1;\r\n  const year = date.getFullYear();\r\n  return `${day}/${month}/${year} at ${formattedTime}`;\r\n};\r\n","var _path, _path2;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nvar SvgAdd = function SvgAdd(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"currentColor\",\n    strokeWidth: 0.2,\n    viewBox: \"0 0 24 24\",\n    stroke: \"currentColor\"\n  }, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M22.576 13.35s-13.162-.014-21.162-.014c-1.585-.279-1.691-2.377.028-2.686l21.079-.055c1.675.12 1.746 2.49.055 2.81z\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10.65 22.576s.014-13.162.014-21.162c.279-1.585 2.377-1.691 2.686.028l.055 21.079c-.12 1.675-2.49 1.746-2.81.055z\"\n  })));\n};\nexport default SvgAdd;","var _path;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nvar SvgAddPhoto = function SvgAddPhoto(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"currentColor\",\n    strokeWidth: 0.1,\n    viewBox: \"0 0 24 24\",\n    stroke: \"currentColor\"\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12.066 7.9C9.285 7.9 7 10.319 7 13.1c0 2.78 2.285 5.1 5.066 5.1S17 15.88 17 13.1c0-2.781-2.153-5.2-4.934-5.2m0 2.6c1.478 0 2.634 1.121 2.634 2.6 0 1.478-1.156 2.5-2.634 2.5-1.479 0-2.466-1.022-2.466-2.5 0-1.479.987-2.6 2.466-2.6\",\n    style: {\n      strokeWidth: 0.0999998\n    }\n  }), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M15.727 0h-5.479c-.69.006-1.245.77-1.238 1.46.006.692.572 1.148 1.263 1.14h4.829c.198 1.148.628 1.634 1.46 2.35 0 0 2.361.342 3.387.593.5.25.85.66 1.102 1.297.26.659.35 1.505.349 2.27-.013 3.298.044 6.58 0 9.843-.083 1.368-1.533 2.568-2.914 2.469-.028-.002-.057-.022-.086-.022-4.462-.014-8.912.048-13.347 0-1.278-.05-2.457-1.3-2.453-2.582v-.111c-.01-2.881.003-5.666 0-8.557a1.254 1.254 0 0 0-1.256-1.248C.654 8.903 0 9.462 0 10.152c.003 2.882-.01 5.665 0 8.556-.008 2.69 2.257 5.088 4.963 5.188.011 0 .022.104.033.104 4.478.049 8.946-.096 13.399-.082l-.086.082c2.813.202 5.427-2.023 5.595-4.904.001-.019.096-.037.096-.055.046-3.324-.087-6.633-.074-9.924 0-.001.074-.002.074-.004.002-.998-.2-2.12-.623-3.191s-.987-2.023-2.206-2.59a5 5 0 0 0-.417-.18c-1.07-.28-2.114-.237-3.079-.382-.24-1.276-1.022-1.96-1.948-2.77\"\n  })), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M3.862.036C3.27.05 2.788.621 2.8 1.312v5.3c.012.69.6 1.238 1.19 1.225s1.043-.583 1.032-1.273V1.263c-.01-.69-.57-1.24-1.16-1.227\",\n    style: {\n      strokeWidth: 0.1\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M7.892 3.436c-.013-.591-.585-1.094-1.276-1.082h-5.3c-.69.012-1.238.62-1.225 1.21s.583 1.023 1.273 1.012h5.301c.69-.01 1.24-.55 1.227-1.14\",\n    style: {\n      strokeWidth: 0.0999999\n    }\n  }));\n};\nexport default SvgAddPhoto;","var _path, _path2;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nvar SvgBack = function SvgBack(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"currentColor\",\n    strokeWidth: 0.2,\n    viewBox: \"0 0 24 24\",\n    stroke: \"currentColor\"\n  }, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M1.086 10.65s12.596.014 20.596.014c.851.318.816 2.338-.028 2.686l-20.513.055c-1.456-.3-1.566-2.555-.055-2.81z\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m0 11.424 8.806-9.893c1.199-1.585 3.77-.12 2.405 1.599l-7.484 8.226zM.22 12.796 9.188 22.88c1.463.864 3.095-.635 2.197-1.844L3.861 12.74Z\"\n  })));\n};\nexport default SvgBack;","var _path;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nvar SvgCheckBox = function SvgCheckBox(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"currentColor\",\n    strokeWidth: 0.2,\n    viewBox: \"0 0 24 24\",\n    stroke: \"currentColor\"\n  }, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M24 4c.074-.815-.08-4.108-4-4H4C.072.14-.08 3.202 0 4v16c-.043.717.109 4.033 4 4h16c3.854.016 4.026-3.171 4-4zM2.5 21.5v-19h19v19z\"\n  })));\n};\nexport default SvgCheckBox;","var _path, _use;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nvar SvgClose = function SvgClose(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    fill: \"currentColor\",\n    viewBox: \"0 0 24 24\",\n    stroke: \"currentColor\"\n  }, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    id: \"close_svg__a\",\n    d: \"M1.488.234A1.25 1.25 0 0 0 .6 2.367l21.012 21.115a1.25 1.25 0 1 0 1.774-1.763L2.37.604a1.25 1.25 0 0 0-.883-.37\"\n  })), _use || (_use = /*#__PURE__*/React.createElement(\"use\", {\n    xlinkHref: \"#close_svg__a\",\n    transform: \"rotate(90 11.992 12.043)\"\n  })));\n};\nexport default SvgClose;","var _path, _path2;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nvar SvgDelete = function SvgDelete(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"currentColor\",\n    strokeWidth: 0.2,\n    viewBox: \"0 0 24 24\",\n    stroke: \"currentColor\"\n  }, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M1.152 5.963C9.152 5.963 15 6 23 6c1.182.373 1.065 2.262 0 2.5H1C-.07 8.09-.125 6.586 1 6Z\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19.5 7V3.4S19.397 0 15 0H9C4.44 0 4.5 3.4 4.5 3.4V7H7V3.4s1.285-.747 2-.9c1.955-.42 4.045-.42 6 0 .715.153 2 .9 2 .9V7ZM18.5 9.434l-1.806 12.063H7.237L5.5 9.363 3 9.388l1.2 10.409c.54 2.143 1.222 4.295 3.6 4.2h8.025c3.132.04 3.274-1.824 3.675-4.2L21 9.517\"\n  })));\n};\nexport default SvgDelete;","var _path;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nvar SvgDownload = function SvgDownload(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"currentColor\",\n    strokeWidth: 0,\n    viewBox: \"0 0 24 24\",\n    stroke: \"currentColor\"\n  }, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M2.162 21.358h19.684c.632 0 1.141.558 1.141 1.25 0 .693-.509 1.25-1.141 1.25H2.162c-.633 0-1.142-.557-1.142-1.25 0-.692.51-1.25 1.142-1.25\"\n  })), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m12.65 19.794 7.113-7.763-1.596-1.585-6.688 7.026zm-8.996-7.727c2.429 2.596 4.761 5.1 7.196 7.69l1.142-2.626-6.57-6.68c-.6-.158-.862.653-1.257 1.006ZM11.9 1.882c-.77-.04-1.38.7-1.254 1.446-.013 5.273-.244 10.334-.246 15.607.1 1.08 1.814 1.517 2.402.645.365-.568.164-1.175.22-1.812.01-4.949.118-9.897.118-14.845-.057-.608-.648-1.052-1.24-1.04\",\n    style: {\n      strokeWidth: 0\n    }\n  }));\n};\nexport default SvgDownload;","var _path, _path2, _path3;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nvar SvgLogout = function SvgLogout(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    strokeWidth: 0,\n    viewBox: \"0 0 24 24\",\n    fill: \"currentColor\",\n    stroke: \"currentColor\"\n  }, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M16.037 6.408c-1.626-1.09-2.433 1.514-.913 2.101 1.275 1.06 2.55 2.121 3.802 3.21l-4.381 3.988c-1.258 1.297.972 2.617 1.81 1.326q2.484-2.26 4.965-4.521c.95-1.085-.465-2.05-1.223-2.69-1.34-1.154-2.699-2.285-4.06-3.414\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m19.191 10.38-10.043.104c-1.998.113-1.209 2.93.473 2.496l9.596-.1c1.575.027 1.675-2.519-.026-2.5\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M5.43.191C3.115.2 1.427 2.255.74 4.288-.061 6.467.257 8.809.19 11.078c.025 2.169-.054 4.341.052 6.507.241 2.434 1.461 5.1 3.882 6.019 1.225.389 2.53.167 3.794.226h2.856c1.998-.068 1.3-2.932-.383-2.5-1.727-.011-3.456.023-5.183-.017-1.51-.393-2.137-2.109-2.408-3.486-.207-1.711-.07-3.442-.11-5.163.022-1.957-.046-3.918.04-5.873.198-1.52.745-3.351 2.264-4.026 1.132-.154 2.292-.037 3.435-.074.94-.04 1.902.096 2.824-.095 1.543-.656.436-2.756-.99-2.405z\"\n  })));\n};\nexport default SvgLogout;","var _path, _use, _use2;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nvar SvgMore = function SvgMore(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    fill: \"currentColor\",\n    strokeWidth: 0,\n    viewBox: \"0 0 24 24\",\n    stroke: \"currentColor\"\n  }, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    id: \"more_svg__a\",\n    d: \"M14.546 4.133a2.75 2.75 0 0 1-3.586 1.505 2.75 2.75 0 0 1-1.506-3.585A2.75 2.75 0 0 1 13.04.547a2.75 2.75 0 0 1 1.506 3.585\"\n  })), _use || (_use = /*#__PURE__*/React.createElement(\"use\", {\n    xlinkHref: \"#more_svg__a\",\n    transform: \"translate(0 8.907)\"\n  })), _use2 || (_use2 = /*#__PURE__*/React.createElement(\"use\", {\n    xlinkHref: \"#more_svg__a\",\n    transform: \"translate(0 17.878)\"\n  })));\n};\nexport default SvgMore;","var _path, _path2;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nvar SvgPrevious = function SvgPrevious(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"currentColor\",\n    strokeWidth: 0,\n    viewBox: \"0 0 24 24\",\n    stroke: \"currentColor\"\n  }, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12.337 21.75 1.41 12.125M1.332 10.877c-1.519.136-1.333 1.98-.29 2.589l10.468 9.222c1.423 1.252 2.93-1.21 1.461-2.043L2.238 11.188l-.422-.246ZM12.382 2.723 1.39 12.013\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m11.574 1.768-10.99 9.29c-1.471 1.395.948 2.994 1.963 1.614l10.642-8.994c1.219-.982-.296-3.02-1.615-1.91\"\n  })));\n};\nexport default SvgPrevious;","var _path;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nvar SvgRadioButton = function SvgRadioButton(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"currentColor\",\n    strokeWidth: 0.2,\n    viewBox: \"0 0 24 24\",\n    stroke: \"currentColor\"\n  }, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12 0C5.392 0 0 5.392 0 12s5.392 12 12 12 12-5.392 12-12S18.608 0 12 0m0 3.243A8.73 8.73 0 0 1 20.757 12 8.73 8.73 0 0 1 12 20.757 8.73 8.73 0 0 1 3.243 12 8.73 8.73 0 0 1 12 3.243\"\n  })));\n};\nexport default SvgRadioButton;","var _path, _path2;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nvar SvgRemoveContact = function SvgRemoveContact(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"currentColor\",\n    strokeWidth: 0.2,\n    viewBox: \"0 0 24 24\",\n    stroke: \"currentColor\"\n  }, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M14.034 24h-8.71c-1.41.053-5.45.68-5.324-2.5-.072-3.645 3.414-10.604 10.846-10.5h4.19c3.569 0 5.334 1.565 5.334 1.565l-.737 2.179s-2.65-1.244-4.597-1.244h-4.19c-3.21-.088-8.321 2.687-8.346 8h11.579zM13.268.112c-3.11 0-5.69 2.281-5.69 5.1s2.58 5.1 5.69 5.1 5.692-2.282 5.692-5.1c0-2.819-2.582-5.1-5.692-5.1m0 2.287c1.733 0 3.179 1.316 3.179 2.813 0 1.496-1.446 2.813-3.18 2.813-1.732 0-3.176-1.317-3.176-2.813s1.444-2.813 3.177-2.813M21.868 15.212c1.485-.276 2.202.394 1.934 1.634l-6.19 7.036c-1.293.399-2.34-.4-2.016-1.533z\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M15.496 16.742c-.157-1.455 1.002-1.768 2.116-1.425l6.09 6.729c.281 1.278-.82 2.116-1.834 1.725z\"\n  })));\n};\nexport default SvgRemoveContact;","var _path, _use;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nvar SvgReply = function SvgReply(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    fill: \"currentColor\",\n    strokeWidth: 0.2,\n    viewBox: \"0 0 24 24\",\n    stroke: \"currentColor\"\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"reply_svg__a\",\n    d: \"M4.2 8.505 9.72 2.23c.31-.352.174-1.387-.169-1.709C9.204.195 7.99.11 7.678.468L.7 8.525Z\",\n    style: {\n      strokeWidth: 0.2\n    }\n  }), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M1.059 8.349c-.495 0-.82.666-.851 1.159-.036.589.255 1.34.845 1.34h14.444c4.428.536 5.585-.506 5.803 4.5v7.528c0 .51.845.927 1.402.914.451-.01.885-.434 1.098-.79 0 0 .108-6.095 0-7.651-.47-6.787-2.177-6.653-8.444-7Z\"\n  })), _use || (_use = /*#__PURE__*/React.createElement(\"use\", {\n    xlinkHref: \"#reply_svg__a\",\n    transform: \"matrix(1 0 0 -1 -.193 19.225)\"\n  })));\n};\nexport default SvgReply;","var _path, _path2;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nvar SvgSend = function SvgSend(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"currentColor\",\n    strokeWidth: 0.2,\n    viewBox: \"0 0 24 24\",\n    stroke: \"currentColor\"\n  }, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M22.914 13.35s-13.162-.014-21.162-.014c-.851-.318-.816-2.338.028-2.686l21.079-.055c1.456.3 1.566 2.555.055 2.81z\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m24 12.605-8.806 9.893c-1.199 1.585-3.77.12-2.405-1.598l7.484-8.227zM24 11.474 15.033 1.389c-1.462-.864-3.095.634-2.196 1.843l7.523 8.297z\"\n  })));\n};\nexport default SvgSend;","var _path, _path2;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nvar SvgSettings = function SvgSettings(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"currentColor\",\n    strokeWidth: 0,\n    viewBox: \"0 0 24 24\",\n    stroke: \"currentColor\"\n  }, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11.998 7.5c-1.834-.024-3.599 1.211-4.222 2.954-.6 1.57-.197 3.455.974 4.648 1.182 1.268 3.113 1.738 4.735 1.142 1.693-.579 2.962-2.257 3.01-4.071.09-1.762-.98-3.49-2.556-4.228A4.46 4.46 0 0 0 12 7.5m0 2.297c1.055-.03 2.063.8 2.202 1.865.18 1.034-.487 2.121-1.48 2.425-1.022.36-2.272-.125-2.731-1.131-.486-.966-.125-2.258.8-2.813.36-.23.785-.347 1.21-.346\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12.018 23.982c-1.285.123-2.75-.38-2.994-1.784l-.553-1.613c-.884.387-1.704.947-2.654 1.16-1.67-.17-3.354-1.854-3.526-3.519.22-.947.773-1.767 1.165-2.648-.9-.35-1.876-.532-2.7-1.049-1.023-1.308-.992-3.648 0-4.979.825-.515 1.798-.703 2.7-1.05-.39-.883-.951-1.7-1.165-2.649.172-1.666 1.858-3.347 3.527-3.52.95.22 1.771.772 2.654 1.163.35-.898.532-1.871 1.052-2.693 1.3-1.068 3.69-1.068 4.99 0 .515.824.704 1.794 1.052 2.693.885-.388 1.704-.95 2.656-1.162 1.588.16 3.1 1.661 3.52 3.184.016 1.03-.689 1.872-1.065 2.794-.233.388.628.324.867.517.894.318 2.058.524 2.309 1.612.149 1.36.411 2.987-.572 4.091-.827.512-1.798.701-2.699 1.048.379.863.926 1.667 1.158 2.584.076 1.634-1.657 2.75-2.86 3.515-1.163.244-2.107-.584-3.124-.999-.39-.234-.326.627-.52.866-.333.965-.6 2.237-1.86 2.35zm-.764-2.311c.728.046 1.733.278 1.771-.703.404-.975.481-2.221 1.57-2.722 1.217-.4 2.222.506 3.286.938.562.504 1.54-.652 1.382-1.123-.395-.902-.984-1.734-1.16-2.716-.083-1.432 1.353-1.803 2.416-2.149.363-.215 1.07-.163 1.167-.583.108-.751.13-1.554-.784-1.6-.957-.392-2.18-.474-2.664-1.544-.4-1.215.508-2.218.94-3.28.274-.593.819-1.23-.881-1.496-.987.43-1.897 1.07-2.966 1.275-1.434.083-1.806-1.35-2.153-2.41-.352-.788-.283-2.162-1.924-1.15-.394 1.004-.586 2.1-1.196 3.003-.957 1.071-2.235.315-3.233-.19-.405-.1-.868-.64-1.23-.404-.6.463-1.201 1.004-.582 1.685.413.989 1.308 2.009.715 3.119-.585.985-1.823 1.047-2.79 1.46-.647.247-1.59.286-.572 1.721.98.382 2.049.58 2.945 1.136.95.745.613 1.98.085 2.857l-.741 1.51c.493.537 1.028 1.424 1.754.755.976-.403 1.912-1.227 3.035-.817 1.143.578 1.21 1.929 1.658 2.984q.075.222.152.444m10.383-10.71v.005zM4.514 5.485v.003zm13.534-.998h.003z\"\n  })));\n};\nexport default SvgSettings;","export const VISIBILITY_OPTIONS = {\r\n  everybody: 'everybody',\r\n  contacts: 'contacts',\r\n  nobody: 'nobody'\r\n};\r\n\r\nexport const VISIBILITY_OPTION_LABELS = {\r\n  [VISIBILITY_OPTIONS.everybody]: 'Everybody',\r\n  [VISIBILITY_OPTIONS.contacts]: 'My Contacts',\r\n  [VISIBILITY_OPTIONS.nobody]: 'Only Me'\r\n};\r\n\r\nexport const PRIVACY_SETTINGS_CONFIG = {\r\n  emailVisibility: {\r\n    title: 'Who can see your email address?',\r\n    visibilityChoices: [\r\n      VISIBILITY_OPTIONS.everybody,\r\n      VISIBILITY_OPTIONS.contacts,\r\n      VISIBILITY_OPTIONS.nobody\r\n    ]\r\n  },\r\n\r\n  lastSeenVisibility: {\r\n    title: 'Who can see your last seen time?',\r\n    visibilityChoices: [\r\n      VISIBILITY_OPTIONS.everybody,\r\n      VISIBILITY_OPTIONS.contacts,\r\n      VISIBILITY_OPTIONS.nobody\r\n    ]\r\n  },\r\n\r\n  profilePhotosVisibility: {\r\n    title: 'Who can see your profile photos?',\r\n    visibilityChoices: [\r\n      VISIBILITY_OPTIONS.everybody,\r\n      VISIBILITY_OPTIONS.contacts,\r\n      VISIBILITY_OPTIONS.nobody\r\n    ]\r\n  },\r\n\r\n  messageSender: {\r\n    title: 'Who can send you messages?',\r\n    visibilityChoices: [\r\n      VISIBILITY_OPTIONS.everybody,\r\n      VISIBILITY_OPTIONS.contacts,\r\n      VISIBILITY_OPTIONS.nobody\r\n    ]\r\n  }\r\n};\r\n","import { StyleProps } from '@/types';\r\nimport styled, { css } from 'styled-components';\r\n\r\nexport const HomePage = styled.div<{ $isLargeScreen: boolean }>`\r\n  position: relative;\r\n  height: 100vh;\r\n  overflow: hidden;\r\n\r\n  background-color: ${(props: StyleProps) => props.theme.backgroundColors.main};\r\n\r\n  ${(props) =>\r\n    props.$isLargeScreen\r\n      ? css`\r\n          max-width: 19rem;\r\n          min-width: 19rem;\r\n        `\r\n      : css`\r\n          width: 100%;\r\n        `}\r\n`;\r\n\r\nexport const HeaderContainer = styled.div`\r\n  height: 3.5rem;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background-color: inherit;\r\n  border-bottom: 1px solid;\r\n  border-color: #3c576e;\r\n`;\r\n\r\nexport const SearchContainer = styled.div<{ $isLargeScreen: boolean }>`\r\n  height: 2.5rem;\r\n  padding-left: 1rem;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  border-radius: 25px;\r\n\r\n  background-color: ${(props: StyleProps) =>\r\n    props.theme.backgroundColors.textInput};\r\n\r\n  ${(props) =>\r\n    !props.$isLargeScreen &&\r\n    css`\r\n      /*space for the sidebar menu button*/\r\n      margin-left: 4rem;\r\n    `}\r\n`;\r\n\r\nexport const UsersContainer = styled.div`\r\n  height: 100vh;\r\n  padding-top: 1rem;\r\n  padding-bottom: 6rem;\r\n  overflow-y: scroll;\r\n  overflow-x: hidden;\r\n\r\n  &::-webkit-scrollbar {\r\n    width: 4px;\r\n    background-color: ${(props: StyleProps) =>\r\n      props.theme.backgroundColors.main};\r\n  }\r\n  &::-webkit-scrollbar-thumb {\r\n    background-color: ${(props: StyleProps) =>\r\n      props.theme.backgroundColors.bright};\r\n  }\r\n`;\r\n","import { useCallback, useMemo } from 'react';\r\nimport { calculateFullName, calculateNameInitials } from '../utils';\r\nimport { useAPI, useAppSelector } from '.';\r\n\r\nconst useAccount = () => {\r\n  const account = useAppSelector((state) => state.account);\r\n  if (!account) throw new Error('Invalid account!');\r\n\r\n  const profilePhotos = useAppSelector((state) => state.profilePhotos);\r\n\r\n  const { firstName, lastName } = account;\r\n\r\n  const fullName = useMemo(\r\n    () => calculateFullName(firstName, lastName),\r\n    [firstName, lastName]\r\n  );\r\n\r\n  const nameInitials = useMemo(\r\n    () => calculateNameInitials(firstName, lastName),\r\n    [firstName, lastName]\r\n  );\r\n\r\n  const photoUrl = useMemo(() => {\r\n    const photoId = profilePhotos[0]?.id;\r\n    return photoId ? `/profile-photos/${photoId}/file` : null;\r\n  }, [profilePhotos]);\r\n\r\n  const { post } = useAPI();\r\n\r\n  const logout = useCallback(async () => {\r\n    const { success, message } = await post('/auth/logout', {});\r\n    if (success) {\r\n      location = `${location.origin}/login` as unknown as Location;\r\n    } else {\r\n      console.error(message);\r\n    }\r\n  }, [post]);\r\n\r\n  return {\r\n    ...account,\r\n    fullName,\r\n    nameInitials,\r\n    photoUrl,\r\n    logout\r\n  };\r\n};\r\n\r\nexport default useAccount;\r\n","/* global HeadersInit, RequestInit */\r\n\r\nexport type Method =\r\n  | 'GET'\r\n  | 'POST'\r\n  | 'PUT'\r\n  | 'DELETE'\r\n  | 'get'\r\n  | 'post'\r\n  | 'put'\r\n  | 'delete';\r\n\r\ninterface FetchOptions {\r\n  method?: Method;\r\n  body?: object | FormData;\r\n  responseType?: 'json' | 'blob' | 'text';\r\n  signal?: AbortSignal;\r\n  headers?: HeadersInit;\r\n}\r\n\r\nexport interface ResponseResult<D> {\r\n  success: boolean;\r\n  data: D;\r\n  message?: string;\r\n  status?: number;\r\n}\r\n\r\nconst smartFetch = async <D>(\r\n  url: string,\r\n  options?: FetchOptions\r\n): Promise<ResponseResult<D>> => {\r\n  const { method, body, responseType, signal, headers }: FetchOptions = {\r\n    method: 'GET',\r\n    responseType: 'json',\r\n    headers: {},\r\n    ...(options || {})\r\n  };\r\n\r\n  if (!['GET', 'POST', 'PUT', 'DELETE'].includes(method.toUpperCase()))\r\n    throw new Error(`Invalid or unsupported method: ${method}`);\r\n\r\n  if (!['json', 'blob', 'text'].includes(responseType))\r\n    throw new Error(`Invalid responseType: ${responseType}`);\r\n\r\n  const init: RequestInit = {\r\n    method: method.toUpperCase(),\r\n    credentials: 'include',\r\n    headers\r\n  };\r\n\r\n  if (body && ['POST', 'PUT'].includes(method.toUpperCase())) {\r\n    init.body = body instanceof FormData ? body : JSON.stringify(body);\r\n    if (!(body instanceof FormData)) {\r\n      init.headers = { ...headers, 'Content-Type': 'application/json' };\r\n    }\r\n  }\r\n\r\n  if (signal) {\r\n    init.signal = signal;\r\n  }\r\n\r\n  try {\r\n    const response = await fetch(url, init);\r\n\r\n    const status = response.status;\r\n\r\n    // Server is not expected to send blob or text responses with error status codes.\r\n    if (!response.ok || responseType === 'json') {\r\n      const jsonResponse = await response.json();\r\n      return { ...jsonResponse, success: response.ok, status };\r\n    }\r\n\r\n    // Wrapping blob response into standard API response object.\r\n    if (responseType === 'blob') {\r\n      const blob = await response.blob();\r\n      return { success: true, data: blob as D, status };\r\n    }\r\n\r\n    // Wrapping text response into standard API response object.\r\n    if (responseType === 'text') {\r\n      const text = await response.text();\r\n      return { success: true, data: text as D, status };\r\n    }\r\n\r\n    throw new Error(`Unhandled responseType: ${responseType}`);\r\n  } catch (err) {\r\n    //console.error(err);\r\n    return {\r\n      success: false,\r\n      data: undefined as D,\r\n      message: err.message || 'Something went wrong'\r\n    };\r\n  }\r\n};\r\n\r\nexport default smartFetch;\r\n","/* global HeadersInit */\r\n\r\nimport { useState, useCallback, useRef, useEffect, useMemo } from 'react';\r\nimport smartFetch, { Method, ResponseResult } from './smartFetch';\r\n\r\ninterface RequestOptions {\r\n  method?: Method;\r\n  body?: object | FormData;\r\n  responseType?: 'json' | 'blob' | 'text';\r\n  headers?: HeadersInit;\r\n  autoCancel?: boolean;\r\n}\r\n\r\nconst API_BASE_URL = 'https://semaychat-production.up.railway.app/api';\r\n\r\nconst useAPI = () => {\r\n  const [isLoading, setIsLoading] = useState<boolean>(false);\r\n\r\n  const abortControllerRef = useRef<AbortController | null>(null);\r\n\r\n  const abortRequest = useCallback(() => {\r\n    if (abortControllerRef.current) abortControllerRef.current.abort();\r\n    abortControllerRef.current = null;\r\n  }, []);\r\n\r\n  const request = useCallback(\r\n    async <D>(\r\n      endpoint: string,\r\n      options?: RequestOptions\r\n    ): Promise<ResponseResult<D>> => {\r\n      const {\r\n        method,\r\n        body,\r\n        headers,\r\n        responseType,\r\n        autoCancel\r\n      }: RequestOptions = {\r\n        method: 'GET',\r\n        headers: {},\r\n        responseType: 'json',\r\n        autoCancel: true,\r\n        ...(options || {})\r\n      };\r\n\r\n      try {\r\n        if (autoCancel) abortRequest();\r\n        setIsLoading(true);\r\n\r\n        abortControllerRef.current = new AbortController();\r\n\r\n        const data = await smartFetch<D>(`${API_BASE_URL}${endpoint}`, {\r\n          method,\r\n          body,\r\n          headers,\r\n          responseType,\r\n          signal: abortControllerRef.current.signal\r\n        });\r\n\r\n        return data;\r\n      } catch (err) {\r\n        console.error(err);\r\n        return { success: false, data: null as D };\r\n      } finally {\r\n        abortControllerRef.current = null;\r\n        setIsLoading(false);\r\n      }\r\n    },\r\n    [abortRequest]\r\n  );\r\n\r\n  useEffect(() => abortRequest, [abortRequest]);\r\n\r\n  const requestMethods = useMemo(\r\n    () => ({\r\n      async get<D>(\r\n        endpoint: string,\r\n        options?: RequestOptions\r\n      ): Promise<ResponseResult<D>> {\r\n        return await request(endpoint, { ...options, method: 'GET' });\r\n      },\r\n\r\n      async post<D>(\r\n        endpoint: string,\r\n        body: object | FormData,\r\n        options?: RequestOptions\r\n      ): Promise<ResponseResult<D>> {\r\n        return await request(endpoint, { ...options, body, method: 'POST' });\r\n      },\r\n\r\n      async put<D>(\r\n        endpoint: string,\r\n        body: object | FormData,\r\n        options?: RequestOptions\r\n      ): Promise<ResponseResult<D>> {\r\n        return await request(endpoint, { ...options, body, method: 'PUT' });\r\n      },\r\n\r\n      async del<D>(\r\n        endpoint: string,\r\n        options?: RequestOptions\r\n      ): Promise<ResponseResult<D>> {\r\n        return await request(endpoint, { ...options, method: 'DELETE' });\r\n      }\r\n    }),\r\n    [request]\r\n  );\r\n\r\n  return { isLoading, request, ...requestMethods };\r\n};\r\n\r\nexport default useAPI;\r\n","import { createContext } from 'react';\r\nimport type useApp from './useApp';\r\n\r\nconst AppContext = createContext<ReturnType<typeof useApp> | null>(null);\r\n\r\nexport default AppContext;\r\n","import { useContext } from 'react';\r\nimport AppContext from '../App/AppContext';\r\nimport useApp from '../App/useApp';\r\n\r\nconst useAppContext = (): ReturnType<typeof useApp> => {\r\n  const appContext: ReturnType<typeof useApp> | null = useContext(AppContext);\r\n\r\n  if (!appContext) throw new Error('Invalid app context!');\r\n\r\n  return appContext;\r\n};\r\n\r\nexport default useAppContext;\r\n","import { createSlice } from '@reduxjs/toolkit';\nimport type { PayloadAction } from '@reduxjs/toolkit';\nimport { Account } from '../../../types';\n\nconst initialState = null as Account | null;\n\nconst accountSlice = createSlice({\n  name: 'account',\n\n  initialState,\n\n  reducers: {\n    accountFetched(state, action: PayloadAction<Account | null>) {\n      return action.payload;\n    },\n\n    accountUpdated(state, action: PayloadAction<Account | null>) {\n      return { ...state, ...action.payload } as Account;\n    }\n  }\n});\n\nexport const { accountFetched, accountUpdated } = accountSlice.actions;\n\nexport default accountSlice.reducer;\n","import { createSlice } from '@reduxjs/toolkit';\nimport type { PayloadAction } from '@reduxjs/toolkit';\nimport { ProfilePhoto } from '../../../types';\n\nconst initialState: ProfilePhoto[] = [];\n\nexport const profilePhotosSlice = createSlice({\n  name: 'profilePhotos',\n\n  initialState,\n\n  reducers: {\n    profilePhotosFetched(state, action: PayloadAction<ProfilePhoto[]>) {\n      return action.payload;\n    },\n\n    profilePhotoAdded(state, action: PayloadAction<ProfilePhoto>) {\n      return [action.payload, ...state];\n    },\n\n    profilePhotoDeleted(state, action: PayloadAction<number>) {\n      return state.filter((profilePhoto) => profilePhoto.id !== action.payload);\n    }\n  }\n});\n\nexport const { profilePhotosFetched, profilePhotoAdded, profilePhotoDeleted } =\n  profilePhotosSlice.actions;\n\nexport default profilePhotosSlice.reducer;\n","import { useEffect, useRef, useState } from 'react';\r\nimport { useAPI, useAppDispatch, useAppSelector } from '.';\r\nimport { Account } from '../types';\r\nimport { accountFetched } from '../features/Settings/slices/accountSlice';\r\nimport { profilePhotoAdded } from '../features/Settings/slices/profilePhotosSlice';\r\n\r\nconst useAuth = () => {\r\n  const account = useAppSelector((state) => state.account);\r\n  const isLoggedIn = account && typeof account.id === 'number';\r\n\r\n  const [isFetched, setIsFetched] = useState(false);\r\n  const fetchTriesRef = useRef<number>(0);\r\n\r\n  const dispatch = useAppDispatch();\r\n\r\n  const { get } = useAPI();\r\n\r\n  useEffect(() => {\r\n    const fetchAuthData = async () => {\r\n      const { success, data, message, status } =\r\n        await get<Account>('/users/me');\r\n      if (status === 401) setIsFetched(true);\r\n      if (success) {\r\n        dispatch(accountFetched(data));\r\n        if (data.profilePhoto) dispatch(profilePhotoAdded(data.profilePhoto));\r\n        setIsFetched(true);\r\n      } else {\r\n        console.error(message);\r\n        if (fetchTriesRef.current > 2) setIsFetched(true);\r\n      }\r\n      fetchTriesRef.current++;\r\n    };\r\n\r\n    if (!isLoggedIn && !isFetched) fetchAuthData();\r\n  }, [dispatch, get, isFetched, isLoggedIn]);\r\n\r\n  return {\r\n    isLoading: !isFetched,\r\n    isLoggedIn\r\n  };\r\n};\r\n\r\nexport default useAuth;\r\n","import { createSlice } from '@reduxjs/toolkit';\r\nimport type { PayloadAction } from '@reduxjs/toolkit';\r\nimport { User } from './types';\r\n\r\nconst initialState: User[] = [];\r\n\r\nexport const usersSlice = createSlice({\r\n  name: 'users',\r\n\r\n  initialState,\r\n\r\n  reducers: {\r\n    manyUsersAdded(state, action: PayloadAction<User[]>) {\r\n      const newUsers = action.payload;\r\n\r\n      const otherExistingUsers = state.filter((user) =>\r\n        !newUsers.some((newUser) => newUser.id === user.id)\r\n      );\r\n\r\n      return [...otherExistingUsers, ...newUsers];\r\n    },\r\n\r\n    userAdded(state, action: PayloadAction<User>) {\r\n      const newUser = action.payload;\r\n\r\n      const otherExistingUsers = state.filter((user) => user.id !== newUser.id);\r\n\r\n      return [...otherExistingUsers, newUser];\r\n    }\r\n  }\r\n});\r\n\r\nexport default usersSlice.reducer;\r\n\r\nexport const { manyUsersAdded, userAdded } = usersSlice.actions;\r\n","import { createSlice } from '@reduxjs/toolkit';\r\nimport type { PayloadAction } from '@reduxjs/toolkit';\r\n\r\nconst initialState: number[] = [];\r\n\r\nexport const blockedUsersSlice = createSlice({\r\n  name: 'blockedUsers',\r\n\r\n  initialState,\r\n\r\n  reducers: {\r\n    blockedUsersFetched(state, action: PayloadAction<number[]>) {\r\n      return action.payload;\r\n    },\r\n\r\n    blockedUserAdded(state, action: PayloadAction<number>) {\r\n      return [...state, action.payload];\r\n    },\r\n\r\n    blockedUserDeleted(state, action: PayloadAction<number>) {\r\n      return state.filter((blockedUser) => blockedUser !== action.payload);\r\n    }\r\n  }\r\n});\r\n\r\nexport default blockedUsersSlice.reducer;\r\n\r\nexport const { blockedUsersFetched, blockedUserAdded, blockedUserDeleted } =\r\n  blockedUsersSlice.actions;\r\n","import { useEffect, useState } from 'react';\r\nimport { useAPI, useAppDispatch, useAppSelector } from '.';\r\nimport { User } from '../types';\r\nimport { manyUsersAdded } from '../usersSlice';\r\nimport { blockedUsersFetched } from '../blockedUsersSlice';\r\n\r\nconst useBlockedUsersFetcher = () => {\r\n  const account = useAppSelector((state) => state.account);\r\n\r\n  const isLoggedIn = account?.id;\r\n\r\n  const [isFetched, setIsFetched] = useState(false);\r\n\r\n  const dispatch = useAppDispatch();\r\n\r\n  const { get } = useAPI();\r\n\r\n  useEffect(() => {\r\n    const fetchBlockedUsers = async () => {\r\n      const { success, data, message, status } =\r\n        await get<User[]>('/blocked-users');\r\n\r\n      if (success) {\r\n        const blockedUsers = data.map((user) => user.id);\r\n        dispatch(blockedUsersFetched(blockedUsers));\r\n        dispatch(manyUsersAdded(data));\r\n      } else {\r\n        console.error(message);\r\n      }\r\n\r\n      if (success || (status && status >= 400)) setIsFetched(true);\r\n    };\r\n\r\n    if (isLoggedIn && !isFetched) fetchBlockedUsers();\r\n  }, [dispatch, get, isFetched, isLoggedIn]);\r\n};\r\n\r\nexport default useBlockedUsersFetcher;\r\n","import { createSlice } from '@reduxjs/toolkit';\r\nimport type { PayloadAction } from '@reduxjs/toolkit';\r\nimport { Message } from '../../../types';\r\n\r\nconst initialState: Message[] = [];\r\n\r\nexport const messagesSlice = createSlice({\r\n  name: 'messages',\r\n\r\n  initialState,\r\n\r\n  reducers: {\r\n    manyMessagesAdded(state, action: PayloadAction<Message[]>) {\r\n      const newMessages = action.payload;\r\n\r\n      const otherExistingMessages = state.filter(\r\n        (message) =>\r\n          !newMessages.some((newMessage) => newMessage.id === message.id)\r\n      );\r\n\r\n      return [...otherExistingMessages, ...newMessages];\r\n    },\r\n\r\n    messageAdded(state, action: PayloadAction<Message>) {\r\n      const newMessage = action.payload;\r\n\r\n      const otherExistingMessages = state.filter(\r\n        (message) => message.id !== newMessage.id\r\n      );\r\n\r\n      return [...otherExistingMessages, newMessage];\r\n    },\r\n\r\n    messageUpdated(state, action: PayloadAction<Message>) {\r\n      return state.map((message) =>\r\n        message.id === action.payload.id ? action.payload : message\r\n      );\r\n    },\r\n\r\n    messageDeleted(state, action: PayloadAction<number>) {\r\n      return state.filter((message) => message.id !== action.payload);\r\n    }\r\n  }\r\n});\r\n\r\nexport default messagesSlice.reducer;\r\n\r\nexport const {\r\n  manyMessagesAdded,\r\n  messageAdded,\r\n  messageUpdated,\r\n  messageDeleted\r\n} = messagesSlice.actions;\r\n","import { useEffect, useState } from 'react';\r\nimport { useAPI, useAppDispatch, useAppSelector } from '.';\r\nimport { Chat, Message, User } from '../types';\r\nimport { manyUsersAdded } from '../usersSlice';\r\nimport { manyMessagesAdded } from '../features/Chat/slices/messagesSlice';\r\n\r\nconst useChatsFetcher = () => {\r\n  const account = useAppSelector((state) => state.account);\r\n\r\n  const isLoggedIn = account?.id;\r\n\r\n  const [isFetched, setIsFetched] = useState(false);\r\n\r\n  const dispatch = useAppDispatch();\r\n\r\n  const { get } = useAPI();\r\n\r\n  useEffect(() => {\r\n    const fetchChats = async () => {\r\n      const { success, data, message, status } = await get<Chat[]>('/chats');\r\n      \r\n      if (success) {\r\n        const users: User[] = [];\r\n        const messages: Message[] = [];\r\n\r\n        for (const chat of data) {\r\n          users.push(chat.partner);\r\n          messages.push(chat.lastMessage as Message);\r\n        }\r\n\r\n        dispatch(manyUsersAdded(users));\r\n        dispatch(manyMessagesAdded(messages));\r\n      } else {\r\n        console.error(message);\r\n      }\r\n\r\n      if (success || (status && status >= 400)) setIsFetched(true);\r\n    };\r\n\r\n    if (isLoggedIn && !isFetched) fetchChats();\r\n  }, [dispatch, get, isFetched, isLoggedIn]);\r\n};\r\n\r\nexport default useChatsFetcher;\r\n","import { createSlice } from '@reduxjs/toolkit';\r\nimport type { PayloadAction } from '@reduxjs/toolkit';\r\n\r\nconst initialState: number[] = [];\r\n\r\nexport const contactsSlice = createSlice({\r\n  name: 'contacts',\r\n\r\n  initialState,\r\n\r\n  reducers: {\r\n    contactsFetched(state, action: PayloadAction<number[]>) {\r\n      return action.payload;\r\n    },\r\n\r\n    contactAdded(state, action: PayloadAction<number>) {\r\n      return [...state, action.payload];\r\n    },\r\n\r\n    contactDeleted(state, action: PayloadAction<number>) {\r\n      return state.filter((contact) => contact !== action.payload);\r\n    }\r\n  }\r\n});\r\n\r\nexport default contactsSlice.reducer;\r\n\r\nexport const { contactsFetched, contactAdded, contactDeleted } =\r\n  contactsSlice.actions;\r\n","import { useEffect, useState } from 'react';\r\nimport { useAPI, useAppDispatch, useAppSelector } from '.';\r\nimport { User } from '../types';\r\nimport { contactsFetched } from '../contactsSlice';\r\nimport { manyUsersAdded } from '../usersSlice';\r\n\r\nconst useContactsFetcher = () => {\r\n  const account = useAppSelector((state) => state.account);\r\n\r\n  const isLoggedIn = account?.id;\r\n\r\n  const [isFetched, setIsFetched] = useState(false);\r\n\r\n  const dispatch = useAppDispatch();\r\n\r\n  const { get } = useAPI();\r\n\r\n  useEffect(() => {\r\n    const fetchContacts = async () => {\r\n      const { success, data, message, status } = await get<User[]>('/contacts');\r\n\r\n      if (success) {\r\n        const contacts = data.map((user) => user.id);\r\n        dispatch(contactsFetched(contacts));\r\n        dispatch(manyUsersAdded(data));\r\n      } else {\r\n        console.error(message);\r\n      }\r\n\r\n      if (success || (status && status >= 400)) setIsFetched(true);\r\n    };\r\n\r\n    if (isLoggedIn && !isFetched) fetchContacts();\r\n  }, [dispatch, get, isFetched, isLoggedIn]);\r\n};\r\n\r\nexport default useContactsFetcher;\r\n","import { useCallback, useEffect, useRef } from 'react';\r\n\r\nconst useTimer = () => {\r\n  const timeoutRef = useRef<ReturnType<typeof setTimeout>>(null);\r\n\r\n  const setTimer = useCallback((fn: () => void, ms = 0) => {\r\n    timeoutRef.current = setTimeout(fn, ms);\r\n  }, []);\r\n\r\n  const clearTimer = useCallback(() => {\r\n    if (timeoutRef.current) clearTimeout(timeoutRef.current);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    return clearTimer;\r\n  }, [clearTimer]);\r\n\r\n  return { setTimer, clearTimer };\r\n};\r\n\r\nexport default useTimer;\r\n","import { useCallback } from 'react';\r\nimport useTimer from './useTimer';\r\n\r\nconst useDebounce = () => {\r\n  const { setTimer, clearTimer } = useTimer();\r\n\r\n  const debounce = useCallback(\r\n    (fn: () => void, ms = 0) => {\r\n      clearTimer();\r\n      setTimer(fn, ms);\r\n    },\r\n    [clearTimer, setTimer]\r\n  );\r\n\r\n  return { debounce };\r\n};\r\n\r\nexport default useDebounce;\r\n","import { useCallback } from 'react';\r\n\r\nconst useDownload = () => {\r\n  const download = useCallback((url, name = '', extension = '') => {\r\n    const link = document.createElement('a');\r\n    link.href = url;\r\n    link.setAttribute('download', `${name || url}.${extension}`);\r\n    link.style.display = 'none';\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    document.body.removeChild(link);\r\n  }, []);\r\n\r\n  return download;\r\n};\r\n\r\nexport default useDownload;\r\n","import { useCallback, useRef, useState } from 'react';\r\n\r\nconst useFileSelector = (onFileSelect) => {\r\n  const [selectedFile, setSelectedFile] = useState(null);\r\n\r\n  const fileInputRef = useRef(null);\r\n\r\n  const triggerFileSelection = useCallback(() => {\r\n    if (fileInputRef.current) fileInputRef.current.click();\r\n  }, []);\r\n\r\n  const handleFileChange = useCallback(() => {\r\n    if (!fileInputRef.current) return;\r\n    const file = fileInputRef.current.files[0];\r\n    if (!file) return;\r\n    setSelectedFile(file);\r\n    onFileSelect();\r\n    fileInputRef.current.value = '';\r\n  }, [onFileSelect]);\r\n\r\n  return {\r\n    fileInputRef,\r\n    handleFileChange,\r\n    triggerFileSelection,\r\n    selectedFile\r\n  };\r\n};\r\n\r\nexport default useFileSelector;\r\n","import { useCallback, useState } from 'react';\r\n\r\nconst useFullScreenPhoto = () => {\r\n  const [isFullScreenMode, setIsFullScreenMode] = useState(false);\r\n\r\n  const toggleFullScreenMode = useCallback(\r\n    () => setIsFullScreenMode((prevValue) => !prevValue),\r\n    []\r\n  );\r\n\r\n  const exitFullScreenMode = useCallback(() => setIsFullScreenMode(false), []);\r\n\r\n  return { isFullScreenMode, toggleFullScreenMode, exitFullScreenMode };\r\n};\r\n\r\nexport default useFullScreenPhoto;\r\n","import { useCallback, useEffect, useRef, useState } from 'react';\r\n\r\nconst useImageFileLoader = (file?: File) => {\r\n  const [imageSrc, setImageSrc] = useState<string | null>(null);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const objectUrlRef = useRef<string>(null);\r\n\r\n  useEffect(() => {\r\n    if (file) {\r\n      const url = URL.createObjectURL(file);\r\n      objectUrlRef.current = url;\r\n      setIsLoading(true);\r\n      setImageSrc(url);\r\n    }\r\n\r\n    return () => {\r\n      if (objectUrlRef.current) URL.revokeObjectURL(objectUrlRef.current);\r\n      objectUrlRef.current = null;\r\n    };\r\n  }, [file]);\r\n\r\n  const handleImageLoad = useCallback((e) => {\r\n    URL.revokeObjectURL(e.target.src);\r\n    setIsLoading(false);\r\n  }, []);\r\n\r\n  return {\r\n    isImageLoading: isLoading,\r\n    imageSrc,\r\n    handleImageLoad\r\n  };\r\n};\r\n\r\nexport default useImageFileLoader;\r\n","import { useCallback, useEffect, useRef, useState } from 'react';\r\nimport { useAPI } from '.';\r\n\r\nconst useImageLoader = (url: string | null) => {\r\n  const [imageSrc, setImageSrc] = useState<string | null>(null);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const objectUrlRef = useRef<string | null>(null);\r\n\r\n  const { isLoading: isImageFetching, get } = useAPI();\r\n\r\n  useEffect(() => {\r\n    const fetchAndLoadImage = async () => {\r\n      try {\r\n        if (!url) return;\r\n\r\n        const { success, data, message } = await get<Blob>(url, {\r\n          responseType: 'blob'\r\n        });\r\n\r\n        if (success && data) {\r\n          const imgSrc = URL.createObjectURL(data);\r\n          objectUrlRef.current = imgSrc;\r\n          setIsLoading(true);\r\n          setImageSrc(imgSrc);\r\n        } else {\r\n          //console.error(message);\r\n        }\r\n      } catch (err) {\r\n        setIsLoading(false);\r\n        console.error(err);\r\n      }\r\n    };\r\n\r\n    const cleanup = () => {\r\n      if (objectUrlRef.current) URL.revokeObjectURL(objectUrlRef.current);\r\n      objectUrlRef.current = null;\r\n    };\r\n\r\n    cleanup();\r\n\r\n    if (url) {\r\n      fetchAndLoadImage();\r\n    } else {\r\n      setImageSrc(null);\r\n    }\r\n\r\n    return cleanup;\r\n  }, [url, get]);\r\n\r\n  const handleImageLoad = useCallback((e) => {\r\n    URL.revokeObjectURL(e.target.src);\r\n    setIsLoading(false);\r\n  }, []);\r\n\r\n  return {\r\n    isImageFetching,\r\n    isImageLoading: isLoading,\r\n    imageSrc,\r\n    handleImageLoad\r\n  };\r\n};\r\n\r\nexport default useImageLoader;\r\n","import { useEffect, useState } from 'react';\r\nimport { useAPI, useAppDispatch } from '.';\r\nimport { Message } from '../types';\r\nimport { manyMessagesAdded } from '../features/Chat/slices/messagesSlice';\r\n\r\nconst useMessagesFetcher = (partnerId: number) => {\r\n  const [isFetched, setIsFetched] = useState(false);\r\n\r\n  const dispatch = useAppDispatch();\r\n\r\n  const { get } = useAPI();\r\n\r\n  useEffect(() => {\r\n    const fetchMessages = async () => {\r\n      const { success, data, message, status } = await get<Message[]>(\r\n        `/messages/${partnerId}`\r\n      );\r\n\r\n      if (success) {\r\n        dispatch(manyMessagesAdded(data));\r\n      } else {\r\n        console.error(message);\r\n      }\r\n\r\n      if (success || (status && status >= 400)) setIsFetched(true);\r\n    };\r\n\r\n    if (!isFetched) fetchMessages();\r\n  }, [dispatch, get, isFetched, partnerId]);\r\n};\r\n\r\nexport default useMessagesFetcher;\r\n","import { useCallback, useEffect, useMemo, useRef, useState } from 'react';\r\nimport { useDebounce } from '.';\r\n\r\nconst usePhotoNavigation = (\r\n  photosCount: number,\r\n  initialIndex = 0,\r\n  resetNavWhenPhotosCountIncreases = false\r\n) => {\r\n  const [currentIndex, setCurrentIndex] = useState(initialIndex);\r\n\r\n  const handleNext = useCallback(() => {\r\n    const nextNumber = currentIndex + 1;\r\n    setCurrentIndex(nextNumber < photosCount ? nextNumber : 0);\r\n  }, [photosCount, currentIndex]);\r\n\r\n  const handlePrevious = useCallback(() => {\r\n    const prevNumber = currentIndex - 1;\r\n    setCurrentIndex(prevNumber >= 0 ? prevNumber : photosCount - 1);\r\n  }, [photosCount, currentIndex]);\r\n\r\n  const { debounce } = useDebounce();\r\n\r\n  const handleKeyNavigation = useCallback(\r\n    (e) =>\r\n      debounce(() => {\r\n        const focusedElem = document.activeElement;\r\n        if (!(focusedElem instanceof HTMLElement)) return;\r\n        if (!focusedElem.dataset.isPhotoNavTarget) return;\r\n        if (e.key === 'ArrowLeft') handlePrevious();\r\n        if (e.key === 'ArrowRight') handleNext();\r\n      }, 400),\r\n    [debounce, handlePrevious, handleNext]\r\n  );\r\n\r\n  useEffect(() => {\r\n    document.addEventListener('keydown', handleKeyNavigation);\r\n    return () => {\r\n      document.removeEventListener('keydown', handleKeyNavigation);\r\n    };\r\n  }, [handleKeyNavigation]);\r\n\r\n  useEffect(() => {\r\n    if (currentIndex >= photosCount) setCurrentIndex(0);\r\n  }, [currentIndex, photosCount]);\r\n\r\n  const photosCountRef = useRef(photosCount);\r\n\r\n  useEffect(() => {\r\n    const prevCount = photosCountRef.current;\r\n    photosCountRef.current = photosCount;\r\n    if (photosCount > prevCount && resetNavWhenPhotosCountIncreases)\r\n      setCurrentIndex(0);\r\n  }, [photosCount, resetNavWhenPhotosCountIncreases]);\r\n\r\n  const photoIndexIndicator = useMemo(\r\n    () => `${currentIndex + 1} of ${photosCount}`,\r\n    [currentIndex, photosCount]\r\n  );\r\n\r\n  return {\r\n    currentIndex,\r\n    handleNext,\r\n    handlePrevious,\r\n    photoIndexIndicator\r\n  };\r\n};\r\n\r\nexport default usePhotoNavigation;\r\n","import { useCallback, useMemo } from 'react';\r\nimport { formatDateTime } from '../utils';\r\nimport { useDownload } from '.';\r\n\r\nconst useProfilePhoto = (photo) => {\r\n  const photoUrl = useMemo(\r\n    () => (photo ? `/profile-photos/${photo.id}/file` : undefined),\r\n    [photo]\r\n  );\r\n\r\n  const photoDateTime = useMemo(\r\n    () => photo && formatDateTime(photo.createdAt),\r\n    [photo]\r\n  );\r\n\r\n  const download = useDownload();\r\n\r\n  const downloadPhoto = useCallback(() => {\r\n    if (photo) download(`/profile-photos/${photo.id}`, `${photo.id}`, 'png');\r\n  }, [photo, download]);\r\n\r\n  return { photoUrl, photoDateTime, downloadPhoto };\r\n};\r\n\r\nexport default useProfilePhoto;\r\n","import { useCallback, useEffect, useLayoutEffect, useState } from 'react';\r\nimport useDebounce from './useDebounce';\r\n\r\nconst useResponsive = () => {\r\n  const [windowWidth, setWindowWidth] = useState<number>(0);\r\n\r\n  useLayoutEffect(() => {\r\n    setWindowWidth(window.innerWidth);\r\n  }, []);\r\n\r\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n  const { debounce } = useDebounce();\r\n\r\n  const updateWindowWidth = useCallback(() => {\r\n    setWindowWidth(window.innerWidth);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('resize', updateWindowWidth);\r\n\r\n    return () => window.removeEventListener('resize', updateWindowWidth);\r\n  }, [updateWindowWidth]);\r\n\r\n  return { windowWidth };\r\n};\r\n\r\nexport default useResponsive;\r\n","import { useEffect, useState } from 'react';\r\nimport { useLocation } from 'react-router';\r\n\r\nconst useRouteTracker = () => {\r\n  const location = useLocation();\r\n\r\n  const [previousPath, setPreviousPath] = useState<string>(location.pathname);\r\n  const [currentPath, setCurrentPath] = useState<string>(location.pathname);\r\n\r\n  useEffect(() => {\r\n    if (location.pathname !== currentPath) {\r\n      setPreviousPath(currentPath);\r\n      setCurrentPath(location.pathname);\r\n    }\r\n  }, [currentPath, location.pathname]);\r\n\r\n  return { currentPath, previousPath };\r\n};\r\n\r\nexport default useRouteTracker;\r\n","import { useCallback, useMemo } from 'react';\r\nimport { calculateFullName, calculateNameInitials } from '../utils';\r\nimport { User } from '../types';\r\nimport useAPI from './useAPI';\r\nimport { useAppDispatch, useAppSelector } from '.';\r\nimport { blockedUserAdded, blockedUserDeleted } from '../blockedUsersSlice';\r\nimport { contactAdded, contactDeleted } from '../contactsSlice';\r\n\r\nconst useUser = (user?: User) => {\r\n  const blockedUsers = useAppSelector((state) => state.blockedUsers);\r\n  const contacts = useAppSelector((state) => state.contacts);\r\n\r\n  const fullName = useMemo(\r\n    () => calculateFullName(user?.firstName, user?.lastName),\r\n    [user?.firstName, user?.lastName]\r\n  );\r\n\r\n  const nameInitials = useMemo(\r\n    () => calculateNameInitials(user?.firstName, user?.lastName),\r\n    [user?.firstName, user?.lastName]\r\n  );\r\n\r\n  const photoUrl = useMemo(\r\n    () =>\r\n      user?.profilePhoto?.id\r\n        ? `/profile-photos/${user.profilePhoto.id}/file`\r\n        : null,\r\n    [user?.profilePhoto?.id]\r\n  );\r\n\r\n  const isBlocked = useMemo(\r\n    () => (user ? blockedUsers.includes(user.id) : false),\r\n    [blockedUsers, user]\r\n  );\r\n\r\n  const isContact = useMemo(\r\n    () => (user ? contacts.includes(user.id) : false),\r\n    [contacts, user]\r\n  );\r\n\r\n  const { post, del } = useAPI();\r\n  const dispatch = useAppDispatch();\r\n\r\n  const blockUser = useCallback(async () => {\r\n    if (!user || isBlocked) return;\r\n    const { success, message } = await post(`/blocked-users`, {\r\n      userId: user.id\r\n    });\r\n    if (success) {\r\n      dispatch(blockedUserAdded(user.id));\r\n    } else {\r\n      console.error(message);\r\n    }\r\n  }, [dispatch, isBlocked, post, user]);\r\n\r\n  const unblockUser = useCallback(async () => {\r\n    if (!user || !isBlocked) return;\r\n    const { success, message } = await del(`/blocked-users/${user.id}`);\r\n    if (success) {\r\n      dispatch(blockedUserDeleted(user.id));\r\n    } else {\r\n      console.error(message);\r\n    }\r\n  }, [del, dispatch, isBlocked, user]);\r\n\r\n  const addToContacts = useCallback(async () => {\r\n    if (!user || isContact) return;\r\n    const { success, message } = await post('/contacts', {\r\n      userId: user.id\r\n    });\r\n    if (success) {\r\n      dispatch(contactAdded(user.id));\r\n    } else {\r\n      console.error(message);\r\n    }\r\n  }, [dispatch, isContact, post, user]);\r\n\r\n  const removeFromContacts = useCallback(async () => {\r\n    if (!user || !isContact) return;\r\n    const { success, message } = await del(`/contacts/${user.id}`);\r\n    if (success) {\r\n      dispatch(contactDeleted(user.id));\r\n    } else {\r\n      console.error(message);\r\n    }\r\n  }, [del, dispatch, isContact, user]);\r\n\r\n  return {\r\n    fullName,\r\n    nameInitials,\r\n    photoUrl,\r\n    isBlocked,\r\n    isContact,\r\n    blockUser,\r\n    unblockUser,\r\n    addToContacts,\r\n    removeFromContacts\r\n  };\r\n};\r\n\r\nexport default useUser;\r\n","import { useEffect, useRef, useState } from 'react';\r\nimport { useAPI, useAppDispatch, useAppSelector } from '.';\r\nimport { userAdded } from '../usersSlice';\r\nimport { User } from '../types';\r\n\r\nconst useUserFetcher = (userId: number) => {\r\n  const users = useAppSelector((state) => state.users);\r\n\r\n  const user = users.find((user) => user.id === userId);\r\n\r\n  const [isFetched, setIsFetched] = useState(typeof user?.id === 'number');\r\n  const fetchTriesRef = useRef<number>(0);\r\n\r\n  const dispatch = useAppDispatch();\r\n\r\n  const { get } = useAPI();\r\n\r\n  useEffect(() => {\r\n    const fetchUser = async () => {\r\n      const { success, data, message } = await get<User>(`/users/${userId}`);\r\n      if (success) {\r\n        dispatch(userAdded(data));\r\n        setIsFetched(true);\r\n      } else {\r\n        console.error(message);\r\n        if (fetchTriesRef.current === 2) setIsFetched(true);\r\n      }\r\n      fetchTriesRef.current++;\r\n    };\r\n\r\n    if (!isFetched) fetchUser();\r\n  }, [dispatch, get, isFetched, userId]);\r\n\r\n  return user;\r\n};\r\n\r\nexport default useUserFetcher;\r\n","import { type CSSProperties, useEffect, useRef, useState } from 'react';\r\nimport { useTimer } from '@/hooks';\r\n\r\nconst DURATION = 200;\r\nconst TRANSITION = `opacity ${DURATION}ms ease-in-out, transform ${DURATION}ms ease-in-out`;\r\n\r\nconst MAX_TRANSITION_DURATION = DURATION; // Max duration used in the css transition in ms\r\n\r\nconst INITIAL_STYLE = {\r\n  opacity: '0.0',\r\n  transform: 'scale(0.8)',\r\n  transition: TRANSITION\r\n};\r\n\r\nconst FINAL_STYLE = {\r\n  opacity: '1.0',\r\n  transform: 'scale(1.0)',\r\n  transition: TRANSITION\r\n};\r\n\r\ntype AnimationStatus = 'entering' | 'exiting';\r\n\r\nconst useAnimation = (isVisible: boolean) => {\r\n  const [status, setStatus] = useState<AnimationStatus | undefined>(\r\n    isVisible ? 'entering' : undefined\r\n  );\r\n  const [isMounted, setIsMounted] = useState<boolean>(isVisible);\r\n  const [style, setStyle] = useState<CSSProperties | undefined>(INITIAL_STYLE);\r\n\r\n  const isFirstRenderRef = useRef<boolean>(true);\r\n\r\n  const exitingTimer = useTimer();\r\n  const enteringTimer = useTimer();\r\n\r\n  // Here useEffect is better solution than useLayoutEffect.\r\n  // useLayoutEffect made some components to not animate at entering stage, and\r\n  // maybe it is unresponsive.\r\n  useEffect(() => {\r\n    if (isFirstRenderRef.current) {\r\n      isFirstRenderRef.current = false;\r\n      return;\r\n    }\r\n\r\n    if (isVisible) {\r\n      setStyle(INITIAL_STYLE);\r\n      setIsMounted(true);\r\n      setStatus('entering');\r\n    } else {\r\n      setStyle(FINAL_STYLE);\r\n      setStatus('exiting');\r\n    }\r\n  }, [isVisible]);\r\n\r\n  useEffect(() => {\r\n    switch (status) {\r\n      case 'entering':\r\n        setStyle(FINAL_STYLE);\r\n        enteringTimer.setTimer(\r\n          () => setStyle(undefined),\r\n          MAX_TRANSITION_DURATION\r\n        );\r\n        break;\r\n\r\n      case 'exiting':\r\n        setStyle(INITIAL_STYLE);\r\n        exitingTimer.setTimer(\r\n          () => setIsMounted(false),\r\n          MAX_TRANSITION_DURATION\r\n        );\r\n        break;\r\n    }\r\n  }, [status, enteringTimer.setTimer, exitingTimer.setTimer]);\r\n\r\n  return { isMounted, animationStyle: style };\r\n};\r\n\r\nexport default useAnimation;\r\n","import { useDispatch, useSelector } from 'react-redux';\r\nimport type { AppDispatch, RootState } from '../store';\r\n\r\nexport const useAppDispatch = useDispatch.withTypes<AppDispatch>();\r\nexport const useAppSelector = useSelector.withTypes<RootState>();\r\n\r\nexport { default as useAccount } from './useAccount';\r\nexport { default as useAPI } from './useAPI';\r\nexport { default as useAppContext } from './useAppContext';\r\nexport { default as useAuth } from './useAuth';\r\nexport { default as useBlockedUsersFetcher } from './useBlockedUsersFetcher';\r\nexport { default as useChatsFetcher } from './useChatsFetcher';\r\nexport { default as useContactsFetcher } from './useContactsFetcher';\r\nexport { default as useDebounce } from './useDebounce';\r\nexport { default as useDownload } from './useDownload';\r\nexport { default as useFileSelector } from './useFileSelector';\r\nexport { default as useFullScreenPhoto } from './useFullScreenPhoto';\r\nexport { default as useImageFileLoader } from './useImageFileLoader';\r\nexport { default as useImageLoader } from './useImageLoader';\r\nexport { default as useMessagesFetcher } from './useMessagesFetcher';\r\nexport { default as usePhotoNavigation } from './usePhotoNavigation';\r\nexport { default as useProfilePhoto } from './useProfilePhoto';\r\nexport { default as useResponsive } from './useResponsive';\r\nexport { default as useRouteTracker } from './useRouteTracker';\r\nexport { default as useTimer } from './useTimer';\r\nexport { default as useUser } from './useUser';\r\nexport { default as useUserFetcher } from './useUserFetcher';\r\nexport { default as useAnimation } from './useAnimation';\r\n","import { useEffect, useState } from 'react';\r\nimport { useAppSelector } from '../../hooks';\r\nimport { Chat, Message } from '../../types';\r\n\r\nconst useChats = () => {\r\n  const account = useAppSelector((state) => state.account);\r\n  if (!account) throw new Error('Invalid account!');\r\n\r\n  const messages = useAppSelector((state) => state.messages);\r\n  const users = useAppSelector((state) => state.users);\r\n  const contacts = useAppSelector((state) => state.contacts);\r\n  const blockedUsers = useAppSelector((state) => state.blockedUsers);\r\n\r\n  const [chats, setChats] = useState<Chat[]>([]);\r\n\r\n  useEffect(() => {\r\n    const chatsMap = new Map<number, Message>();\r\n    messages.forEach((message) => {\r\n      const partnerId =\r\n        message.senderId === account.id ? message.receiverId : message.senderId;\r\n\r\n      const existing = chatsMap.get(partnerId);\r\n      if (!existing || message.createdAt > existing.createdAt) {\r\n        chatsMap.set(partnerId, message);\r\n      }\r\n    });\r\n\r\n    const chats: Chat[] = [];\r\n\r\n    for (const [partnerId, lastMessage] of chatsMap) {\r\n      const partner = users.find((user) => user.id === partnerId);\r\n      if (partner) chats.push({ partner, lastMessage });\r\n    }\r\n\r\n    // Sort by recent\r\n    chats.sort((a, b) =>\r\n      b.lastMessage && a.lastMessage\r\n        ? b.lastMessage.createdAt - a.lastMessage.createdAt\r\n        : 0\r\n    );\r\n\r\n    // If chat list are not enough, add users from contact list.\r\n    if (chats.length < 10) {\r\n      for (const contact of contacts) {\r\n        if (!chats.some((chat) => chat.partner.id === contact)) {\r\n          const partner = users.find((user) => user.id === contact);\r\n          if (partner) chats.push({ partner });\r\n        }\r\n\r\n        if (chats.length === 10) break;\r\n      }\r\n    }\r\n\r\n    // If chat list are still not enough, add users from suggetions list.\r\n    if (chats.length < 10) {\r\n      for (const user of users) {\r\n        const isBlocked = blockedUsers.some(\r\n          (blockedUser) => blockedUser === user.id\r\n        );\r\n\r\n        if (!isBlocked && !chats.some((chat) => chat.partner.id === user.id)) {\r\n          chats.push({ partner: user });\r\n        }\r\n\r\n        if (chats.length === 10) break;\r\n      }\r\n    }\r\n\r\n    setChats(chats);\r\n  }, [account.id, blockedUsers, contacts, messages, users]);\r\n\r\n  return chats;\r\n};\r\n\r\nexport default useChats;\r\n","import { useEffect, useRef, useState } from 'react';\r\nimport { useAPI, useAppDispatch } from '../../hooks';\r\nimport { User } from '../../types';\r\nimport { manyUsersAdded } from '../../usersSlice';\r\n\r\nconst useSuggestionsFetcher = () => {\r\n  const [isFetched, setIsFetched] = useState(false);\r\n  const fetchTriesRef = useRef<number>(0);\r\n\r\n  const dispatch = useAppDispatch();\r\n\r\n  const { get } = useAPI();\r\n\r\n  useEffect(() => {\r\n    const fetchSuggestions = async () => {\r\n      const { success, data, message, status } =\r\n        await get<User[]>('/users/suggestions');\r\n\r\n      if (status && status >= 400) setIsFetched(true);\r\n\r\n      if (success) {\r\n        dispatch(manyUsersAdded(data));\r\n        setIsFetched(true);\r\n      } else {\r\n        console.error(message);\r\n        if (fetchTriesRef.current > 2) setIsFetched(true);\r\n      }\r\n      fetchTriesRef.current++;\r\n    };\r\n\r\n    if (!isFetched) fetchSuggestions();\r\n  }, [dispatch, get, isFetched]);\r\n};\r\n\r\nexport default useSuggestionsFetcher;\r\n","import styled from 'styled-components';\r\n\r\nconst SearchInputStyled = styled.input`\r\n  display: block;\r\n  width: calc(100% - 2.7rem);\r\n  font-size: 1rem;\r\n  background-color: inherit;\r\n  color: white;\r\n\r\n  &:focus {\r\n    border: none;\r\n    outline: none;\r\n  }\r\n\r\n  &::placeholder {\r\n    color: #929292;\r\n  }\r\n`;\r\n\r\nconst SearchInput = () => <SearchInputStyled placeholder=\"Search people\" />;\r\n\r\nexport default SearchInput;\r\n","function _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nvar SvgAddContact = function SvgAddContact(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    fill: \"currentColor\",\n    strokeWidth: 0.2,\n    viewBox: \"0 0 24 24\",\n    stroke: \"currentColor\"\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9.023 24h8.216c1.411.052 5.719.61 5.592-2.5.123-5.074-2.654-10.85-9.32-11l-6.205-.1c-3.964-.064-6.158 1.387-6.158 1.387l.073 2.448s2.048-1.4 6.085-1.335l6.204.1c4.444.468 6.537 2.394 6.922 8.5H9.023ZM10.66.085c3.075 0 5.677 2.212 5.677 5.01s-2.602 5.06-5.676 5.06-5.573-2.263-5.573-5.06c0-2.798 2.499-5.01 5.573-5.01m0 2.111c-1.712 0-3.088 1.413-3.088 2.898s1.376 2.792 3.089 2.792c1.712 0 3.192-1.307 3.192-2.792s-1.48-2.898-3.192-2.898\",\n    style: {\n      strokeWidth: 0.2\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    id: \"addContact_svg__a\",\n    d: \"M3.266 24h2.468v-9.419H3.266Z\",\n    style: {\n      strokeWidth: 0.2\n    }\n  }), /*#__PURE__*/React.createElement(\"use\", {\n    xlinkHref: \"#addContact_svg__a\",\n    style: {\n      strokeWidth: 0.203532\n    },\n    transform: \"matrix(0 .99039 -1.0097 0 24.29 14.72)\"\n  }));\n};\nexport default SvgAddContact;","function _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nvar SvgAttachment = function SvgAttachment(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"currentColor\",\n    strokeWidth: 0.2,\n    viewBox: \"0 0 24 24\",\n    stroke: \"currentColor\"\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10.707 7.158c-.816-.66-1.35-.798-2.218-.103v8.012c-.001 5.106 7.268 5.484 7.022 0V6.375c.235-8.147-11.855-8.414-11.826 0v11.187c.664 8.153 15.796 8.574 16.63 0V7.112c-.704-.786-1.514-.79-2.217-.01v9.824C17.137 23.3 7.1 23.17 5.902 16.743V5.64c.57-4.38 7.046-4.256 7.391 0v9.427c.051 2.38-2.612 2.272-2.586 0z\",\n    style: {\n      strokeWidth: 0.200001\n    }\n  }));\n};\nexport default SvgAttachment;","function _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nvar SvgBlockUser = function SvgBlockUser(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"currentColor\",\n    strokeWidth: 0.2,\n    viewBox: \"0 0 24 24\",\n    stroke: \"currentColor\"\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19.357 10.506H4.637v10.679h14.72Zm-1 13.49H5.802c-1.35.104-3.442-2.048-3.405-3.461v-8.379c-.051-1.455 1.842-4.389 3.405-4.46h12.555c1.986-.084 3.35 3.08 3.24 4.46v8.379c.085 1.95-1.975 3.274-3.24 3.46\",\n    style: {\n      strokeWidth: 0.2\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M17.97 4.45c0-.477.03-4.326-5.754-4.399C6.1-.025 6.03 3.912 6.03 4.45v3.29h2.306V4.45c0-1.755 2.439-2.248 3.88-2.207 1.197.035 3.448.835 3.448 2.207v3.29h2.306z\",\n    style: {\n      strokeWidth: 0.2\n    }\n  }));\n};\nexport default SvgBlockUser;","function _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nvar SvgCheckBoxTick = function SvgCheckBoxTick(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"currentColor\",\n    strokeWidth: 0.2,\n    viewBox: \"0 0 24 24\",\n    stroke: \"currentColor\"\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M2 2h20v20H2Z\",\n    style: {\n      strokeWidth: 0.2\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m5.43 13.437 4.183 4.169 9.113-9.416c.366-1.303-.58-2.116-1.758-1.752L9.58 14.071l-2.425-2.417c-1.158-.825-2.52.237-1.726 1.783z\",\n    style: {\n      fill: \"currentColor\",\n      stroke: \"#fff\",\n      strokeWidth: 0.2\n    }\n  }));\n};\nexport default SvgCheckBoxTick;","function _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nvar SvgEdit = function SvgEdit(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"currentColor\",\n    strokeWidth: 0.2,\n    viewBox: \"0 0 24 24\",\n    stroke: \"currentColor\"\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m2.286 21.442 2.146-6.423c2.083-1.73 5.454 1.692 4.543 3.566zM23.202 7.603c3.397-3.917-4.553-10.37-7.859-6.198L3.353 13.408-.03 23.947l10.692-4.508Zm-2.001-.668L10.53 17.115c-.094-2.028-2.63-4.126-4.599-3.938L16.526 2.99c2.703-2.725 7.479 1.674 4.675 3.945\",\n    style: {\n      strokeWidth: 0.2\n    }\n  }));\n};\nexport default SvgEdit;","function _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nvar SvgFile = function SvgFile(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"currentColor\",\n    strokeWidth: 0.2,\n    viewBox: \"0 0 24 24\",\n    stroke: \"currentColor\"\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11.717 1.483V7.56c-.042 1.024.455 2.409 2.267 2.374l6.544-.106-.346-2.268h-6.198V1.483ZM5.9.2c-3.188.145-3.17 2.462-3.15 4.09V18.68c-.19 5.472.318 5.263 5.81 5.132h7.99c4.954.277 4.753-.006 4.72-5.291V6.51L15.854.147zm1.61 2.15 7.313.212 4.268 4.755V18.52c-.016 2.587.325 3.085-2.542 3.023H7.592c-2.326.062-2.557-.03-2.663-2.723V4.927c-.004-1.76-.314-2.512 2.582-2.577\",\n    style: {\n      strokeWidth: 0.2\n    }\n  }));\n};\nexport default SvgFile;","function _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nvar SvgRadioButtonBall = function SvgRadioButtonBall(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"currentColor\",\n    strokeWidth: 0.2,\n    viewBox: \"0 0 24 24\",\n    stroke: \"currentColor\"\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M18 12a6 6 0 0 1-6 6 6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6\",\n    style: {\n      strokeWidth: 0.2\n    }\n  }));\n};\nexport default SvgRadioButtonBall;","function _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nvar SvgSearch = function SvgSearch(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"currentColor\",\n    strokeWidth: 0.2,\n    viewBox: \"0 0 24 24\",\n    stroke: \"currentColor\"\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m17.732 15.083-2.462 2.36 5.79 5.763c1.7 1.343 3.97-.691 2.072-2.563z\",\n    style: {\n      strokeWidth: 0.2\n    }\n  }), /*#__PURE__*/React.createElement(\"ellipse\", {\n    cx: -10.011,\n    cy: -9.719,\n    rx: 8.739,\n    ry: 8.395,\n    style: {\n      fillOpacity: 0.478431,\n      fill: \"none\",\n      opacity: 0.429561\n    },\n    transform: \"scale(-1)\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10.122 0C4.549 0 0 4.549 0 10.122s4.549 10.122 10.122 10.122 10.121-4.549 10.121-10.122S15.694 0 10.122 0m0 2.892c4.01 0 7.23 3.22 7.23 7.23s-3.22 7.23-7.23 7.23-7.23-3.22-7.23-7.23 3.22-7.23 7.23-7.23\",\n    style: {\n      strokeWidth: 0.2\n    }\n  }));\n};\nexport default SvgSearch;","function _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nvar SvgUnblockUser = function SvgUnblockUser(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"currentColor\",\n    strokeWidth: 0.2,\n    viewBox: \"0 0 24 24\",\n    stroke: \"currentColor\"\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M18.596 10.506H3.798v10.679h14.798Zm-1.005 13.49H4.97c-1.356.104-3.46-2.048-3.422-3.461v-8.379c-.052-1.455 1.851-4.389 3.422-4.46H17.59c1.996-.084 3.368 3.08 3.257 4.46v8.379c.085 1.95-1.986 3.274-3.257 3.46\",\n    style: {\n      strokeWidth: 0.2\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M17.151 4.441c0-.47.03-4.27-5.736-4.34C5.318.024 5.25 3.91 5.25 4.44V7.69h2.298V4.441c0-1.732 2.432-2.219 3.868-2.177 1.194.034 3.438.824 3.438 2.177V7.69h2.298z\",\n    style: {\n      strokeWidth: 0.2\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M.236 4.963c-.322-1.298.283-1.932 1.55-1.619l22.082 18.794c.158 1.598-.26 1.5-1.283 1.833z\",\n    style: {\n      strokeWidth: 0.2\n    }\n  }));\n};\nexport default SvgUnblockUser;","import styled from 'styled-components';\r\nimport { PreviousIcon } from '.';\r\n\r\nconst NextIcon = styled(PreviousIcon)`\r\n  transform: rotate(180deg);\r\n`;\r\n\r\nexport default NextIcon;\r\n","import React, { FC, ReactNode } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst IconStyled = styled.svg`\r\n  color: inherit;\r\n  background: transparent;\r\n  fill: transparent;\r\n`;\r\n\r\nconst Square24Path = styled.path`\r\n  d: path(\r\n    'M0 0, L24 0, M0 1, L24 1, M0 2, L24 2, M0 3, L24 3, M0 4, L24 4, M0 5, L24 5, M0 6, L24 6, M0 7, L24 7, M0 8, L24 8, M0 9, L24 9, M0 10, L24 10, M0 11, L24 11, M0 12, L24 12, M0 13, L24 13, M0 14, L24 14, M0 15, L24 15, M0 16, L24 16, M0 17, L24 17, M0 18, L24 18, M0 19, L24 19, M0 20, L24 20, M0 21, L24 21, M0 22, L24 22, M0 23, L24 23, M0 24, L24 24, M0 0, L0 24, M1 0, L1 24, M2 0, L2 24, M3 0, L3 24, M4 0, L4 24, M5 0, L5 24, M6 0, L6 24, M7 0, L7 24, M8 0, L8 24, M9 0, L9 24, M10 0, L10 24, M11 0, L11 24, M12 0, L12 24, M13 0, L13 24, M14 0, L14 24, M15 0, L15 24, M16 0, L16 24, M17 0, L17 24, M18 0, L18 24, M19 0, L19 24, M20 0, L20 24, M21 0, L21 24, M22 0, L22 24, M23 0, L23 24, M24 0, L24 24'\r\n  );\r\n  fill: transparent;\r\n  stroke: #c02b0e;\r\n  stroke-width: 0.2px;\r\n  display: none;\r\n\r\n  /* To show this element if svg design mode is toggled in dev tools */\r\n  .svg-design-mode & {\r\n    display: block;\r\n  }\r\n`;\r\n\r\ninterface IconProps {\r\n  children: ReactNode;\r\n  isDesigning?: boolean;\r\n  className?: string;\r\n  viewBox?: string;\r\n  width?: number;\r\n  height?: number;\r\n}\r\n\r\n// To open svg designe mode: set isDesigning prop to true.\r\n// To see live changes: check/uncheck the .svg-design-mode class from class list of the\r\n// svg element in browser dev tools.\r\nconst Icon: FC<IconProps> = ({\r\n  children,\r\n  isDesigning = false,\r\n  className = '',\r\n  viewBox = '0 0 24 24',\r\n  width = 24,\r\n  height = 24\r\n}) => {\r\n  return (\r\n    <IconStyled\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      viewBox={viewBox}\r\n      width={width}\r\n      height={height}\r\n      className={isDesigning ? `${className} svg-design-mode` : className}\r\n    >\r\n      {isDesigning && <Square24Path />}\r\n      {children}\r\n    </IconStyled>\r\n  );\r\n};\r\n\r\nexport default Icon;\r\n","import styled from 'styled-components';\r\nimport Icon from './Icon';\r\n\r\nconst FlexibleIcon = styled(Icon)`\r\n  display: block;\r\n  width: 100%;\r\n  height: auto;\r\n`;\r\n\r\nexport default FlexibleIcon;\r\n","'use strict';\r\n\r\nimport React from 'react';\r\nimport styled from 'styled-components';\r\nimport FlexibleIcon from './FlexibleIcon';\r\n\r\nconst PauseIconPath = styled.path`\r\n  d: path('M7 4, L7 20, M17 4, L17 20');\r\n  fill: transparent;\r\n  stroke: currentColor;\r\n  stroke-width: 4.5px;\r\n`;\r\n\r\nconst PauseIcon = () => {\r\n  return (\r\n    <FlexibleIcon>\r\n      <PauseIconPath d=\"\" />\r\n    </FlexibleIcon>\r\n  );\r\n};\r\n\r\nexport default PauseIcon;\r\n","'use strict';\r\n\r\nimport React from 'react';\r\nimport styled from 'styled-components';\r\nimport FlexibleIcon from './FlexibleIcon';\r\n\r\nconst PlayIconPath = styled.path`\r\n  d: path('M5 2, L5 23, L23 12, L5 2');\r\n  fill: currentColor;\r\n  stroke: aliceblue;\r\n  stroke-width: 0px;\r\n`;\r\n\r\nconst PlayIcon = () => {\r\n  return (\r\n    <FlexibleIcon>\r\n      <PlayIconPath d=\"\" />\r\n    </FlexibleIcon>\r\n  );\r\n};\r\n\r\nexport default PlayIcon;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport FlexibleIcon from './FlexibleIcon';\r\n\r\nconst SentMsgTailIconPath = styled.path`\r\n  d: path('M0 0 C0 0 0 14 14 20 L14 24 L0 24 L0 0');\r\n  fill: currentColor;\r\n  stroke-width: 0px;\r\n`;\r\n\r\nconst SentMsgTailIcon = ({ className }) => {\r\n  return (\r\n    <FlexibleIcon className={className}>\r\n      <SentMsgTailIconPath d=\"\" />\r\n    </FlexibleIcon>\r\n  );\r\n};\r\n\r\nexport default SentMsgTailIcon;\r\n","import styled from 'styled-components';\r\nimport SentMsgTailIcon from './SentMsgTailIcon';\r\n\r\nconst ReceivedMsgTailIcon = styled(SentMsgTailIcon)`\r\n  transform: rotate(270deg);\r\n`;\r\n\r\nexport default ReceivedMsgTailIcon;\r\n","'use strict';\r\n\r\nimport React from 'react';\r\nimport styled from 'styled-components';\r\nimport FlexibleIcon from './FlexibleIcon';\r\n\r\nconst SelectedIconPath = styled.path`\r\n  d: path('M3 11, L9 18, L22 5');\r\n  fill: transparent;\r\n  stroke: #e3e3e3;\r\n  stroke-width: 4px;\r\n  stroke-linecap: round;\r\n`;\r\n\r\nconst SelectedIcon = () => {\r\n  return (\r\n    <FlexibleIcon>\r\n      <SelectedIconPath d=\"\" />\r\n    </FlexibleIcon>\r\n  );\r\n};\r\n\r\nexport default SelectedIcon;\r\n","'use strict';\r\n\r\nimport React from 'react';\r\nimport styled from 'styled-components';\r\nimport FlexibleIcon from './FlexibleIcon';\r\n\r\nconst TickIconPath = styled.path`\r\n  d: path('M5 13, l4 4, L19 7');\r\n  fill: transparent;\r\n  stroke: currentColor;\r\n  stroke-width: 2.5px;\r\n  stroke-linecap: round;\r\n`;\r\n\r\nconst TickIcon = () => {\r\n  return (\r\n    <FlexibleIcon>\r\n      <TickIconPath d=\"\" />\r\n    </FlexibleIcon>\r\n  );\r\n};\r\n\r\nexport default TickIcon;\r\n","import { SearchIcon } from '@/components/icons';\r\nimport React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst SearchButtonStyled = styled.button`\r\n  width: 2.7rem;\r\n  height: 2.7rem;\r\n  padding: 0.8rem;\r\n  color: white;\r\n`;\r\n\r\nconst SearchButton = () => {\r\n  return (\r\n    <SearchButtonStyled>\r\n      <SearchIcon />\r\n    </SearchButtonStyled>\r\n  );\r\n};\r\n\r\nexport default SearchButton;\r\n","import { StyleProps } from '@/types';\r\nimport { Link } from 'react-router';\r\nimport styled from 'styled-components';\r\n\r\nexport const UserStyled = styled(Link)`\r\n  margin: 0 0.5rem;\r\n  padding: 0.6rem 1rem;\r\n  display: flex;\r\n  align-items: center;\r\n  border-radius: 10px;\r\n  cursor: pointer;\r\n  &:hover {\r\n    background-color: ${(props: StyleProps) =>\r\n      props.theme.backgroundColors.hover};\r\n  }\r\n`;\r\n\r\nexport const ProfilePhotoContainer = styled.div`\r\n  width: 3.8rem;\r\n  height: 3.8rem;\r\n  margin-right: 0.7rem;\r\n  border-radius: 50%;\r\n  overflow: hidden;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nexport const Photo = styled.img`\r\n  width: 100%;\r\n`;\r\n\r\nexport const DefaultProfilePhotoContainer = styled(ProfilePhotoContainer)`\r\n  background: #005d27;\r\n`;\r\n\r\nexport const TextPhoto = styled.span`\r\n  font-size: 1.5rem;\r\n  font-weight: 500;\r\n  color: #fff;\r\n`;\r\n\r\nexport const ChatDetailsContainer = styled.div`\r\n  flex-grow: 1;\r\n`;\r\n\r\nexport const NameContainer = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 0.3rem;\r\n`;\r\n\r\nexport const Name = styled.h3`\r\n  margin-right: 1rem;\r\n  flex-grow: 1;\r\n  font-size: 1rem;\r\n  font-weight: 500;\r\n  color: #fff;\r\n`;\r\n\r\nexport const MessageDateTime = styled.p`\r\n  font-size: 0.9rem;\r\n  font-weight: 500;\r\n  color: #ababab;\r\n`;\r\n\r\nexport const MessagePreview = styled.p`\r\n  font-size: 1rem;\r\n  font-weight: 500;\r\n  color: #bebebe;\r\n`;\r\n","import { useMemo } from 'react';\r\nimport { calculateFullName, calculateNameInitials } from '../../../../utils';\r\nimport { User } from '../../../../types';\r\n\r\nconst useUser = (user: User) => {\r\n  const { firstName, lastName, profilePhoto } = user;\r\n\r\n  const photoUrl = useMemo(() => {\r\n    const photoId = profilePhoto?.id;\r\n    return photoId ? `/profile-photos/${photoId}/file` : null;\r\n  }, [profilePhoto]);\r\n\r\n  const fullName = useMemo(\r\n    () => calculateFullName(firstName, lastName),\r\n    [firstName, lastName]\r\n  );\r\n\r\n  const nameInitials = useMemo(\r\n    () => calculateNameInitials(firstName, lastName),\r\n    [firstName, lastName]\r\n  );\r\n\r\n  return { photoUrl, nameInitials, fullName, id: user.id };\r\n};\r\n\r\nexport default useUser;\r\n","import { useMemo } from 'react';\r\nimport { Message, User } from '../../../../types';\r\nimport { formatDateTime } from '../../../../utils';\r\nimport useUser from './useUser';\r\n\r\nconst useChatItem = (user: User, lastMessage?: Message) => {\r\n  const { fullName, nameInitials, photoUrl } = useUser(user);\r\n\r\n  const messagePreview = useMemo(\r\n    () => lastMessage?.content,\r\n    [lastMessage?.content]\r\n  );\r\n\r\n  const messageDateTime = useMemo(\r\n    () =>\r\n      lastMessage?.createdAt ? formatDateTime(lastMessage.createdAt) : null,\r\n    [lastMessage?.createdAt]\r\n  );\r\n\r\n  return { fullName, nameInitials, photoUrl, messagePreview, messageDateTime };\r\n};\r\n\r\nexport default useChatItem;\r\n","import React, { FC } from 'react';\r\nimport {\r\n  ChatDetailsContainer,\r\n  DefaultProfilePhotoContainer,\r\n  MessageDateTime,\r\n  MessagePreview,\r\n  Name,\r\n  NameContainer,\r\n  Photo,\r\n  ProfilePhotoContainer,\r\n  TextPhoto,\r\n  UserStyled\r\n} from './styles';\r\nimport { useImageLoader } from '../../../../hooks';\r\nimport { User as IUser, Message } from '../../../../types';\r\nimport useChatItem from './useChatItem';\r\n\r\ninterface UserProps {\r\n  user: IUser;\r\n  lastMessage?: Message;\r\n}\r\n\r\nconst User: FC<UserProps> = ({ user, lastMessage }) => {\r\n  const { fullName, nameInitials, photoUrl, messagePreview, messageDateTime } =\r\n    useChatItem(user, lastMessage);\r\n\r\n  const { imageSrc, handleImageLoad } = useImageLoader(photoUrl);\r\n\r\n  return (\r\n    <UserStyled to={`/chat/${user.id}`}>\r\n      {imageSrc ? (\r\n        <ProfilePhotoContainer>\r\n          <Photo src={imageSrc} onLoad={handleImageLoad} />\r\n        </ProfilePhotoContainer>\r\n      ) : (\r\n        <DefaultProfilePhotoContainer>\r\n          <TextPhoto>{nameInitials}</TextPhoto>\r\n        </DefaultProfilePhotoContainer>\r\n      )}\r\n\r\n      <ChatDetailsContainer>\r\n        <NameContainer>\r\n          <Name>{fullName}</Name>\r\n          {messageDateTime && (\r\n            <MessageDateTime>{messageDateTime}</MessageDateTime>\r\n          )}\r\n        </NameContainer>\r\n\r\n        {messagePreview && <MessagePreview>{messagePreview}</MessagePreview>}\r\n      </ChatDetailsContainer>\r\n    </UserStyled>\r\n  );\r\n};\r\n\r\nexport default User;\r\n","import {\r\n  HeaderContainer,\r\n  HomePage,\r\n  SearchContainer,\r\n  UsersContainer\r\n} from './styles';\r\nimport useChats from './useChats';\r\nimport useSuggestionsFetcher from './useSuggestionsFetcher';\r\nimport { useAppContext, useChatsFetcher } from '@/hooks';\r\nimport SearchInput from './components/SearchInput';\r\nimport SearchButton from './components/SearchButton';\r\nimport User from './components/User';\r\n\r\nconst Home = () => {\r\n  const { isLargeScreen } = useAppContext();\r\n\r\n  useChatsFetcher();\r\n\r\n  useSuggestionsFetcher();\r\n\r\n  const chats = useChats();\r\n\r\n  // ToDo add home and contacts link intop\r\n  // after the searchinput is focused show examples of how to search below the search bar\r\n  return (\r\n    <HomePage $isLargeScreen={isLargeScreen}>\r\n      <HeaderContainer>\r\n        <SearchContainer $isLargeScreen={isLargeScreen}>\r\n          <SearchInput />\r\n          <SearchButton />\r\n        </SearchContainer>\r\n      </HeaderContainer>\r\n\r\n      <UsersContainer>\r\n        {chats.map((chat) => (\r\n          <User\r\n            key={`${chat.partner?.id}`}\r\n            user={chat.partner}\r\n            lastMessage={chat.lastMessage}\r\n          />\r\n        ))}\r\n      </UsersContainer>\r\n    </HomePage>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import { StyleProps } from '@/types';\r\nimport styled from 'styled-components';\r\n\r\nexport const ChatStyled = styled.div`\r\n  flex-grow: 1;\r\n  margin-left: 0.1rem;\r\n  height: 100vh;\r\n  overflow: hidden;\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  background-color: ${(props) => props.theme.page.backgroundColor};\r\n`;\r\n\r\nexport const ChatHeader = styled.div`\r\n  height: 3.5rem;\r\n  padding: 0.5rem 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  background-color: #314352;\r\n  border-bottom: 1px solid;\r\n  border-color: #3c576e;\r\n  background-color: ${(props: StyleProps) => props.theme.backgroundColors.main};\r\n`;\r\n\r\nexport const ChatMessagesListContainer = styled.div`\r\n  flex-grow: 1;\r\n  overflow-y: auto;\r\n  display: flex;\r\n  justify-content: center;\r\n  &::-webkit-scrollbar {\r\n    width: 4px;\r\n    background-color: #131620;\r\n  }\r\n  &::-webkit-scrollbar-thumb {\r\n    background-color: #242a3d;\r\n  }\r\n`;\r\n\r\nexport const ChatMessagesList = styled.div`\r\n  flex-grow: 1;\r\n  max-width: 40rem;\r\n  margin-top: auto;\r\n  padding: 0 1rem;\r\n`;\r\n\r\n// Setting padding-bottom wasnt creating padding at the end of messages list\r\n// This component is created to give gap.\r\nexport const Gap = styled.div`\r\n  height: 1rem;\r\n  width: 100%;\r\n  background-color: transparent;\r\n`;\r\n\r\nexport const ChatFooter = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  padding-top: 0.2rem;\r\n  padding-bottom: 1.4rem;\r\n  padding-left: 0.3rem;\r\n  padding-right: 0.2rem;\r\n  background-color: inherit;\r\n`;\r\n","import styled from 'styled-components';\r\nimport { Link } from 'react-router';\r\nimport { BackIcon } from './icons';\r\n\r\nconst BackLinkStyled = styled(Link)`\r\n  width: 2rem;\r\n  padding: 0.4rem;\r\n  background-color: transparent;\r\n  color: ${(props) => props.theme.iconColor};\r\n  &:hover {\r\n    color: ${(props) => props.theme.iconColor};\r\n    background-color: transparent;\r\n  }\r\n`;\r\n\r\nconst BackLink = ({ to = '/' }) => (\r\n  <BackLinkStyled to={to}>\r\n    <BackIcon />\r\n  </BackLinkStyled>\r\n);\r\n\r\nexport default BackLink;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { BackIcon } from '../icons';\r\n\r\nconst BackButtonStyled = styled.button`\r\n  width: 2rem;\r\n  height: 2rem;\r\n  min-width: 2rem;\r\n  padding: 0.3rem;\r\n  color: ${(props) => props.theme.iconColor};\r\n`;\r\n\r\nconst BackButton = ({ onClick, ...rest }) => {\r\n  return (\r\n    <BackButtonStyled aria-label=\"Back\" onClick={onClick} {...rest}>\r\n      <BackIcon />\r\n    </BackButtonStyled>\r\n  );\r\n};\r\n\r\nexport default BackButton;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { MoreIcon } from '../icons';\r\n\r\nconst MoreButtonStyled = styled.button`\r\n  width: 2rem;\r\n  padding: 0.3rem;\r\n  color: ${(props) => props.theme.iconColor};\r\n`;\r\n\r\nconst MoreButton = ({ onClick, ...restProps }) => {\r\n  return (\r\n    <MoreButtonStyled aria-label=\"More\" onClick={onClick} {...restProps}>\r\n      <MoreIcon />\r\n    </MoreButtonStyled>\r\n  );\r\n};\r\n\r\nexport default MoreButton;\r\n","import React from 'react';\r\nimport { CloseIcon } from '../icons';\r\nimport styled from 'styled-components';\r\nimport type { StyleProps } from '../../types';\r\n\r\nconst CloseButtonStyled = styled.button`\r\n  width: 2.7rem;\r\n  height: 2.7rem;\r\n  padding: 0.85rem;\r\n  border-radius: 50%;\r\n  color: #ffffff;\r\n  transition: background-color 0.2s ease-in-out;\r\n  &:hover {\r\n    background-color: ${(props: StyleProps) =>\r\n      props.theme.backgroundColors?.bright};\r\n  }\r\n`;\r\n\r\nconst CloseButton = ({ onClick, ariaLabel = 'Close' }) => {\r\n  return (\r\n    <CloseButtonStyled type=\"button\" onClick={onClick} aria-label={ariaLabel}>\r\n      <CloseIcon />\r\n    </CloseButtonStyled>\r\n  );\r\n};\r\n\r\nexport default CloseButton;\r\n","import { createGlobalStyle, css } from 'styled-components';\r\n\r\nconst styles = css`\r\n  * {\r\n    box-sizing: border-box;\r\n  }\r\n\r\n  html {\r\n    width: 100vw;\r\n    height: 100vh;\r\n    overflow: hidden;\r\n    font-family: system-ui, sans-serif;\r\n  }\r\n\r\n  body {\r\n    width: 100vw;\r\n    height: 100vh;\r\n    overflow-x: hidden;\r\n    overflow-y: hidden;\r\n    font-family:\r\n      -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue',\r\n      Arial, 'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji',\r\n      'Segoe UI Symbol', 'Noto Color Emoji';\r\n    font-size: 1rem;\r\n    font-weight: 400;\r\n    line-height: 1.2;\r\n    text-align: left;\r\n    ${({ theme }) => css`\r\n      background-color: ${theme.pageBackgroundColor};\r\n      color: ${theme.textColor};\r\n    `}\r\n  }\r\n\r\n  body,\r\n  header,\r\n  main,\r\n  footer,\r\n  figure,\r\n  nav,\r\n  h1,\r\n  h2,\r\n  h3,\r\n  h4,\r\n  h5,\r\n  h6,\r\n  p,\r\n  div,\r\n  ul,\r\n  li,\r\n  label,\r\n  input,\r\n  textarea {\r\n    display: block;\r\n    margin: 0;\r\n    padding: 0;\r\n    font-family: system-ui, sans-serif;\r\n    font-weight: 400;\r\n  }\r\n\r\n  span {\r\n    display: inline;\r\n    margin: 0;\r\n    padding: 0;\r\n    font-family: system-ui, sans-serif;\r\n  }\r\n\r\n  a {\r\n    margin: 0;\r\n    padding: 0;\r\n    outline: none;\r\n    border: none;\r\n    text-decoration: none;\r\n    color: inherit;\r\n    background-color: inherit;\r\n    cursor: pointer;\r\n    font-family: system-ui, sans-serif;\r\n  }\r\n\r\n  a:hover {\r\n    color: inherit;\r\n    text-decoration: none;\r\n  }\r\n\r\n  a:active {\r\n    color: inherit;\r\n    text-decoration: none;\r\n  }\r\n\r\n  ul {\r\n    list-style: none;\r\n    font-family: system-ui, sans-serif;\r\n  }\r\n\r\n  img {\r\n    display: block;\r\n    margin: 0;\r\n    padding: 0;\r\n    height: auto;\r\n  }\r\n\r\n  button {\r\n    margin: 0;\r\n    padding: 0;\r\n    border: none;\r\n    outline: none;\r\n    background: transparent;\r\n    cursor: pointer;\r\n    border-radius: 0;\r\n    font-family: system-ui, sans-serif;\r\n    color: inherit;\r\n  }\r\n\r\n  label {\r\n    margin: 0;\r\n    padding: 0;\r\n    display: inline;\r\n    font-family: system-ui, sans-serif;\r\n  }\r\n\r\n  span {\r\n    margin: 0;\r\n    padding: 0;\r\n    display: inline;\r\n    font-family: system-ui, sans-serif;\r\n  }\r\n\r\n  textarea {\r\n    overflow-x: hidden;\r\n    overflow-y: auto;\r\n    resize: none;\r\n    border: none;\r\n    outline: none;\r\n  }\r\n\r\n  input {\r\n    outline: none;\r\n    border: none;\r\n    font-family: system-ui, sans-serif;\r\n  }\r\n\r\n  svg {\r\n    margin: 0;\r\n    padding: 0;\r\n  }\r\n\r\n  .svg-design-mode {\r\n    position: fixed;\r\n    z-index: 500;\r\n    width: 80vw;\r\n    top: 4vh;\r\n    right: 2vw;\r\n    background: rgb(25, 29, 41);\r\n  }\r\n`;\r\n\r\nconst GlobalStyle = createGlobalStyle` \r\n  ${styles}\r\n`;\r\n\r\nexport default GlobalStyle;\r\n","import styled, { css } from 'styled-components';\r\nimport { StyleProps } from '../types';\r\n\r\n/**\r\n * This export is not used. It is here to allow react-fast-refresh\r\n * and styled components to reflect latest changes of exported styles in development.\r\n * Without default export in here: eg ```const BestBtn = styled(GoodBtn)``;``` doens't\r\n * get latest GoodBtn styles during development if the GoodBtn were exported from here.\r\n */\r\nexport default 'nothing';\r\n\r\nexport { default as GlobalStyle } from './GlobalStyle';\r\n\r\nexport const FullScreenOverlay = styled.div<{ $zIndex: number }>`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  ${({ $zIndex = 5 }) => css`\r\n    z-index: ${$zIndex};\r\n  `}\r\n  display: flex;\r\n  background-color: rgb(0 0 0 / 66%);\r\n`;\r\n\r\nexport const CenteredModal = styled.div`\r\n  margin: auto;\r\n  padding: 1rem;\r\n  border-radius: 15px;\r\n  border: 1px solid;\r\n  ${(props: StyleProps) => css`\r\n    background-color: ${props.theme.backgroundColors?.main};\r\n    border-color: ${props.theme.backgroundColors?.bright};\r\n  `}\r\n`;\r\n\r\nexport const NormalButton = styled.button``;\r\n\r\nexport const BasicButton = styled.button`\r\n  padding: 0.4rem 1.7rem;\r\n  font-size: 1rem;\r\n  font-weight: 500;\r\n  border-radius: 8px;\r\n  transition:\r\n    background-color 0.2s ease-in-out,\r\n    color 0.2s ease-in-out;\r\n`;\r\n\r\nexport const PrimaryButton = styled(BasicButton)`\r\n  ${({ theme }: StyleProps) => css`\r\n    color: #fff;\r\n    background-color: ${theme.backgroundColors?.button};\r\n    &:hover {\r\n      background-color: ${theme.backgroundColors?.buttonHover};\r\n    }\r\n  `}\r\n`;\r\n\r\nexport const DisabledPrimaryButton = styled(BasicButton)`\r\n  ${({ theme }) => css`\r\n    color: ${theme.disabledPrimaryButton.color};\r\n    background-color: ${theme.disabledPrimaryButton.backgroundColor};\r\n  `}\r\n  cursor: not-allowed;\r\n`;\r\n\r\nexport const IconButton = styled.button`\r\n  width: 2rem;\r\n  height: 2rem;\r\n  padding: 0.5rem;\r\n  ${({ theme }) => css`\r\n    color: ${theme.iconColor};\r\n  `}\r\n`;\r\n\r\nexport const ModalTitle = styled.h1`\r\n  margin-left: 1rem;\r\n  font-size: 1.4rem;\r\n`;\r\n\r\nexport const PhotoHeaderSection = styled.div`\r\n  position: absolute;\r\n  top: 0.5rem;\r\n  left: 0;\r\n  right: 0.5rem;\r\n  z-index: 5;\r\n  display: flex;\r\n  justify-content: space-between;\r\n`;\r\n\r\nexport const PhotoIndexIndicator = styled.span`\r\n  align-self: center;\r\n  font-size: 1rem;\r\n  font-weight: 500;\r\n  color: #ffffff;\r\n`;\r\n\r\nexport const PhotoMetaContainer = styled.div`\r\n  position: absolute;\r\n  left: 0.5rem;\r\n  right: 0;\r\n  bottom: 0.5rem;\r\n`;\r\n\r\nexport const PhotoMetaText = styled.p`\r\n  margin-bottom: 0.4rem;\r\n  font-size: 0.8rem;\r\n  font-weight: 500;\r\n  color: #dddddd;\r\n`;\r\n\r\nexport const PhotoNavButton = styled.button`\r\n  position: absolute;\r\n  top: calc(50% - 1.5rem);\r\n  width: 3rem;\r\n  height: 3rem;\r\n  padding: 0.4rem;\r\n  color: #ffffff96;\r\n  &:hover {\r\n    color: #ffffffff;\r\n  }\r\n`;\r\n\r\nexport const CenteredImage = styled.img`\r\n  margin: auto;\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: contain;\r\n`;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { NextIcon } from '../icons';\r\nimport { PhotoNavButton } from '../../styles';\r\n\r\nconst NextButtonStyled = styled(PhotoNavButton)`\r\n  right: 0;\r\n`;\r\n\r\nconst NextButton = ({ onClick, ...otherProps }) => {\r\n  return (\r\n    <NextButtonStyled\r\n      aria-label=\"Next photo\"\r\n      data-is-photo-nav-target=\"true\"\r\n      onClick={onClick}\r\n      {...otherProps}\r\n    >\r\n      <NextIcon />\r\n    </NextButtonStyled>\r\n  );\r\n};\r\n\r\nexport default NextButton;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { PreviousIcon } from '../icons';\r\nimport { PhotoNavButton } from '../../styles';\r\n\r\nconst PreviousButtonStyled = styled(PhotoNavButton)`\r\n  left: 0;\r\n`;\r\n\r\nconst PreviousButton = ({ onClick, ...otherProps }) => {\r\n  return (\r\n    <PreviousButtonStyled\r\n      aria-label=\"Previous photo\"\r\n      data-is-photo-nav-target=\"true\"\r\n      onClick={onClick}\r\n      {...otherProps}\r\n    >\r\n      <PreviousIcon />\r\n    </PreviousButtonStyled>\r\n  );\r\n};\r\n\r\nexport default PreviousButton;\r\n","import { Link } from 'react-router';\r\nimport styled, { css } from 'styled-components';\r\n\r\nexport const UserContainer = styled.div`\r\n  display: flex;\r\n  justify-content: left;\r\n  align-items: center;\r\n  cursor: pointer;\r\n`;\r\n\r\nexport const CircularPhoto = styled.div`\r\n  width: 2.9rem;\r\n  height: 2.9rem;\r\n  overflow: hidden;\r\n  margin-right: 0.9rem;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  border-radius: 50%;\r\n`;\r\n\r\nexport const ProfileLink = styled(Link)<{ $isLargeScreen: boolean }>`\r\n  ${(props) =>\r\n    props.$isLargeScreen\r\n      ? css`\r\n          margin-left: 1rem;\r\n        `\r\n      : css`\r\n          margin-left: 3rem;\r\n        `}\r\n  flex-grow: 2;\r\n`;\r\n\r\nexport const NameContainer = styled.div``;\r\n\r\nexport const Name = styled.h3`\r\n  font-size: 1rem;\r\n  font-weight: 500;\r\n  color: ${(props) => props.theme.text.title.color};\r\n`;\r\n\r\nexport const Status = styled.span`\r\n  display: block;\r\n  font-size: 0.8rem;\r\n  font-weight: 500;\r\n  color: ${(props) => props.theme.text.description.color};\r\n`;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst NameInitialsContainer = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background-color: #005d27;\r\n  border-radius: inherit;\r\n  background-color: ${(props) => props.theme.nameInitials.backgroundColor};\r\n`;\r\n\r\nconst NameInitials = styled.span`\r\n  line-height: 1.5;\r\n  font-size: 15rem;\r\n  font-weight: 600;\r\n`;\r\n\r\nconst SmallNameInitialsContainer = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background-color: ${(props) => props.theme.nameInitials.backgroundColor};\r\n`;\r\n\r\nconst SmallNameInitials = styled.span`\r\n  font-size: 1.8rem;\r\n  font-weight: 500;\r\n  line-height: 2;\r\n`;\r\n\r\nconst NameInitial = ({ nameInitials, isSmall = false }) => {\r\n  return isSmall ? (\r\n    <SmallNameInitialsContainer>\r\n      <SmallNameInitials>{nameInitials}</SmallNameInitials>\r\n    </SmallNameInitialsContainer>\r\n  ) : (\r\n    <NameInitialsContainer>\r\n      <NameInitials>{nameInitials}</NameInitials>\r\n    </NameInitialsContainer>\r\n  );\r\n};\r\n\r\nexport default NameInitial;\r\n","import React, { FC } from 'react';\r\nimport {\r\n  CircularPhoto,\r\n  Name,\r\n  NameContainer,\r\n  ProfileLink,\r\n  Status,\r\n  UserContainer\r\n} from './styles';\r\nimport { CenteredImage } from '../../../../styles';\r\nimport { useUser, useImageLoader, useAppContext } from '../../../../hooks';\r\nimport { User as IUser } from '../../../../types';\r\nimport NameInitial from '../../../../components/NameInitial';\r\n\r\ninterface UserProps {\r\n  userId: number; // Needed incase the user wasn't fatched already\r\n  user?: IUser;\r\n}\r\n\r\nconst User: FC<UserProps> = ({ userId, user }) => {\r\n  const { fullName, nameInitials, photoUrl } = useUser(user);\r\n\r\n  const { imageSrc, handleImageLoad } = useImageLoader(photoUrl);\r\n\r\n  const { isLargeScreen } = useAppContext();\r\n\r\n  return (\r\n    <ProfileLink $isLargeScreen={isLargeScreen} to={`/profile/${userId}`}>\r\n      <UserContainer>\r\n        <CircularPhoto>\r\n          {imageSrc ? (\r\n            <CenteredImage\r\n              src={imageSrc}\r\n              alt=\"User profile photo\"\r\n              onLoad={handleImageLoad}\r\n            />\r\n          ) : (\r\n            <NameInitial nameInitials={nameInitials} isSmall={true} />\r\n          )}\r\n        </CircularPhoto>\r\n\r\n        <NameContainer>\r\n          <Name>{fullName}</Name>\r\n          <Status>{'Last seen recently'}</Status>\r\n        </NameContainer>\r\n      </UserContainer>\r\n    </ProfileLink>\r\n  );\r\n};\r\n\r\nexport default User;\r\n","import styled, { css } from 'styled-components';\r\n\r\nexport const TextMessageStyled = styled.div<{ $isOutgoing: boolean }>`\r\n  position: relative;\r\n  ${(props) =>\r\n    props.$isOutgoing\r\n      ? css`\r\n          padding: 0.3rem 0.5rem 0.4rem 0.9rem;\r\n        `\r\n      : css`\r\n          padding: 0.3rem 0.95rem 0.3rem 0.75rem;\r\n        `}\r\n`;\r\n\r\nexport const Content = styled.span`\r\n  font-size: 1.032rem;\r\n  font-weight: 500;\r\n  line-height: 1.35;\r\n  color: inherit;\r\n`;\r\n\r\nexport const TextMsgMetaContainer = styled.div`\r\n  padding: 0 0.4rem 0.4rem 0;\r\n`;\r\n\r\nexport const HiddenMeta = styled(TextMsgMetaContainer)`\r\n  display: inline;\r\n  visibility: hidden;\r\n`;\r\n\r\nexport const VisibleMeta = styled(TextMsgMetaContainer)`\r\n  position: absolute;\r\n  right: 0;\r\n  bottom: 0;\r\n  display: flex;\r\n`;\r\n","import styled from 'styled-components';\r\n\r\nexport const MessageMetaStyled = styled.div`\r\n  background: transparent;\r\n  display: inherit;\r\n  align-items: center;\r\n`;\r\n\r\nexport const Time = styled.span`\r\n  margin-right: 0.1rem;\r\n  line-height: 1;\r\n  font-size: 0.7rem;\r\n  font-weight: 600;\r\n  color: ${(props) => props.theme.text.description.color};\r\n`;\r\n\r\nexport const TickIconContainer = styled.div`\r\n  display: inline-block;\r\n  width: 1.15rem;\r\n`;\r\n\r\nexport const ProgressText = styled.span`\r\n  font-size: 0.85rem;\r\n  font-weight: 400;\r\n`;\r\n","import React from 'react';\r\nimport {\r\n  MessageMetaStyled,\r\n  ProgressText,\r\n  TickIconContainer,\r\n  Time\r\n} from './styles';\r\nimport { TickIcon } from '../../../../components/icons';\r\n\r\nconst MessageMeta = ({ isOutgoing, status, time }) => {\r\n  return (\r\n    <MessageMetaStyled onContextMenu={(e) => e.stopPropagation()}>\r\n      {status ? (\r\n        <ProgressText>{status}</ProgressText>\r\n      ) : (\r\n        <>\r\n          <Time>{time}</Time>\r\n          {isOutgoing && (\r\n            <TickIconContainer>\r\n              <TickIcon />\r\n            </TickIconContainer>\r\n          )}\r\n        </>\r\n      )}\r\n    </MessageMetaStyled>\r\n  );\r\n};\r\n\r\nexport default MessageMeta;\r\n","import React, { FC } from 'react';\r\nimport { Content, HiddenMeta, TextMessageStyled, VisibleMeta } from './styles';\r\nimport MessageMeta from '../MessageMeta';\r\nimport { EnrichedMessage } from '../../types';\r\n\r\ninterface TextMessageProps {\r\n  enrichedMessage: EnrichedMessage;\r\n}\r\n\r\nconst TextMessage: FC<TextMessageProps> = ({ enrichedMessage }) => {\r\n  const { content, isOutgoing, status, time } = enrichedMessage;\r\n\r\n  return (\r\n    <TextMessageStyled $isOutgoing={isOutgoing}>\r\n      <Content>{content}</Content>\r\n      <HiddenMeta>\r\n        <MessageMeta isOutgoing={isOutgoing} status={status} time={time} />\r\n      </HiddenMeta>\r\n\r\n      <VisibleMeta>\r\n        <MessageMeta isOutgoing={isOutgoing} status={status} time={time} />\r\n      </VisibleMeta>\r\n    </TextMessageStyled>\r\n  );\r\n};\r\n\r\nexport default TextMessage;\r\n","import styled from 'styled-components';\r\n\r\nexport const PhotoMessageStyled = styled.div`\r\n  position: relative;\r\n  max-width: 13rem;\r\n  border-color: inherit;\r\n`;\r\n\r\nexport const PhotoImg = styled.img`\r\n  min-height: 7rem;\r\n  max-width: 100%;\r\n  border: 2px solid;\r\n  border-color: inherit;\r\n  border-radius: 13px;\r\n`;\r\n\r\nexport const PhotoMetaContainer = styled.div`\r\n  position: absolute;\r\n  right: 0.1rem;\r\n  bottom: 0.1rem;\r\n  padding: 0.2rem 0.6rem;\r\n  display: flex;\r\n  background: rgb(0 0 0 / 52%);\r\n  border-radius: 7px;\r\n`;\r\n","import styled from 'styled-components';\r\nimport { StyleProps } from '../../types';\r\n\r\nexport const ContextMenuOverlay = styled.div`\r\n  position: fixed;\r\n  z-index: 500;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: transparent;\r\n  cursor: default;\r\n`;\r\n\r\nexport const ContextMenuStyled = styled.ul`\r\n  position: fixed;\r\n  min-width: 200px;\r\n  padding: 0;\r\n  border-radius: 7px;\r\n  background-color: ${(props: StyleProps) =>\r\n    props.theme.backgroundColors?.bright};\r\n`;\r\n","import styled from 'styled-components';\r\nimport { StyleProps } from '../../../types';\r\n\r\nexport const MenuItemStyled = styled.li`\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 15px 15px;\r\n  cursor: pointer;\r\n  border-radius: 7px;\r\n  background-color: inherit;\r\n  transition: background-color 0.15s ease;\r\n\r\n  color: ${(props: StyleProps) => props.theme.textColors?.normal};\r\n\r\n  &:hover {\r\n    background: ${(props: StyleProps) => props.theme.backgroundColors?.veryBright};\r\n  }\r\n`;\r\n\r\nexport const MenuItemIconContainer = styled.div`\r\n  width: 1.25rem;\r\n  margin-right: 0.95rem;\r\n  color: inherit;\r\n  background: inherit;\r\n`;\r\n\r\nexport const MenuItemLabel = styled.label`\r\n  display: block;\r\n  font-size: 0.9rem;\r\n  font-weight: 500;\r\n  color: inherit;\r\n`;\r\n","import React, { FC } from 'react';\r\nimport { MenuItemIconContainer, MenuItemLabel, MenuItemStyled } from './styles';\r\n\r\ninterface MenuItemProps {\r\n  icon: React.ReactNode;\r\n  label: string;\r\n  onClick: () => void;\r\n}\r\n\r\nconst MenuItem: FC<MenuItemProps> = ({ icon, label, onClick }) => {\r\n  return (\r\n    <MenuItemStyled role=\"menuitem\" onClick={onClick}>\r\n      <MenuItemIconContainer>{icon}</MenuItemIconContainer>\r\n      <MenuItemLabel>{label}</MenuItemLabel>\r\n    </MenuItemStyled>\r\n  );\r\n};\r\n\r\nexport default MenuItem;\r\n","import React, {\r\n  useCallback,\r\n  useEffect,\r\n  useLayoutEffect,\r\n  useMemo,\r\n  useRef,\r\n  useState\r\n} from 'react';\r\nimport { ContextMenuControlProps } from './types';\r\n\r\ninterface Position {\r\n  x: number;\r\n  y: number;\r\n}\r\n\r\nconst useContextMenu = () => {\r\n  const [isVisible, setIsVisible] = useState<boolean>(false);\r\n  const [position, setPosition] = useState<Position>({ x: 0, y: 0 });\r\n  const menuRef = useRef<HTMLUListElement | null>(null);\r\n\r\n  const closeMenu = useCallback(() => setIsVisible(false), []);\r\n\r\n  // Standard event handler for opening context menu via right-click\r\n  const onContextMenu = useCallback((e: React.MouseEvent<HTMLElement>) => {\r\n    e.stopPropagation();\r\n    e.preventDefault();\r\n\r\n    const elementRect = e.currentTarget.getBoundingClientRect();\r\n\r\n    const isInBound =\r\n      e.clientX > elementRect.left &&\r\n      e.clientX < elementRect.right &&\r\n      e.clientY > elementRect.top &&\r\n      e.clientY < elementRect.bottom;\r\n\r\n    if (isInBound) {\r\n      setPosition({ x: e.clientX, y: e.clientY });\r\n      setIsVisible(true);\r\n    } else {\r\n      setIsVisible(false);\r\n    }\r\n  }, []);\r\n\r\n  // Ref to determine if the \"More\" button was used to open the menu\r\n  const isMoreButtonUsedRef = useRef<boolean>(false);\r\n\r\n  // Handler for when a dedicated \"More\" button is clicked to open the menu\r\n  const onMoreButtonClick = useCallback((e: React.MouseEvent<HTMLElement>) => {\r\n    const buttonRect = e.currentTarget.getBoundingClientRect();\r\n    isMoreButtonUsedRef.current = true;\r\n    setPosition({ x: buttonRect.right, y: buttonRect.top });\r\n    setIsVisible(true);\r\n  }, []);\r\n\r\n  // Adjust menu position if it overflows the viewport boundaries\r\n  useLayoutEffect(() => {\r\n    if (isMoreButtonUsedRef.current) return;\r\n    if (!isVisible || !menuRef.current) return;\r\n    const menuRect = menuRef.current.getBoundingClientRect();\r\n    setPosition((prevPosition) => {\r\n      let adjustedX = prevPosition.x;\r\n      let adjustedY = prevPosition.y;\r\n      if (menuRect.right > window.innerWidth) {\r\n        adjustedX = window.innerWidth - menuRect.width - 10;\r\n      }\r\n      if (menuRect.bottom > window.innerHeight) {\r\n        adjustedY = window.innerHeight - menuRect.height - 10;\r\n      }\r\n      return { x: adjustedX, y: adjustedY };\r\n    });\r\n  }, [isVisible, position.x, position.y]);\r\n\r\n  // Adjust menu position if triggered by the More button: flip it to the left\r\n  useLayoutEffect(() => {\r\n    if (!isVisible || !isMoreButtonUsedRef.current || !menuRef.current) return;\r\n    const menuRect = menuRef.current.getBoundingClientRect();\r\n    isMoreButtonUsedRef.current = false;\r\n    setPosition((prevPosition) => ({\r\n      x: prevPosition.x - menuRect.width,\r\n      y: prevPosition.y\r\n    }));\r\n  }, [isVisible]);\r\n\r\n  // Close menu when window is resized or document is scrolled\r\n  useEffect(() => {\r\n    window.addEventListener('resize', closeMenu);\r\n    document.addEventListener('wheel', closeMenu);\r\n    return () => {\r\n      window.removeEventListener('resize', closeMenu);\r\n      document.removeEventListener('wheel', closeMenu);\r\n    };\r\n  }, [closeMenu]);\r\n\r\n  const menuStyles = useMemo(\r\n    () => ({ left: `${position.x}px`, top: `${position.y}px` }),\r\n    [position.x, position.y]\r\n  );\r\n\r\n  const contextMenuControlProps: ContextMenuControlProps = {\r\n    menuRef,\r\n    menuStyles,\r\n    closeMenu\r\n  };\r\n\r\n  return {\r\n    isContextMenuVisible: isVisible,\r\n    onContextMenu,\r\n    onMoreButtonClick,\r\n    contextMenuControlProps\r\n  };\r\n};\r\n\r\nexport default useContextMenu;\r\n","import React, { FC, useCallback, useMemo } from 'react';\r\nimport { ContextMenuOverlay, ContextMenuStyled } from './styles';\r\nimport MenuItem from './MenuItem';\r\nimport { ContextMenuControlProps, MenuItemDescriptor } from './types';\r\n\r\nexport { default as useContextMenu } from './useContextMenu';\r\n\r\ninterface ContextMenuProps {\r\n  menuItems: MenuItemDescriptor[];\r\n  controlProps: ContextMenuControlProps;\r\n}\r\n\r\nconst ContextMenu: FC<ContextMenuProps> = ({ menuItems, controlProps }) => {\r\n  const { closeMenu, menuRef, menuStyles } = controlProps;\r\n\r\n  const executeMenuItemAction = useCallback(\r\n    (action: MenuItemDescriptor['action']) => {\r\n      closeMenu();\r\n      action();\r\n    },\r\n    [closeMenu]\r\n  );\r\n\r\n  const menuList = useMemo(\r\n    () =>\r\n      menuItems.map((menuItem, index) => (\r\n        <MenuItem\r\n          key={`${menuItem.label}-${index}`}\r\n          icon={menuItem.icon}\r\n          label={menuItem.label}\r\n          onClick={() => executeMenuItemAction(menuItem.action)}\r\n        />\r\n      )),\r\n    [menuItems, executeMenuItemAction]\r\n  );\r\n\r\n  const handleOverlayClick = (e: React.MouseEvent<HTMLElement>) => {\r\n    if (e.target === e.currentTarget) closeMenu();\r\n  };\r\n\r\n  return (\r\n    <ContextMenuOverlay onClick={handleOverlayClick}>\r\n      <ContextMenuStyled\r\n        ref={menuRef}\r\n        role=\"menu\"\r\n        onContextMenu={(e) => e.stopPropagation()}\r\n        style={menuStyles}\r\n      >\r\n        {menuList}\r\n      </ContextMenuStyled>\r\n    </ContextMenuOverlay>\r\n  );\r\n};\r\n\r\nexport default ContextMenu;\r\n","export function formatTime(time: number): string {\r\n  const date = new Date(time);\r\n  let hours = date.getHours();\r\n  const minutes = date.getMinutes().toString().padStart(2, '0');\r\n  const period = hours >= 12 ? 'PM' : 'AM';\r\n\r\n  hours = hours % 12;\r\n  hours = hours === 0 ? 12 : hours;\r\n\r\n  return `${hours}:${minutes} ${period}`;\r\n}\r\n\r\nexport function formatDateTime(time: number): string {\r\n  const formattedTime = formatTime(time);\r\n  const date = new Date(time);\r\n  const day = date.getDate();\r\n  const month = date.getMonth() + 1;\r\n  const year = date.getFullYear();\r\n  return `${day}/${month}/${year} at ${formattedTime}`;\r\n}\r\n\r\n/**\r\n * Returns size in appropriate unit(bytes, kilobytes, megabytes and\r\n * gigabytes) of the provided size.\r\n */\r\nexport function getSizeInAppropriateUnit(size: number): string {\r\n  const KB = 1024;\r\n  const MB = KB * 1024;\r\n  const GB = MB * 1024;\r\n  if (size < KB) {\r\n    return `${size} B`;\r\n  }\r\n  if (size > GB) {\r\n    size = size / GB;\r\n    return `${size.toFixed(1)} GB`;\r\n  }\r\n  if (size > MB) {\r\n    size = size / MB;\r\n    return `${size.toFixed(1)} MB`;\r\n  }\r\n  size = size / KB;\r\n  return `${size.toFixed(1)} KB`;\r\n}\r\n\r\nexport function getUniqueId(existingIdList: number[]): number {\r\n  for (let i = 1; i < 1000_000; i++) {\r\n    if (!existingIdList.includes(i)) return i;\r\n  }\r\n  return 1000_000;\r\n}\r\n\r\nexport function fileListToArray(fileList: FileList): File[] {\r\n  return Array.from(fileList);\r\n}\r\n\r\nexport function getFileExtension(fileName: string) {\r\n  return fileName.split('.').pop();\r\n}\r\n\r\nexport function shortenFileName(fileName: string, maxLength: number) {\r\n  if (typeof fileName !== 'string' || !fileName) return fileName;\r\n  if (fileName.length <= maxLength) return fileName;\r\n  const nameParts = fileName.split('.');\r\n  const extension = nameParts.pop();\r\n  const onlyName = nameParts.join('.');\r\n  if (!extension) return onlyName.slice(0, maxLength);\r\n\r\n  const CHARS_NEAR_EXT_COUNT = 3;\r\n  const DOTS_COUNT = 3;\r\n  const charsNearExt = onlyName.slice(\r\n    onlyName.length - CHARS_NEAR_EXT_COUNT,\r\n    onlyName.length\r\n  );\r\n  const realMaxLength =\r\n    maxLength - DOTS_COUNT - CHARS_NEAR_EXT_COUNT - 1 - extension.length;\r\n\r\n  if (onlyName.length < realMaxLength) return fileName.slice(0, maxLength);\r\n\r\n  return `${onlyName.slice(0, realMaxLength)}...${charsNearExt}.${extension}`;\r\n}\r\n\r\nconst IMAGE_EXTENSIONS = [\r\n  'jpg',\r\n  'jpeg',\r\n  'png',\r\n  'gif',\r\n  'bmp',\r\n  'tiff',\r\n  'tif',\r\n  'webp',\r\n  'svg',\r\n  'ico',\r\n  'heif',\r\n  'heic',\r\n  'apng',\r\n  'avif',\r\n  'jp2',\r\n  'j2k',\r\n  'hdr'\r\n];\r\n\r\nconst AUDIO_EXTENSIONS = [\r\n  'mp3',\r\n  'wav',\r\n  'ogg',\r\n  'aac',\r\n  'flac',\r\n  'aiff',\r\n  'aif',\r\n  'wma',\r\n  'm4a',\r\n  'opus'\r\n];\r\n\r\nconst VIDEO_EXTENSIONS = [\r\n  'mp4',\r\n  'webm',\r\n  'ogv',\r\n  'avi',\r\n  'mov',\r\n  'flv',\r\n  'wmv',\r\n  'mkv'\r\n];\r\n\r\nexport function isImage(extension?: string): boolean {\r\n  if (!extension) return false;\r\n  return IMAGE_EXTENSIONS.includes(extension.toLowerCase());\r\n}\r\n\r\nexport function isVideo(extension?: string): boolean {\r\n  if (!extension) return false;\r\n  return VIDEO_EXTENSIONS.includes(extension.toLowerCase());\r\n}\r\n\r\nexport function isAudio(extension?: string): boolean {\r\n  if (!extension) return false;\r\n  return AUDIO_EXTENSIONS.includes(extension.toLowerCase());\r\n}\r\n","import { useSelector } from 'react-redux';\r\nimport { isImage } from '../../utils';\r\nimport { useMemo } from 'react';\r\n\r\nconst usePhotoSelector = (photo) => {\r\n  const messages = useSelector((state) => state.messages);\r\n\r\n  const { senderId: userOne, receiverId: userTwo } = photo;\r\n\r\n  const photos = useMemo(\r\n    () =>\r\n      messages.filter(\r\n        (message) =>\r\n          isImage(message.fileExtension) &&\r\n          ((message.senderId === userOne && message.receiverId === userTwo) ||\r\n            (message.senderId === userTwo && message.receiverId === userOne))\r\n      ),\r\n    [messages, userOne, userTwo]\r\n  );\r\n\r\n  const targetIndex = useMemo(() => {\r\n    for (let i = 0; i < photos.length; i++) {\r\n      if (photos[i].id === photo.id) return i;\r\n    }\r\n  }, [photos, photo]);\r\n\r\n  return { photos, targetIndex };\r\n};\r\n\r\nexport default usePhotoSelector;\r\n","import styled from 'styled-components';\r\n\r\nexport const PhotoViewerModal = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  z-index: 150;\r\n  display: flex;\r\n  overflow: hidden;\r\n  background: rgb(0 0 0 / 86%);\r\n`;\r\n\r\nexport const ProgressContainer = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  z-index: 4;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background-color: #0000007a;\r\n`;\r\n\r\nexport const ProgressText = styled.p`\r\n  color: #ffffff;\r\n  font-size: 1.2rem;\r\n`;\r\n","import { useCallback, useEffect, useState } from 'react';\r\nimport { useAPI } from '../../../hooks';\r\nimport {\r\n  messageAdded,\r\n  messageDeleted,\r\n  messageUpdated\r\n} from '../slices/messagesSlice';\r\nimport {\r\n  MessageDeletePayload,\r\n  MessageRequest,\r\n  MessageSendRequest,\r\n  MessageUpdatePayload,\r\n  PendingMessage\r\n} from '../types';\r\nimport { useDispatch } from 'react-redux';\r\nimport { Message } from '@/types';\r\n\r\nconst useMessageRequestsProcessor = (\r\n  messageRequests: MessageRequest[],\r\n  deleteMessageRequest: (id: number) => void\r\n): void => {\r\n  const { post, put, del } = useAPI();\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const sendMessage = useCallback(\r\n    async (message: PendingMessage, requestId: number) => {\r\n      const { receiverId, content, isFile, file, caption } = message;\r\n\r\n      const endpoint = isFile ? '/messages/file' : '/messages';\r\n\r\n      let body: FormData | { receiverId: number; content: string };\r\n      if (isFile) {\r\n        body = new FormData();\r\n        body.append('receiverId', `${receiverId}`);\r\n        if (caption) body.append('caption', caption);\r\n        if (file) body.append('messageFile', file);\r\n      } else {\r\n        body = { receiverId, content };\r\n      }\r\n\r\n      await new Promise((resolve) => setTimeout(resolve, 1000));\r\n      const {\r\n        success,\r\n        data,\r\n        message: apiMessage\r\n      } = await post<Message>(endpoint, body);\r\n\r\n      if (success) {\r\n        dispatch(messageAdded(data));\r\n      } else {\r\n        console.error(apiMessage);\r\n      }\r\n      deleteMessageRequest(requestId);\r\n    },\r\n    [post, deleteMessageRequest, dispatch]\r\n  );\r\n\r\n  const updateMessage = useCallback(\r\n    async ({ id, content }: MessageUpdatePayload, requestId: number) => {\r\n      const body = { id, content };\r\n\r\n      await new Promise((resolve) => setTimeout(resolve, 1000));\r\n      const { success, data, message } = await put<Message>('/messages', body);\r\n\r\n      if (success) {\r\n        dispatch(messageUpdated(data));\r\n      } else {\r\n        console.error(message);\r\n      }\r\n      deleteMessageRequest(requestId);\r\n    },\r\n    [put, deleteMessageRequest, dispatch]\r\n  );\r\n\r\n  const deleteMessage = useCallback(\r\n    async (\r\n      { id, deleteForReceiver }: MessageDeletePayload,\r\n      requestId: number\r\n    ) => {\r\n      const query = deleteForReceiver ? '?deleteForReceiver=true' : '';\r\n\r\n      await new Promise((resolve) => setTimeout(resolve, 1000));\r\n      const { success, message } = await del(`/messages/${id}${query}`);\r\n\r\n      if (success) {\r\n        dispatch(messageDeleted(id));\r\n      } else {\r\n        console.error(message);\r\n      }\r\n      deleteMessageRequest(requestId);\r\n    },\r\n    [del, deleteMessageRequest, dispatch]\r\n  );\r\n\r\n  const [isProcessingRequest, setIsProcessingRequest] = useState(false);\r\n\r\n  const processRequest = useCallback(\r\n    async (req: MessageRequest) => {\r\n      if (isProcessingRequest) return;\r\n      setIsProcessingRequest(true);\r\n      switch (req.type) {\r\n        case 'send':\r\n          await sendMessage(req.payload, req.id);\r\n          break;\r\n\r\n        case 'update':\r\n          await updateMessage(req.payload, req.id);\r\n          break;\r\n\r\n        case 'delete':\r\n          await deleteMessage(req.payload, req.id);\r\n          break;\r\n      }\r\n      setIsProcessingRequest(false);\r\n    },\r\n    [deleteMessage, isProcessingRequest, sendMessage, updateMessage]\r\n  );\r\n\r\n  useEffect(() => {\r\n    const [req] = messageRequests;\r\n    if (req && !isProcessingRequest) processRequest(req);\r\n  }, [isProcessingRequest, processRequest, messageRequests]);\r\n};\r\n\r\nexport default useMessageRequestsProcessor;\r\n","import { createContext } from 'react';\r\nimport useMessageRequestSystem from './useMessageRequestSystem';\r\n\r\nconst MRSContext = createContext<ReturnType<\r\n  typeof useMessageRequestSystem\r\n> | null>(null);\r\n\r\nexport default MRSContext;\r\n","import useMessageRequestSystem from './useMessageRequestSystem';\r\n\r\nexport default useMessageRequestSystem;\r\nexport { default as MRSContext } from './MRSContext';\r\n","import { useCallback, useMemo, useRef, useState } from 'react';\r\nimport {\r\n  MessageDeleteRequest,\r\n  MessageRequest,\r\n  MessageSendRequest,\r\n  MessageStatus,\r\n  MessageUpdateRequest,\r\n  PendingMessage\r\n} from '../types';\r\nimport { getFileExtension } from '../utils';\r\nimport useMessageRequestsProcessor from './useMessageRequestsProcessor';\r\nimport { useAppSelector } from '@/hooks';\r\n\r\nconst useMessageRequestSystem = () => {\r\n  const lastRequestId = useRef<number>(1);\r\n  const lastMessageId = useRef<number>(-1);\r\n\r\n  const selfId = useAppSelector((state) => state?.account?.id);\r\n\r\n  const [messageRequests, setMessageRequests] = useState<MessageRequest[]>([]);\r\n\r\n  const addMessageRequest = useCallback((req: MessageRequest) => {\r\n    setMessageRequests((prevRequests) => [...prevRequests, req]);\r\n  }, []);\r\n\r\n  const deleteMessageRequest = useCallback((id: number) => {\r\n    setMessageRequests((prevRequests) =>\r\n      prevRequests.filter((req) => req.id !== id)\r\n    );\r\n  }, []);\r\n\r\n  const sendTextMessage = useCallback(\r\n    (receiverId: number, content: string) => {\r\n      const req: MessageSendRequest = {\r\n        id: lastRequestId.current++,\r\n        type: 'send',\r\n        payload: {\r\n          isPending: true,\r\n          id: lastMessageId.current--,\r\n          senderId: selfId,\r\n          receiverId,\r\n          content\r\n        }\r\n      };\r\n      addMessageRequest(req);\r\n    },\r\n    [addMessageRequest, selfId]\r\n  );\r\n\r\n  const sendFileMessage = useCallback(\r\n    (receiverId: number, file: File, caption?: string) => {\r\n      const req: MessageSendRequest = {\r\n        id: lastRequestId.current++,\r\n        type: 'send',\r\n        payload: {\r\n          isPending: true,\r\n          id: lastMessageId.current--,\r\n          senderId: selfId,\r\n          receiverId,\r\n          isFile: true,\r\n          file: file,\r\n          fileName: file.name,\r\n          fileExtension: getFileExtension(file.name),\r\n          fileSize: file.size,\r\n          caption\r\n        }\r\n      };\r\n      addMessageRequest(req);\r\n    },\r\n    [addMessageRequest, selfId]\r\n  );\r\n\r\n  const updateMessage = useCallback(\r\n    (messageId: number, newContent: string) => {\r\n      const req: MessageUpdateRequest = {\r\n        id: lastRequestId.current++,\r\n        type: 'update',\r\n        payload: { id: messageId, content: newContent }\r\n      };\r\n      addMessageRequest(req);\r\n    },\r\n    [addMessageRequest]\r\n  );\r\n\r\n  const deleteMessage = useCallback(\r\n    (messageId: number, deleteForReceiver?: boolean) => {\r\n      const req: MessageDeleteRequest = {\r\n        id: lastRequestId.current++,\r\n        type: 'delete',\r\n        payload: { id: messageId, deleteForReceiver }\r\n      };\r\n      addMessageRequest(req);\r\n    },\r\n    [addMessageRequest]\r\n  );\r\n\r\n  const getMessageStatus = useCallback(\r\n    (messageId: number): MessageStatus | null => {\r\n      const [req] = messageRequests.filter(\r\n        (req) => req.payload.id === messageId\r\n      );\r\n      if (!req) return null;\r\n      switch (req.type) {\r\n        case 'send':\r\n          return 'sending';\r\n        case 'update':\r\n          return 'updating';\r\n        case 'delete':\r\n          return 'deleting';\r\n      }\r\n    },\r\n    [messageRequests]\r\n  );\r\n\r\n  const getUpdatingMessageNewContent = useCallback(\r\n    (messageId: number): string | null => {\r\n      const [req] = messageRequests.filter(\r\n        (req) => req.payload.id === messageId\r\n      );\r\n      if (!req) return null;\r\n      if (req.type !== 'update') return null;\r\n      return req.payload.content;\r\n    },\r\n    [messageRequests]\r\n  );\r\n\r\n  const pendingMessages: PendingMessage[] = useMemo(\r\n    () =>\r\n      messageRequests\r\n        .filter((req) => req.type === 'send')\r\n        .map((req) => req.payload),\r\n    [messageRequests]\r\n  );\r\n\r\n  useMessageRequestsProcessor(messageRequests, deleteMessageRequest);\r\n\r\n  return {\r\n    pendingMessages,\r\n    sendTextMessage,\r\n    sendFileMessage,\r\n    updateMessage,\r\n    deleteMessage,\r\n    getMessageStatus,\r\n    getUpdatingMessageNewContent\r\n  };\r\n};\r\n\r\nexport default useMessageRequestSystem;\r\n","import { createContext } from 'react';\r\nimport useChat from './hooks/useChat';\r\n\r\nconst ChatContext = createContext<ReturnType<typeof useChat> | null>(null);\r\n\r\nexport default ChatContext;\r\n","import { useContext } from 'react';\r\nimport ChatContext from '../ChatContext';\r\n\r\nconst useChatContext = () => {\r\n  const chatContext = useContext(ChatContext);\r\n\r\n  if (!chatContext) throw new Error('Invalid chat context!');\r\n\r\n  return chatContext;\r\n};\r\n\r\nexport default useChatContext;\r\n","import { useCallback, useContext, useMemo } from 'react';\r\nimport {\r\n  formatDateTime,\r\n  formatTime,\r\n  isAudio,\r\n  isImage,\r\n  isVideo\r\n} from '../utils';\r\nimport { useAppSelector, useDownload } from '@/hooks';\r\nimport type { MessageType, PendingMessage, PersistedMessage } from '../types';\r\nimport { MRSContext } from '../MRS';\r\nimport useChatContext from './useChatContext';\r\n\r\nconst useMessage = (message: PersistedMessage | PendingMessage) => {\r\n  const selfId = useAppSelector((state) => state.account?.id);\r\n\r\n  const isOutgoing = message.senderId === selfId;\r\n\r\n  const conversationPartnerId = isOutgoing\r\n    ? message.receiverId\r\n    : message.senderId;\r\n\r\n  const [time, dateTime] = useMemo(\r\n    () =>\r\n      message.createdAt\r\n        ? [formatTime(message.createdAt), formatDateTime(message.createdAt)]\r\n        : ['', ''],\r\n    [message.createdAt]\r\n  );\r\n\r\n  const MRS = useContext(MRSContext);\r\n  if (!MRS) throw Error('Invalid MRSContext');\r\n  const {\r\n    getMessageStatus,\r\n    getUpdatingMessageNewContent,\r\n    deleteMessage: deleteMessageReal\r\n  } = MRS;\r\n\r\n  const status = useMemo(() => {\r\n    const status = getMessageStatus(message.id);\r\n    switch (status) {\r\n      case 'sending':\r\n        return message.isFile ? 'Uploading...' : 'Sending...';\r\n      case 'updating':\r\n        return 'Updating...';\r\n      case 'deleting':\r\n        return 'Deleting...';\r\n    }\r\n  }, [getMessageStatus, message.id, message.isFile]);\r\n\r\n  const content = useMemo(\r\n    () => getUpdatingMessageNewContent(message.id) || message.content,\r\n    [getUpdatingMessageNewContent, message.content, message.id]\r\n  );\r\n\r\n  const deleteMessage = useCallback(\r\n    (deleteForReceiver = true) => {\r\n      deleteMessageReal(message.id, deleteForReceiver);\r\n    },\r\n    [deleteMessageReal, message.id]\r\n  );\r\n\r\n  const download = useDownload();\r\n\r\n  const downloadFile = useCallback(() => {\r\n    if (!message.isFile) return;\r\n    download(\r\n      `/messages/file-download/${message.id}`,\r\n      `${message.id}`,\r\n      `${message.fileExtension}`\r\n    );\r\n  }, [message, download]);\r\n\r\n  const fileUrl = useMemo(() => `/messages/file/${message.id}`, [message.id]);\r\n\r\n  const { editMessage, replyMessage } = useChatContext();\r\n\r\n  const edit = useCallback(() => {\r\n    if (message.createdAt) editMessage(message);\r\n  }, [editMessage, message]);\r\n\r\n  const reply = useCallback(() => {\r\n    if (message.createdAt) replyMessage(message);\r\n  }, [replyMessage, message]);\r\n\r\n  const type: MessageType = useMemo(() => {\r\n    if (!message.isFile) return 'text';\r\n    if (isImage(message.fileExtension)) return 'photo';\r\n    if (isVideo(message.fileExtension)) return 'video';\r\n    if (isAudio(message.fileExtension)) return 'audio';\r\n    return 'file';\r\n  }, [message.fileExtension, message.isFile]);\r\n\r\n  return {\r\n    ...message,\r\n    type,\r\n    content,\r\n    isOutgoing,\r\n    conversationPartnerId,\r\n    status,\r\n    time,\r\n    dateTime,\r\n    fileUrl,\r\n    deleteMessage,\r\n    downloadFile,\r\n    edit,\r\n    reply\r\n  };\r\n};\r\n\r\nexport default useMessage;\r\n","'use strict';\r\n\r\nimport React from 'react';\r\nimport styled, { css, keyframes } from 'styled-components';\r\n\r\nconst SpinnerPage = styled.div`\r\n  position: fixed;\r\n  z-index: 400;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background: rgba(0, 0, 0, 0.35);\r\n`;\r\n\r\nconst SpinnerContainer = styled.div`\r\n  width: 160px;\r\n  height: 160px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background: #272d43;\r\n  border-radius: 25px;\r\n`;\r\n\r\nconst rotate = keyframes`${css`\r\n  0% {\r\n    transform: rotate(0deg);\r\n  }\r\n\r\n  100% {\r\n    transform: rotate(360deg);\r\n  }\r\n`}\r\n`;\r\n\r\nconst SpinnerCanvas = styled.canvas`\r\n  animation: 1s linear infinite ${rotate};\r\n`;\r\n\r\nexport default function Spinner() {\r\n  const onMount = element => {\r\n    if (element) {\r\n      const ctx = element.getContext('2d');\r\n      ctx.clearRect(0, 0, 120, 120);\r\n      ctx.lineWidth = 4;\r\n      ctx.lineCap = 'round';\r\n      ctx.strokeStyle = '#6c868f';\r\n      ctx.beginPath();\r\n      ctx.arc(60, 60, 35, 0, 1.7 * Math.PI);\r\n      ctx.stroke();\r\n    }\r\n  };    \r\n  return (\r\n    <SpinnerPage>      \r\n      <SpinnerContainer>\r\n        <SpinnerCanvas ref={onMount} width=\"120\" height=\"120\" />\r\n      </SpinnerContainer>\r\n    </SpinnerPage>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport styled, { css, keyframes } from 'styled-components';\r\n\r\nconst rotate = keyframes`${css`\r\n  0% {\r\n    transform: rotate(0deg);\r\n  }\r\n\r\n  100% {\r\n    transform: rotate(360deg);\r\n  }\r\n`}\r\n`;\r\n\r\nconst StyledSpinner = styled.div`\r\n  position: absolute;\r\n  top: calc(50% - 25px);\r\n  left: calc(50% - 25px);\r\n  z-index: 10;\r\n  width: 50px;\r\n  height: 50px;\r\n  background: #000000;\r\n  opacity: 0.7;\r\n  border-radius: 100px;\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 5px;\r\n  animation-name: ${rotate};\r\n  animation-iteration-count: infinite;\r\n  animation-duration: 2s;\r\n  animation-delay: 0s;\r\n  animation-timing-function: linear;\r\n`;\r\n\r\nconst Ball = styled.span`\r\n  display: block;\r\n  width: 5px;\r\n  height: 8px;\r\n  background: white;\r\n  border-radius: 5px;\r\n  opacity: 1;\r\n`;\r\n\r\nconst TinySpinner = () => {\r\n  return (\r\n    <StyledSpinner>\r\n      <Ball />\r\n    </StyledSpinner>\r\n  );\r\n};\r\n\r\nexport default TinySpinner;\r\n","/* eslint-disable styled-components-a11y/alt-text */\r\nimport React, { useEffect, useRef } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nexport const FlexibleImageStyled = styled.img<{ $isBlur?: boolean }>`\r\n  border-radius: inherit;\r\n  margin: auto;\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: contain;\r\n  cursor: pointer;\r\n  filter: ${(props) => (props.$isBlur ? 'blur(15px)' : 'none')};\r\n  &:focus {\r\n    outline-style: none;\r\n    border: none;\r\n  }\r\n`;\r\n\r\nconst FlexibleImage = ({\r\n  isPhotoNavTarget = false,\r\n  isBlur = false,\r\n  ...otherProps\r\n}) => {\r\n  const props = {};\r\n\r\n  if (otherProps.onClick || isPhotoNavTarget) {\r\n    props.role = 'button';\r\n    props.tabIndex = 0;\r\n  }\r\n\r\n  if (isPhotoNavTarget) {\r\n    props['data-is-photo-nav-target'] = 'true';\r\n  }\r\n\r\n  const imgRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (isPhotoNavTarget && imgRef.current) imgRef.current.focus();\r\n  }, [isPhotoNavTarget]);\r\n\r\n  return (\r\n    <FlexibleImageStyled\r\n      ref={imgRef}\r\n      $isBlur={isBlur}\r\n      {...props}\r\n      {...otherProps}\r\n    />\r\n  );\r\n};\r\n\r\nexport default FlexibleImage;\r\n","import React, { useMemo } from 'react';\r\nimport ContextMenu, {\r\n  useContextMenu\r\n} from '../../../../components/ContextMenu';\r\nimport usePhotoSelector from './usePhotoSelector';\r\nimport {\r\n  DeleteIcon,\r\n  DownloadIcon,\r\n  ReplyIcon\r\n} from '../../../../components/icons';\r\nimport {\r\n  BackButton,\r\n  MoreButton,\r\n  NextButton,\r\n  PreviousButton\r\n} from '../../../../components/buttons';\r\nimport {\r\n  PhotoHeaderSection,\r\n  PhotoIndexIndicator,\r\n  PhotoMetaContainer,\r\n  PhotoMetaText\r\n} from '../../../../styles';\r\nimport { PhotoViewerModal, ProgressContainer, ProgressText } from './styles';\r\nimport {\r\n  useImageLoader,\r\n  usePhotoNavigation,\r\n  useAccount,\r\n  useUser\r\n} from '../../../../hooks';\r\nimport useMessage from '../../hooks/useMessage';\r\nimport Spinner from '../../../../Spinner';\r\nimport TinySpinner from '../../../../components/TinySpinner';\r\nimport FlexibleImage from '../../../../components/FlexibleImage';\r\n\r\nconst PhotoViewer = ({ photo, onClose }) => {\r\n  const { isContextMenuVisible, onMoreButtonClick, contextMenuControlProps } =\r\n    useContextMenu();\r\n\r\n  const { photos, targetIndex } = usePhotoSelector(photo);\r\n\r\n  const photosCount = photos.length;\r\n\r\n  const { currentIndex, handleNext, handlePrevious, photoIndexIndicator } =\r\n    usePhotoNavigation(photosCount, targetIndex);\r\n\r\n  const {\r\n    isSentMessage,\r\n    messagePartnerId,\r\n    dateTime,\r\n    fileUrl,\r\n    isDoingRequest,\r\n    deleteMessage,\r\n    downloadFile\r\n  } = useMessage(photos[currentIndex]);\r\n\r\n  const { isImageFetching, isImageLoading, imageSrc, handleImageLoad } =\r\n    useImageLoader(fileUrl);\r\n\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  const reply = () => console.error('Reply not implemented');\r\n\r\n  const options = useMemo(\r\n    () => [\r\n      { icon: <ReplyIcon />, label: 'Reply', action: reply },\r\n      { icon: <DownloadIcon />, label: 'Save', action: downloadFile },\r\n      { icon: <DeleteIcon />, label: 'Delete', action: deleteMessage }\r\n    ],\r\n    [reply, downloadFile, deleteMessage]\r\n  );\r\n\r\n  const { fullName: partnerFullName } = useUser(messagePartnerId);\r\n  const { fullName: selfFullName } = useAccount();\r\n  const senderFullName = isSentMessage ? selfFullName : partnerFullName;\r\n\r\n  return (\r\n    <PhotoViewerModal aria-modal=\"true\" aria-label=\"Photo Viewer\">\r\n      <PhotoHeaderSection>\r\n        <BackButton aria-label=\"Back\" onClick={onClose} />\r\n\r\n        {photosCount > 1 && (\r\n          <PhotoIndexIndicator>{photoIndexIndicator}</PhotoIndexIndicator>\r\n        )}\r\n\r\n        {options.length > 0 && (\r\n          <MoreButton aria-label=\"Options\" onClick={onMoreButtonClick} />\r\n        )}\r\n      </PhotoHeaderSection>\r\n\r\n      {isImageFetching && <TinySpinner />}\r\n\r\n      {imageSrc ? (\r\n        <FlexibleImage\r\n          src={imageSrc}\r\n          onLoad={handleImageLoad}\r\n          alt=\"Photo\"\r\n          isBlur={isImageFetching || isImageLoading}\r\n          isPhotoNavTarget={true}\r\n          onClick={onClose}\r\n        />\r\n      ) : (\r\n        <ProgressContainer>\r\n          <ProgressText>Loading photo...</ProgressText>\r\n        </ProgressContainer>\r\n      )}\r\n\r\n      {photosCount > 1 && (\r\n        <>\r\n          <PreviousButton onClick={handlePrevious} />\r\n          <NextButton onClick={handleNext} />\r\n        </>\r\n      )}\r\n\r\n      {dateTime && (\r\n        <PhotoMetaContainer>\r\n          <PhotoMetaText>{senderFullName}</PhotoMetaText>\r\n          <PhotoMetaText>{dateTime}</PhotoMetaText>\r\n        </PhotoMetaContainer>\r\n      )}\r\n\r\n      {isDoingRequest && <Spinner />}\r\n\r\n      {isContextMenuVisible && (\r\n        <ContextMenu\r\n          menuItems={options}\r\n          controlProps={contextMenuControlProps}\r\n        />\r\n      )}\r\n    </PhotoViewerModal>\r\n  );\r\n};\r\n\r\nexport default PhotoViewer;\r\n","import React, { FC, useState } from 'react';\r\nimport { PhotoMessageStyled, PhotoImg, PhotoMetaContainer } from './styles';\r\nimport PhotoViewer from '../PhotoViewer';\r\nimport { useImageFileLoader, useImageLoader } from '../../../../hooks';\r\nimport MessageMeta from '../MessageMeta';\r\nimport { EnrichedMessage } from '../../types';\r\n\r\ninterface PhotoMessageProps {\r\n  enrichedMessage: EnrichedMessage;\r\n}\r\n\r\nconst PhotoMessage: FC<PhotoMessageProps> = ({ enrichedMessage }) => {\r\n  const { fileUrl, isOutgoing, status, time } = enrichedMessage;\r\n\r\n  const [isPhotoViewerVisible, setIsPhotoViewerVisible] = useState(false);\r\n  const openPhotoViewer = () => setIsPhotoViewerVisible(true);\r\n  const closePhotoViewer = () => setIsPhotoViewerVisible(false);\r\n\r\n  const { imageSrc: imageSrcFromUrl, handleImageLoad: handleImageLoadFromUrl } =\r\n    useImageLoader(fileUrl);\r\n\r\n  const {\r\n    imageSrc: imageSrcFromFile,\r\n    handleImageLoad: handleImageLoadFromFile\r\n  } = useImageFileLoader(enrichedMessage.file);\r\n\r\n  const imageSrc = enrichedMessage.file ? imageSrcFromFile : imageSrcFromUrl;\r\n\r\n  const handleImageLoad = enrichedMessage.file\r\n    ? handleImageLoadFromFile\r\n    : handleImageLoadFromUrl;\r\n\r\n  return (\r\n    <PhotoMessageStyled>\r\n      {imageSrc && (\r\n        <PhotoImg\r\n          src={imageSrc}\r\n          alt=\"Photo\"\r\n          onLoad={handleImageLoad}\r\n          onClick={openPhotoViewer}\r\n        />\r\n      )}\r\n      <PhotoMetaContainer>\r\n        <MessageMeta isOutgoing={isOutgoing} status={status} time={time} />\r\n      </PhotoMetaContainer>\r\n\r\n      {isPhotoViewerVisible && (\r\n        <PhotoViewer photo={enrichedMessage} onClose={closePhotoViewer} />\r\n      )}\r\n    </PhotoMessageStyled>\r\n  );\r\n};\r\n\r\nexport default PhotoMessage;\r\n","import styled from 'styled-components';\r\n\r\nexport const VideoMessageStyled = styled.div`\r\n  position: relative;\r\n  max-width: 13rem;\r\n  border-color: inherit;\r\n`;\r\n\r\nexport const VideoTagStyled = styled.video`\r\n  max-width: 100%;\r\n  border-radius: 14px;\r\n  border: 2px solid;\r\n  border-color: inherit;\r\n`;\r\n\r\nexport const VideoMetaContainer = styled.div`\r\n  position: absolute;\r\n  right: 0.2rem;\r\n  bottom: 0.3rem;\r\n  padding: 0.2rem 0.7rem;\r\n  display: flex;\r\n  background: rgb(0 0 0 / 79%);\r\n  border-radius: 8px;\r\n`;\r\n","import React, { FC } from 'react';\r\nimport {\r\n  VideoMessageStyled,\r\n  VideoMetaContainer,\r\n  VideoTagStyled\r\n} from './styles';\r\nimport MessageMeta from '../MessageMeta';\r\nimport { EnrichedMessage } from '../../types';\r\n\r\ninterface VideoMessageProps {\r\n  enrichedMessage: EnrichedMessage;\r\n}\r\n\r\nconst VideoMessage: FC<VideoMessageProps> = ({ enrichedMessage }) => {\r\n  const { isSentMessage, status, fileUrl, time } = enrichedMessage;\r\n\r\n  return (\r\n    <VideoMessageStyled>\r\n      <VideoTagStyled controls width=\"250\">\r\n        <source src={fileUrl} type=\"video/mp4\" />\r\n        Sorry, your browser doesnot support embedded video\r\n      </VideoTagStyled>\r\n\r\n      <VideoMetaContainer>\r\n        <MessageMeta isOutgoing={isSentMessage} status={status} time={time} />\r\n      </VideoMetaContainer>\r\n    </VideoMessageStyled>\r\n  );\r\n};\r\n\r\nexport default VideoMessage;\r\n","import React, { FC } from 'react';\r\nimport styled from 'styled-components';\r\nimport { PauseIcon, PlayIcon } from '../../../../components/icons';\r\n\r\nconst PlaybackControlButtonStyled = styled.button`\r\n  width: 2.5rem;\r\n  height: 2.5rem;\r\n  padding: 0.65rem;\r\n  align-self: center;\r\n  border-radius: 40px;\r\n  background: #2f43b1;\r\n  color: #d1d1d1;\r\n`;\r\n\r\ninterface PlaybackControlButtonProps {\r\n  isPlaying: boolean;\r\n  onClick: () => void;\r\n}\r\n\r\nconst PlaybackControlButton: FC<PlaybackControlButtonProps> = ({\r\n  isPlaying,\r\n  onClick\r\n}) => (\r\n  <PlaybackControlButtonStyled type=\"button\" onClick={onClick}>\r\n    {isPlaying ? <PauseIcon /> : <PlayIcon />}\r\n  </PlaybackControlButtonStyled>\r\n);\r\n\r\nexport default PlaybackControlButton;\r\n","import React, { FC } from 'react';\r\nimport styled from 'styled-components';\r\nimport { MoreIcon } from '../../../components/icons';\r\n\r\nconst MoreButtonStyled = styled.button`\r\n  align-self: flex-start;\r\n  width: 2rem;\r\n  height: 2rem;\r\n  padding: 0.45rem;\r\n  color: #ffffff;\r\n`;\r\n\r\ninterface SmallMoreButtonProps {\r\n  onClick: (e: React.MouseEvent<HTMLElement>) => void;\r\n}\r\n\r\nconst SmallMoreButton: FC<SmallMoreButtonProps> = ({ onClick }) => (\r\n  <MoreButtonStyled onClick={onClick}>\r\n    <MoreIcon />\r\n  </MoreButtonStyled>\r\n);\r\n\r\nexport default SmallMoreButton;\r\n","import styled from 'styled-components';\r\n\r\nexport const AudioMessageStyled = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nexport const MainSection = styled.div`\r\n  display: flex;\r\n`;\r\n\r\nexport const ControlArea = styled.div`\r\n  margin: 1rem 0rem 0rem 1rem;\r\n  display: flex;\r\n`;\r\n\r\nexport const AudioMetaContainer = styled.div`\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  padding: 0rem 0.4rem 0.4rem 0rem;\r\n`;\r\n\r\nexport const PlaybackTimeSliderContainer = styled.div`\r\n  width: 12rem;\r\n  align-self: center;\r\n  padding: 0 1rem;\r\n`;\r\n\r\nexport const PlaybackTime = styled.span`\r\n  display: block;\r\n  font-size: 0.9rem;\r\n  font-weight: 400;\r\n  color: #d2d8dd;\r\n  background: inherit;\r\n`;\r\n\r\nexport const MoreButtonContainer = styled.div`\r\n  margin-top: 0.3rem;\r\n  display: flex;\r\n`;\r\n","export const formatMediaTime = (seconds) => {\r\n  const hours = Math.floor(seconds / 3600);\r\n\r\n  const minutes = Math.floor((seconds % 3600) / 60);\r\n\r\n  seconds = Math.floor((seconds % 3600) % 60);\r\n  seconds = seconds < 10 ? `0${seconds}` : `${seconds}`;\r\n\r\n  return `${hours ? `${hours}:` : ''}${minutes}:${seconds}`;\r\n};\r\n","import { useCallback, useMemo, useRef, useState } from 'react';\r\nimport { formatMediaTime } from './utils';\r\n\r\nconst useAudioPlaybackController = () => {\r\n  const audioElementRef = useRef<HTMLAudioElement>(null);\r\n  const [isPlaying, setIsPlaying] = useState(false);\r\n  const [duration, setDuration] = useState(0);\r\n  const [currentTime, setCurrentTime] = useState(0);\r\n\r\n  const handleLoadedMetadata = useCallback(() => {\r\n    const audioElement = audioElementRef.current;\r\n    if (audioElement) setDuration(audioElement.duration);\r\n  }, []);\r\n\r\n  const togglePlayback = useCallback(() => {\r\n    const audioElement = audioElementRef.current;\r\n    if (!audioElement) return;\r\n    try {\r\n      if (isPlaying) {\r\n        audioElement.pause();\r\n      } else {\r\n        audioElement.play();\r\n      }\r\n      setIsPlaying(!isPlaying);\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  }, [isPlaying]);\r\n\r\n  const handleTimeUpdate = useCallback(() => {\r\n    const audioElement = audioElementRef.current;\r\n    if (audioElement) setCurrentTime(Math.floor(audioElement.currentTime));\r\n  }, []);\r\n\r\n  const handlePlaybackEnded = useCallback(() => {\r\n    setCurrentTime(0);\r\n    setIsPlaying(false);\r\n  }, []);\r\n\r\n  const setTimePercentage = useCallback((percentage: number) => {\r\n    const audioElement = audioElementRef.current;\r\n    if (!audioElement) return;\r\n    audioElement.currentTime = audioElement.duration * (percentage / 100);\r\n  }, []);\r\n\r\n  const timePercentage = useMemo(\r\n    () => (currentTime / duration) * 100,\r\n    [currentTime, duration]\r\n  );\r\n\r\n  const playbackTime = useMemo(\r\n    () => `${formatMediaTime(currentTime)} / ${formatMediaTime(duration)}`,\r\n    [currentTime, duration]\r\n  );\r\n\r\n  return {\r\n    audioElementRef,\r\n    isPlaying,\r\n    handleLoadedMetadata,\r\n    handleTimeUpdate,\r\n    handlePlaybackEnded,\r\n    timePercentage,\r\n    setTimePercentage,\r\n    togglePlayback,\r\n    playbackTime\r\n  };\r\n};\r\n\r\nexport default useAudioPlaybackController;\r\n","import styled from 'styled-components';\r\n\r\nexport const PlaybackTimeSliderStyled = styled.div`\r\n  position: relative;\r\n  height: 1.2rem;\r\n  display: flex;\r\n  user-select: none;\r\n`;\r\n\r\nexport const SliderTrack = styled.div`\r\n  align-self: center;\r\n  flex-grow: 5;\r\n  display: flex;\r\n  background-color: #4b4876;\r\n  user-select: none;\r\n  border-radius: 100px;\r\n`;\r\n\r\nexport const SliderProgress = styled.div`\r\n  position: relative;\r\n  width: 0%;\r\n  height: 0.3rem;\r\n  align-self: center;\r\n  border-radius: inherit;\r\n  background-color: #2b45d0;\r\n`;\r\n\r\nexport const SliderThumb = styled.div`\r\n  position: absolute;\r\n  top: -0.35rem;\r\n  right: -0.5rem;\r\n  width: 1rem;\r\n  height: 1rem;\r\n  border-radius: 50%;\r\n  user-select: none;\r\n  cursor: pointer;\r\n  background-color: #bfc8cb;\r\n`;\r\n","import React, { FC, useCallback, useEffect, useMemo, useRef } from 'react';\r\nimport {\r\n  PlaybackTimeSliderStyled,\r\n  SliderProgress,\r\n  SliderThumb,\r\n  SliderTrack\r\n} from './styles';\r\n\r\ninterface PlaybackTimeSliderProps {\r\n  timePercentage: number;\r\n  onTimePercentageUpdate: (percentage: number) => void;\r\n}\r\n\r\nconst PlaybackTimeSlider: FC<PlaybackTimeSliderProps> = ({\r\n  timePercentage,\r\n  onTimePercentageUpdate\r\n}) => {\r\n  const isDragging = useRef<boolean>(false);\r\n\r\n  const trackRef = useRef<HTMLDivElement>(null);\r\n\r\n  const startThumbDrag = useCallback(() => {\r\n    isDragging.current = true;\r\n  }, []);\r\n\r\n  const updateTimePercentage = useCallback(\r\n    (clientX: number) => {\r\n      if (!isDragging.current) return;\r\n      if (!trackRef.current) return;\r\n      const trackRect = trackRef.current.getBoundingClientRect();\r\n      if (clientX > trackRect.left && clientX < trackRect.right) {\r\n        const percentage = ((clientX - trackRect.left) / trackRect.width) * 100;\r\n        onTimePercentageUpdate(percentage);\r\n      }\r\n      if (clientX <= trackRect.left) onTimePercentageUpdate(0);\r\n      if (clientX >= trackRect.right) onTimePercentageUpdate(100);\r\n    },\r\n    [onTimePercentageUpdate]\r\n  );\r\n\r\n  const handleSliderClick = useCallback(\r\n    (e) => {\r\n      if (isDragging.current) return;\r\n      if (!trackRef.current) return;\r\n      const trackRect = trackRef.current.getBoundingClientRect();\r\n      const percentage = ((e.clientX - trackRect.left) / trackRect.width) * 100;\r\n      onTimePercentageUpdate(percentage);\r\n    },\r\n    [onTimePercentageUpdate]\r\n  );\r\n\r\n  const endThumbDrag = useCallback(() => {\r\n    isDragging.current = false;\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const handleMouseMove = (e) => updateTimePercentage(e.clientX);\r\n    const handleTouchMove = (e) => updateTimePercentage(e.touches[0].clientX);\r\n\r\n    document.addEventListener('mousemove', handleMouseMove);\r\n    document.addEventListener('touchmove', handleTouchMove);\r\n    document.addEventListener('mouseup', endThumbDrag);\r\n    document.addEventListener('touchend', endThumbDrag);\r\n\r\n    return () => {\r\n      document.removeEventListener('mousemove', handleMouseMove);\r\n      document.removeEventListener('touchmove', handleTouchMove);\r\n      document.removeEventListener('mouseup', endThumbDrag);\r\n      document.removeEventListener('touchend', endThumbDrag);\r\n    };\r\n  }, [endThumbDrag, updateTimePercentage]);\r\n\r\n  const sliderProgressStyle = useMemo(\r\n    () => ({ width: `${timePercentage}%` }),\r\n    [timePercentage]\r\n  );\r\n\r\n  return (\r\n    <PlaybackTimeSliderStyled\r\n      role=\"slider\"\r\n      aria-label=\"Audio playback time slider track\"\r\n      aria-valuenow={timePercentage}\r\n      aria-valuemin={0}\r\n      aria-valuemax={100}\r\n      onWheel={() => undefined}\r\n      draggable=\"false\"\r\n      onClick={handleSliderClick}\r\n    >\r\n      <SliderTrack draggable=\"false\" ref={trackRef}>\r\n        <SliderProgress draggable=\"false\" style={sliderProgressStyle}>\r\n          <SliderThumb\r\n            aria-label=\"Slider thumb\"\r\n            draggable=\"false\"\r\n            onMouseDown={startThumbDrag}\r\n            onTouchStart={startThumbDrag}\r\n          />\r\n        </SliderProgress>\r\n      </SliderTrack>\r\n    </PlaybackTimeSliderStyled>\r\n  );\r\n};\r\n\r\nexport default PlaybackTimeSlider;\r\n","/* eslint-disable jsx-a11y/media-has-caption */\r\nimport React, { FC } from 'react';\r\nimport PlaybackControlButton from './PlaybackControlButton';\r\nimport SmallMoreButton from '../SmallMoreButton';\r\nimport {\r\n  AudioMessageStyled,\r\n  AudioMetaContainer,\r\n  ControlArea,\r\n  MainSection,\r\n  MoreButtonContainer,\r\n  PlaybackTime,\r\n  PlaybackTimeSliderContainer\r\n} from './styles';\r\nimport useAudioPlaybackController from './useAudioPlaybackController';\r\nimport PlaybackTimeSlider from './PlaybackTimeSlider';\r\nimport MessageMeta from '../MessageMeta';\r\nimport { EnrichedMessage } from '../../types';\r\n\r\ninterface AudioMessageProps {\r\n  enrichedMessage: EnrichedMessage;\r\n  onMoreButtonClick: (e: React.MouseEvent<HTMLElement>) => void;\r\n}\r\n\r\nconst AudioMessage: FC<AudioMessageProps> = ({\r\n  enrichedMessage,\r\n  onMoreButtonClick\r\n}) => {\r\n  const { isOutgoing, status, fileUrl, time } = enrichedMessage;\r\n\r\n  const {\r\n    audioElementRef,\r\n    isPlaying,\r\n    handleLoadedMetadata,\r\n    handleTimeUpdate,\r\n    handlePlaybackEnded,\r\n    timePercentage,\r\n    setTimePercentage,\r\n    togglePlayback,\r\n    playbackTime\r\n  } = useAudioPlaybackController();\r\n\r\n  return (\r\n    <AudioMessageStyled>\r\n      <MainSection>\r\n        <audio\r\n          ref={audioElementRef}\r\n          onTimeUpdate={handleTimeUpdate}\r\n          onEnded={handlePlaybackEnded}\r\n          onLoadedMetadata={handleLoadedMetadata}\r\n        >\r\n          <source src={fileUrl} type=\"audio/mp3\" />\r\n        </audio>\r\n\r\n        <ControlArea>\r\n          <PlaybackControlButton\r\n            isPlaying={isPlaying}\r\n            onClick={togglePlayback}\r\n          />\r\n          <PlaybackTimeSliderContainer>\r\n            <PlaybackTimeSlider\r\n              timePercentage={timePercentage}\r\n              onTimePercentageUpdate={setTimePercentage}\r\n            />\r\n            <PlaybackTime>{playbackTime}</PlaybackTime>\r\n          </PlaybackTimeSliderContainer>\r\n        </ControlArea>\r\n\r\n        <MoreButtonContainer>\r\n          <SmallMoreButton onClick={onMoreButtonClick} />\r\n        </MoreButtonContainer>\r\n      </MainSection>\r\n\r\n      <AudioMetaContainer>\r\n        <MessageMeta isOutgoing={isOutgoing} status={status} time={time} />\r\n      </AudioMetaContainer>\r\n    </AudioMessageStyled>\r\n  );\r\n};\r\n\r\nexport default AudioMessage;\r\n","import styled from 'styled-components';\r\n\r\nexport const FileMessageStyled = styled.div`\r\n  position: relative;\r\n  padding: 0.7rem 0.4rem 0.1rem 0.7rem;\r\n`;\r\n\r\nexport const MainContainer = styled.div`\r\n  display: flex;\r\n`;\r\n\r\nexport const FileInfoContainer = styled.div`\r\n  padding: 0 0.7rem;\r\n  align-self: center;\r\n  line-height: 1.2;\r\n`;\r\n\r\nexport const MoreButtonContainer = styled.div`\r\n  display: flex;\r\n`;\r\n\r\nexport const FileExtension = styled.span`\r\n  font-size: 0.8rem;\r\n  font-weight: 400;\r\n  color: #d8d8d8;\r\n  text-transform: uppercase;\r\n`;\r\n\r\nexport const FileName = styled.span`\r\n  display: block;\r\n  font-size: 0.85rem;\r\n  font-weight: 500;\r\n  color: #bdc2c6;\r\n`;\r\n\r\nexport const FileSize = styled.span`\r\n  font-size: 0.85rem;\r\n  font-weight: 400;\r\n  color: #bdc2c6;\r\n  margin-right: 0.6rem;\r\n`;\r\n\r\nexport const FileMetaContainer = styled.div`\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  align-items: center;\r\n  margin-right: 0.4rem;\r\n  margin-bottom: 0.4rem;\r\n`;\r\n","import React, { FC } from 'react';\r\nimport SmallMoreButton from '../SmallMoreButton';\r\nimport {\r\n  FileExtension,\r\n  FileInfoContainer,\r\n  FileMessageStyled,\r\n  FileMetaContainer,\r\n  FileName,\r\n  FileSize,\r\n  MainContainer,\r\n  MoreButtonContainer\r\n} from './styles';\r\nimport { FileIcon } from '../../../../components/icons';\r\nimport MessageMeta from '../MessageMeta';\r\nimport { getSizeInAppropriateUnit } from '../../utils';\r\nimport { EnrichedMessage } from '../../types';\r\n\r\ninterface FileMessageProps {\r\n  enrichedMessage: EnrichedMessage;\r\n  onMoreButtonClick: (e: React.MouseEvent<HTMLElement>) => void;\r\n}\r\n\r\nconst FileMessage: FC<FileMessageProps> = ({\r\n  enrichedMessage,\r\n  onMoreButtonClick\r\n}) => {\r\n  const { isOutgoing, status, time } = enrichedMessage;\r\n\r\n  return (\r\n    <FileMessageStyled>\r\n      <MainContainer>\r\n        <FileIcon />\r\n\r\n        <FileInfoContainer>\r\n          <FileName>{enrichedMessage.fileName}</FileName>\r\n          <FileSize>\r\n            {getSizeInAppropriateUnit(enrichedMessage.fileSize)}\r\n          </FileSize>\r\n          <FileExtension>{enrichedMessage.fileExtension}</FileExtension>\r\n        </FileInfoContainer>\r\n\r\n        <MoreButtonContainer>\r\n          <SmallMoreButton onClick={onMoreButtonClick} />\r\n        </MoreButtonContainer>\r\n      </MainContainer>\r\n\r\n      <FileMetaContainer>\r\n        <MessageMeta isOutgoing={isOutgoing} status={status} time={time} />\r\n      </FileMetaContainer>\r\n    </FileMessageStyled>\r\n  );\r\n};\r\n\r\nexport default FileMessage;\r\n","import { useCallback, useRef, useState } from 'react';\r\nimport { fileListToArray } from '../utils';\r\n\r\nconst useFilesSelector = (onFilesSelect?: (files: File[]) => void) => {\r\n  const [selectedFiles, setSelectedFiles] = useState<File[]>([]);\r\n\r\n  const fileInputRef = useRef<HTMLInputElement>(null);\r\n\r\n  const triggerFileSelection = useCallback(() => {\r\n    if (fileInputRef.current) fileInputRef.current.click();\r\n  }, []);\r\n\r\n  const handleFileChange = useCallback(() => {\r\n    const fileInput = fileInputRef.current;\r\n    if (!fileInput) return;\r\n    const files = fileInput.files;\r\n    if (!files) return;\r\n    const filesArray = fileListToArray(files);\r\n    setSelectedFiles(filesArray);\r\n    if (onFilesSelect) onFilesSelect(filesArray);\r\n    fileInput.value = '';\r\n  }, [onFilesSelect]);\r\n\r\n  return {\r\n    fileInputRef,\r\n    handleFileChange,\r\n    triggerFileSelection,\r\n    selectedFiles\r\n  };\r\n};\r\n\r\nexport default useFilesSelector;\r\n","import React, { FC } from 'react';\r\nimport styled, { css } from 'styled-components';\r\nimport { SendIcon } from '../../../components/icons';\r\nimport { StyleProps } from '@/types';\r\n\r\nconst SendButtonStyled = styled.button<{ $isDisabled?: boolean }>`\r\n  width: 2.6rem;\r\n  height: 2.6rem;\r\n  padding: 0.75rem;\r\n  border-radius: 50%;\r\n  ${(props: StyleProps) =>\r\n    props.$isDisabled\r\n      ? css`\r\n          background: ${props.theme.backgroundColors.veryBright};\r\n          color: ${props.theme.disabledIconButton.color};\r\n          cursor: not-allowed;\r\n        `\r\n      : css`\r\n          background-color: ${props.theme.backgroundColors.button};\r\n          color: ${props.theme.iconButton.color};\r\n          &:hover {\r\n            background: ${props.theme.backgroundColors.buttonHover};\r\n          }\r\n        `}\r\n`;\r\n\r\ninterface SendButtonProps {\r\n  onClick: () => void;\r\n  isDisabled?: boolean;\r\n}\r\n\r\nconst SendButton: FC<SendButtonProps> = ({ onClick, isDisabled = false }) => (\r\n  <SendButtonStyled\r\n    type=\"button\"\r\n    aria-label=\"Send\"\r\n    disabled={isDisabled}\r\n    $isDisabled={isDisabled}\r\n    onClick={onClick}\r\n  >\r\n    <SendIcon />\r\n  </SendButtonStyled>\r\n);\r\n\r\nexport default SendButton;\r\n","'use strict';\r\n\r\nimport React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst FileMessageInputTailStyled = styled.div`\r\n  position: absolute;\r\n  right: -10px;\r\n  bottom: 0;\r\n  width: 10px;\r\n  display: flex;\r\n`;\r\n\r\nconst TailSvg = styled.svg`\r\n  width: 100%;\r\n  height: auto;\r\n  align-self: flex-end;\r\n`;\r\n\r\nconst TailShape = styled.path`\r\n  d: path('M0 0 C0 0 0 14 14 20 L14 24 L0 24 L0 0');\r\n  fill: #1c2030;\r\n  stroke-width: 0px;\r\n`;\r\n\r\nexport default function FileMessageInputTail() {\r\n  return (\r\n    <FileMessageInputTailStyled>\r\n      <TailSvg\r\n        xmlns=\"http://www.w3.org/2000/svg\"\r\n        viewBox=\"0 0 24 24\"\r\n        width=\"24\"\r\n        height=\"24\"\r\n      >\r\n        <TailShape\r\n          d=\"M5 13l4 4L19 7\"\r\n          fill=\"none\"\r\n          stroke=\"green\"\r\n          strokeWidth=\"2\"\r\n        />\r\n      </TailSvg>\r\n    </FileMessageInputTailStyled>\r\n  );\r\n}\r\n","import styled from 'styled-components';\r\n\r\nexport const FileSelectorModal = styled.div`\r\n  position: absolute;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  padding: 0 1rem;\r\n  border-radius: 10px;\r\n  border-bottom-right-radius: 0;\r\n  background: #1c2130;\r\n  cursor: default;\r\n`;\r\n\r\nexport const FilesContainer = styled.div`\r\n  height: 55vh;\r\n  overflow-y: auto;\r\n  padding: 2rem 0;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-radius: 5px;\r\n  background-color: #0b0d14;\r\n  &::-webkit-scrollbar {\r\n    background: inherit;\r\n    width: 5px;\r\n  }\r\n  &::-webkit-scrollbar-thumb {\r\n    background: #3d455c;\r\n    border-radius: 30px;\r\n  }\r\n`;\r\n\r\nexport const ModalHeader = styled.div`\r\n  padding: 0.5rem 0;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n`;\r\n\r\nexport const ModalTitle = styled.h1`\r\n  font-size: 1.5rem;\r\n  color: white;\r\n`;\r\n\r\nexport const ModalFooter = styled.div`\r\n  padding: 0.5rem 0;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n`;\r\n\r\nexport const ActionButtonsContainer = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n`;\r\n\r\nexport const FilesCount = styled.h3`\r\n  font-size: 1.1rem;\r\n  color: #ffffff;\r\n`;\r\n","import styled from 'styled-components';\r\n\r\nexport const ImageFileStyled = styled.div`\r\n  position: relative;\r\n  margin: 0.2rem;\r\n  border: 2px solid #43136d;\r\n  border-radius: 6px;\r\n  min-width: 10rem;\r\n  min-height: 10rem;\r\n`;\r\n\r\nexport const ImageStyled = styled.img`\r\n  max-width: 18rem;\r\n  max-height: 18rem;\r\n  cursor: pointer;\r\n`;\r\n\r\nexport const CaptionInput = styled.input`\r\n  position: absolute;\r\n  bottom: 0px;\r\n  left: 0px;\r\n  right: 0px;\r\n  display: block;\r\n  padding: 0.1rem 0.4rem;\r\n  line-height: 1;\r\n  font-size: 1rem;\r\n  background-color: #16244fb0;\r\n  color: #ffffff;\r\n  &::placeholder {\r\n    color: rgb(198, 208, 216);\r\n  }\r\n`;\r\n\r\nexport const ProgressTextContainer = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  display: flex;\r\n  background-color: #00000080;\r\n`;\r\n\r\nexport const ProgressText = styled.p`\r\n  margin: auto;\r\n  font-size: 1rem;\r\n  color: #e4e4e4;\r\n`;\r\n","import React, { FC } from 'react';\r\nimport styled from 'styled-components';\r\nimport { CloseIcon } from '../../../../components/icons';\r\n\r\nconst RemoveButtonStyled = styled.button`\r\n  position: absolute;\r\n  top: 0.5rem;\r\n  right: 0.5rem;\r\n  width: 2.1rem;\r\n  height: 2.1rem;\r\n  padding: 0.65rem;\r\n  border-radius: 50%;\r\n  transition: background-color 0.3s ease-in-out;\r\n  background: ${(props) => props.theme.iconButton.backgroundColor};\r\n  color: ${(props) => props.theme.iconButton.color};\r\n  &:hover {\r\n    background: ${(props) => props.theme.iconButton.hover.backgroundColor};\r\n  }\r\n`;\r\n\r\ninterface RemoveButtonProps {\r\n  onClick: () => void;\r\n  ariaLabel?: string;\r\n}\r\n\r\nconst RemoveButton: FC<RemoveButtonProps> = ({\r\n  onClick,\r\n  ariaLabel = 'Remove'\r\n}) => (\r\n  <RemoveButtonStyled type=\"button\" aria-label={ariaLabel} onClick={onClick}>\r\n    <CloseIcon />\r\n  </RemoveButtonStyled>\r\n);\r\n\r\nexport default RemoveButton;\r\n","import React, { FC, useCallback } from 'react';\r\nimport {\r\n  CaptionInput,\r\n  ImageFileStyled,\r\n  ImageStyled,\r\n  ProgressText,\r\n  ProgressTextContainer\r\n} from './styles';\r\nimport { Attachment } from '../types';\r\nimport RemoveButton from '../RemoveButton';\r\nimport { useImageFileLoader } from '../../../../../hooks';\r\n\r\ninterface ImageFileProps {\r\n  attachment: Attachment;\r\n  onRemove: (attachmentId: number) => void;\r\n  onCaptionChange: (attachmentId: number, newCaption: string) => void;\r\n}\r\n\r\nconst ImageFile: FC<ImageFileProps> = ({\r\n  attachment,\r\n  onRemove,\r\n  onCaptionChange\r\n}) => {\r\n  const { imageSrc, isImageLoading, handleImageLoad } = useImageFileLoader(\r\n    attachment.file\r\n  );\r\n\r\n  const remove = useCallback(\r\n    () => onRemove(attachment.id),\r\n    [attachment.id, onRemove]\r\n  );\r\n\r\n  const handleCaptionInput = useCallback(\r\n    (e) => onCaptionChange(attachment.id, e.currentTarget.value),\r\n    [attachment.id, onCaptionChange]\r\n  );\r\n\r\n  const caption =\r\n    typeof attachment.caption === 'string' ? attachment.caption : '';\r\n\r\n  return (\r\n    <ImageFileStyled>\r\n      <RemoveButton onClick={remove} />\r\n\r\n      {imageSrc && (\r\n        <>\r\n          <ImageStyled\r\n            src={imageSrc}\r\n            onLoad={handleImageLoad}\r\n            alt=\"Image file\"\r\n          />\r\n        </>\r\n      )}\r\n\r\n      {isImageLoading && (\r\n        <ProgressTextContainer>\r\n          <ProgressText>Loading Image...</ProgressText>\r\n        </ProgressTextContainer>\r\n      )}\r\n\r\n      <CaptionInput\r\n        type=\"text\"\r\n        value={caption}\r\n        onInput={handleCaptionInput}\r\n        placeholder=\"Add a caption...\"\r\n      />\r\n    </ImageFileStyled>\r\n  );\r\n};\r\n\r\nexport default ImageFile;\r\n","import styled from 'styled-components';\r\n\r\nexport const OrdinaryFileStyled = styled.div`\r\n  position: relative;\r\n  width: 12rem;\r\n  height: 12rem;\r\n  border: 2px solid #43136d;\r\n  border-radius: 5px;\r\n  background: inherit;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nexport const IconWrapper = styled.div`\r\n  cursor: pointer;\r\n  width: 3rem;\r\n  height: 3rem;\r\n`;\r\n\r\nexport const FileName = styled.p`\r\n  text-align: center;\r\n  font-size: 1rem;\r\n`;\r\n","import React, { FC, useCallback } from 'react';\r\nimport { FileName, IconWrapper, OrdinaryFileStyled } from './styles';\r\nimport { FileIcon } from '../../../../../components/icons';\r\nimport { Attachment } from '../types';\r\nimport RemoveButton from '../RemoveButton';\r\n\r\ninterface OrdinaryFileProps {\r\n  attachment: Attachment;\r\n  onRemove: (attachmentId: number) => void;\r\n}\r\n\r\nconst OrdinaryFile: FC<OrdinaryFileProps> = ({ attachment, onRemove }) => {\r\n  const remove = useCallback(\r\n    () => onRemove(attachment.id),\r\n    [attachment.id, onRemove]\r\n  );\r\n\r\n  return (\r\n    <OrdinaryFileStyled>\r\n      <RemoveButton onClick={remove} />\r\n\r\n      <IconWrapper>\r\n        <FileIcon />\r\n      </IconWrapper>\r\n\r\n      <FileName>{attachment.displayName}</FileName>\r\n    </OrdinaryFileStyled>\r\n  );\r\n};\r\n\r\nexport default OrdinaryFile;\r\n","import { useCallback, useContext, useMemo, useRef, useState } from 'react';\r\nimport { getFileExtension, isImage, shortenFileName } from '../../utils';\r\nimport { Attachment } from './types';\r\nimport { MRSContext } from '../../MRS';\r\n\r\nconst useFilesSender = (files: File[], chatPartnerId: number, onClose) => {\r\n  const lastIdRef = useRef<number>(1);\r\n\r\n  const createAttachment = useCallback(\r\n    (file: File): Attachment => ({\r\n      id: lastIdRef.current++,\r\n      file,\r\n      isImage: isImage(getFileExtension(file.name)),\r\n      displayName: shortenFileName(file.name, 40)\r\n    }),\r\n    []\r\n  );\r\n\r\n  const [attachments, setAttachments] = useState<Attachment[]>(() =>\r\n    files.map(createAttachment)\r\n  );\r\n\r\n  const addFiles = useCallback(\r\n    (files: File[]) => {\r\n      setAttachments([...attachments, ...files.map(createAttachment)]);\r\n    },\r\n    [attachments, createAttachment]\r\n  );\r\n\r\n  const removeAttachment = useCallback((attachmentId: number) => {\r\n    setAttachments((prevAttachments) =>\r\n      prevAttachments.filter((attachment) => attachment.id !== attachmentId)\r\n    );\r\n  }, []);\r\n\r\n  const updateAttachmentCaption = useCallback(\r\n    (attachmentId: number, newCaption: string) => {\r\n      setAttachments((prevAttachments) =>\r\n        prevAttachments.map((attachment) =>\r\n          attachment.id === attachmentId\r\n            ? { ...attachment, caption: newCaption }\r\n            : attachment\r\n        )\r\n      );\r\n    },\r\n    []\r\n  );\r\n\r\n  const selectionInfo = useMemo(() => {\r\n    if (!attachments.length) return '0 files selected';\r\n    return `${attachments.length} file${attachments.length > 1 ? 's' : ''} selected`;\r\n  }, [attachments.length]);\r\n\r\n  const MRS = useContext(MRSContext);\r\n  if (!MRS) throw Error('Invalid MRSContext');\r\n  const { sendFileMessage } = MRS;\r\n\r\n  const sendAttachments = useCallback(() => {\r\n    attachments.map((attachment) => {\r\n      sendFileMessage(chatPartnerId, attachment.file, attachment.caption);\r\n    });\r\n    onClose();\r\n  }, [attachments, chatPartnerId, onClose, sendFileMessage]);\r\n\r\n  return {\r\n    attachments,\r\n    selectionInfo,\r\n    removeAttachment,\r\n    updateAttachmentCaption,\r\n    addFiles,\r\n    sendAttachments\r\n  };\r\n};\r\n\r\nexport default useFilesSender;\r\n","import React, { FC } from 'react';\r\nimport styled, { css } from 'styled-components';\r\nimport { AddIcon } from '../../../../components/icons';\r\n\r\nconst AddButtonStyled = styled.button<{ $isDisabled?: boolean }>`\r\n  margin-right: 1rem;\r\n  width: 2.7rem;\r\n  height: 2.7rem;\r\n  padding: 0.7rem;\r\n  border-radius: 50%;\r\n  transition: background-color 0.3s ease-in-out;\r\n  ${(props) =>\r\n    props.$isDisabled\r\n      ? css`\r\n          color: ${(props) => props.theme.disabledIconButton.color};\r\n          cursor: not-allowed;\r\n        `\r\n      : css`\r\n          color: #ffffff;\r\n          &:hover {\r\n            background: #28314c;\r\n          }\r\n        `}\r\n`;\r\n\r\ninterface AddButtonProps {\r\n  onClick: () => void;\r\n  isDisabled?: boolean;\r\n  ariaLabel?: string;\r\n}\r\n\r\nconst AddButton: FC<AddButtonProps> = ({\r\n  onClick,\r\n  isDisabled = false,\r\n  ariaLabel = 'Add'\r\n}) => (\r\n  <AddButtonStyled\r\n    type=\"button\"\r\n    disabled={isDisabled}\r\n    $isDisabled={isDisabled}\r\n    aria-label={ariaLabel}\r\n    onClick={onClick}\r\n  >\r\n    <AddIcon />\r\n  </AddButtonStyled>\r\n);\r\n\r\nexport default AddButton;\r\n","import React, { FC, useMemo } from 'react';\r\nimport SendButton from '../SendButton';\r\nimport FileMessageInputTail from './FileMessageInputTail';\r\nimport {\r\n  ActionButtonsContainer,\r\n  FilesContainer,\r\n  FilesCount,\r\n  FileSelectorModal,\r\n  ModalFooter,\r\n  ModalHeader,\r\n  ModalTitle\r\n} from './styles';\r\nimport { CloseButton } from '../../../../components/buttons';\r\nimport ImageFile from './ImageFile';\r\nimport OrdinaryFile from './OrdinaryFile';\r\nimport useFilesSender from './useFilesSender';\r\nimport AddButton from './AddButton';\r\nimport useFilesSelector from '../../hooks/useFilesSelector';\r\n\r\ninterface FileSelectorProps {\r\n  files: File[];\r\n  chatPartnerId: number;\r\n  onClose: () => void;\r\n}\r\n\r\nconst FileSelector: FC<FileSelectorProps> = ({\r\n  files,\r\n  chatPartnerId,\r\n  onClose\r\n}) => {\r\n  const {\r\n    attachments,\r\n    selectionInfo,\r\n    removeAttachment,\r\n    updateAttachmentCaption,\r\n    addFiles,\r\n    sendAttachments\r\n  } = useFilesSender(files, chatPartnerId, onClose);\r\n\r\n  const attachmentComponents = useMemo(\r\n    () =>\r\n      attachments.map((attachment) =>\r\n        attachment.isImage ? (\r\n          <ImageFile\r\n            key={`${attachment.id}`}\r\n            attachment={attachment}\r\n            onRemove={removeAttachment}\r\n            onCaptionChange={updateAttachmentCaption}\r\n          />\r\n        ) : (\r\n          <OrdinaryFile\r\n            key={`${attachment.id}`}\r\n            attachment={attachment}\r\n            onRemove={removeAttachment}\r\n          />\r\n        )\r\n      ),\r\n    [attachments, removeAttachment, updateAttachmentCaption]\r\n  );\r\n\r\n  const { fileInputRef, handleFileChange, triggerFileSelection } =\r\n    useFilesSelector(addFiles);\r\n\r\n  return (\r\n    <FileSelectorModal>\r\n      <ModalHeader>\r\n        <ModalTitle>Select Files</ModalTitle>\r\n        <CloseButton onClick={onClose} />\r\n      </ModalHeader>\r\n\r\n      <FilesContainer>{attachmentComponents}</FilesContainer>\r\n\r\n      <ModalFooter>\r\n        <FilesCount>{selectionInfo}</FilesCount>\r\n\r\n        <ActionButtonsContainer>\r\n          <AddButton onClick={triggerFileSelection} />\r\n          <SendButton\r\n            onClick={sendAttachments}\r\n            isDisabled={!attachments.length}\r\n          />\r\n        </ActionButtonsContainer>\r\n      </ModalFooter>\r\n      <FileMessageInputTail />\r\n\r\n      <input\r\n        type=\"file\"\r\n        multiple\r\n        style={{ display: 'none' }}\r\n        ref={fileInputRef}\r\n        onChange={handleFileChange}\r\n      />\r\n    </FileSelectorModal>\r\n  );\r\n};\r\n\r\nexport default FileSelector;\r\n","import React, { FC } from 'react';\r\nimport styled from 'styled-components';\r\nimport { AttachmentIcon } from '../../../../components/icons';\r\n\r\nconst AttachFileButtonStyled = styled.button`\r\n  margin-right: 0.5rem;\r\n  width: 2.6rem;\r\n  height: 2.6rem;\r\n  padding: 0.55rem;\r\n  border-radius: 50%;\r\n  transition: background-color 0.3s ease-in-out;\r\n  color: #84929f;\r\n  &:hover {\r\n    background: #2e354f;\r\n  }\r\n`;\r\n\r\ninterface AttachFileButtonProps {\r\n  onClick: () => void;\r\n}\r\n\r\nconst AttachFileButton: FC<AttachFileButtonProps> = ({ onClick }) => (\r\n  <AttachFileButtonStyled type=\"button\" onClick={onClick}>\r\n    <AttachmentIcon />\r\n  </AttachFileButtonStyled>\r\n);\r\n\r\nexport default AttachFileButton;\r\n","import { StyleProps } from '@/types';\r\nimport styled from 'styled-components';\r\n\r\nexport const MessageInputStyled = styled.div`\r\n  position: relative;\r\n  flex-grow: 1;\r\n  max-width: 40rem;\r\n  display: flex;\r\n  margin-right: 10px;\r\n  padding: 7px 10px 7px 23px;\r\n  border-radius: 15px;\r\n  cursor: text;\r\n\r\n  background-color: ${(props: StyleProps) =>\r\n    props.theme.backgroundColors.textInput};\r\n`;\r\n\r\nexport const GrowingTextArea = styled.textarea`\r\n  flex-grow: 1;\r\n  align-self: center;\r\n  max-height: 50vh;\r\n  font-size: 1rem;\r\n  font-weight: 400;\r\n  color: ${(props) => props.theme.messageInput.color};\r\n  background: transparent;\r\n  &::placeholder {\r\n    color: ${(props) => props.theme.messageInput.placeholder.color};\r\n  }\r\n  &::-webkit-scrollbar {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nexport const ActionButtonsContainer = styled.div`\r\n  align-self: flex-end;\r\n  display: flex;\r\n`;\r\n","import { FC, useCallback, useEffect, useRef, useState } from 'react';\r\nimport useFilesSelector from '../../hooks/useFilesSelector';\r\nimport FileSelector from '../FileSelector';\r\nimport SendButton from '../SendButton';\r\nimport AttachFileButton from './AttachFileButton';\r\nimport {\r\n  ActionButtonsContainer,\r\n  GrowingTextArea,\r\n  MessageInputStyled\r\n} from './styles';\r\nimport useChatContext from '../../hooks/useChatContext';\r\n\r\nconst MessageInput: FC = () => {\r\n  // Uplifting state variable of this component to useChat made the message input\r\n  // unresponsive. especially for chat that has a lot of messages. since a single\r\n  // character input rerended the whole message components.\r\n  const { chatPartnerId, editingTextRef, onSend } = useChatContext();\r\n\r\n\r\n  const textAreaRef = useRef<HTMLTextAreaElement>(null);\r\n\r\n  useEffect(() => {\r\n    const textArea = textAreaRef.current;\r\n    if (!textArea) return;\r\n    textArea.style.height = 'auto';\r\n    if (textArea.scrollHeight > textArea.clientHeight) {\r\n      textArea.style.height = `${textArea.scrollHeight}px`;\r\n    }\r\n  });\r\n\r\n  const focusTextArea = useCallback((e: React.MouseEvent<HTMLDivElement>) => {\r\n    if (textAreaRef.current && e.target === e.currentTarget) {\r\n      textAreaRef.current.focus();\r\n    }\r\n  }, []);\r\n\r\n  const [value, setValue] = useState<string>('');\r\n\r\n  const handleInput = useCallback(\r\n    (e: React.FormEvent<HTMLTextAreaElement>) =>\r\n      setValue(e.currentTarget.value),\r\n    []\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (editingTextRef.current) {\r\n      const editingText = editingTextRef.current;\r\n      editingTextRef.current = '';\r\n      setValue(editingText);\r\n      textAreaRef.current?.focus();\r\n    }\r\n  });\r\n\r\n  // biome-ignore lint/correctness/useExhaustiveDependencies: <>\r\n  useEffect(() => {\r\n    setValue('');\r\n  }, [chatPartnerId]);\r\n\r\n  const handleSend = useCallback(() => {\r\n    const savedValue = value;\r\n    setValue('');\r\n    onSend(savedValue);\r\n  }, [onSend, value]);\r\n\r\n  const handleKeyDown = useCallback(\r\n    (e: React.KeyboardEvent) => {\r\n      if (e.key === 'Enter') {\r\n        e.preventDefault();\r\n        handleSend();\r\n      }\r\n    },\r\n    [handleSend]\r\n  );\r\n\r\n  const [isFileSelectorVisible, setIsFileSelectorVisible] = useState(false);\r\n  const openFileSelector = () => setIsFileSelectorVisible(true);\r\n  const closeFileSelector = () => setIsFileSelectorVisible(false);\r\n\r\n  const {\r\n    fileInputRef,\r\n    handleFileChange,\r\n    triggerFileSelection,\r\n    selectedFiles\r\n  } = useFilesSelector(openFileSelector);\r\n\r\n  return (\r\n    <MessageInputStyled onClick={focusTextArea}>\r\n      <GrowingTextArea\r\n        rows={1}\r\n        placeholder=\"Message\"\r\n        onKeyDown={handleKeyDown}\r\n        value={value}\r\n        onInput={handleInput}\r\n        ref={textAreaRef}\r\n      />\r\n\r\n      <ActionButtonsContainer>\r\n        <AttachFileButton onClick={triggerFileSelection} />\r\n        <SendButton isDisabled={!value?.trim()} onClick={handleSend} />\r\n      </ActionButtonsContainer>\r\n\r\n      <input\r\n        type=\"file\"\r\n        multiple\r\n        style={{ display: 'none' }}\r\n        ref={fileInputRef}\r\n        onChange={handleFileChange}\r\n      />\r\n\r\n      {isFileSelectorVisible && (\r\n        <FileSelector\r\n          files={selectedFiles}\r\n          chatPartnerId={chatPartnerId}\r\n          onClose={closeFileSelector}\r\n        />\r\n      )}\r\n    </MessageInputStyled>\r\n  );\r\n};\r\n\r\nexport default MessageInput;\r\n","import { useContext, useMemo } from 'react';\r\nimport { useAppSelector } from '../../../hooks';\r\nimport type { PersistedMessage, PendingMessage } from '../types';\r\nimport { MRSContext } from '../MRS';\r\n\r\nconst useMessagesSelector = (\r\n  chatPartnerId: number\r\n): (PersistedMessage | PendingMessage)[] => {\r\n  const messages = useAppSelector((state) => state.messages);\r\n\r\n  const thisChatMessages = useMemo(\r\n    () =>\r\n      messages.filter(\r\n        (message: PersistedMessage) =>\r\n          message.receiverId === chatPartnerId ||\r\n          message.senderId === chatPartnerId\r\n      ),\r\n    [chatPartnerId, messages]\r\n  );\r\n\r\n  const MRS = useContext(MRSContext);\r\n  if (!MRS) throw Error('Invalid MRSContext');\r\n  const { pendingMessages } = MRS;\r\n\r\n  const thisChatPendingMessages = useMemo(\r\n    () =>\r\n      pendingMessages.filter((message) => message.receiverId === chatPartnerId),\r\n    [chatPartnerId, pendingMessages]\r\n  );\r\n\r\n  const selectedMessages = useMemo(\r\n    () => [...thisChatMessages, ...thisChatPendingMessages],\r\n    [thisChatMessages, thisChatPendingMessages]\r\n  );\r\n\r\n  return selectedMessages;\r\n  // return selectedMessages.filter((message) => !message.isFile);\r\n};\r\n\r\nexport default useMessagesSelector;\r\n","import { StyleProps } from '@/types';\r\nimport styled from 'styled-components';\r\n\r\nexport const ConfirmDialogOverlay = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  z-index: 200;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background: rgb(0 0 0 / 37%);\r\n`;\r\n\r\nexport const ConfirmDialogStyled = styled.div`\r\n  padding: 1rem;\r\n  border-radius: 10px;\r\n  background-color: ${(props: StyleProps) =>\r\n    props.theme.backgroundColors?.main};\r\n`;\r\n\r\nexport const DialogTitle = styled.h3`\r\n  margin-bottom: 1.5rem;\r\n  font-size: 1.3rem;\r\n  color: ${(props: StyleProps) => props.theme.textColors?.title};\r\n`;\r\n\r\nexport const DialogMessage = styled.p`\r\n  margin-bottom: 1.5rem;\r\n  font-size: 1rem;\r\n  font-weight: 400;\r\n  color: ${(props: StyleProps) => props.theme.textColors?.normal};\r\n`;\r\n\r\nexport const DialogButtonsContainer = styled.div`\r\n  display: flex;\r\n  justify-content: right;\r\n  align-items: center;\r\n`;\r\n\r\nconst ActionButton = styled.button`\r\n  padding: 0.5rem 1rem;\r\n  border-radius: 6px;\r\n  font-size: 1.16rem;\r\n  line-height: 1;\r\n  font-weight: 500;\r\n  transition: background-color 0.2s ease-in-out;\r\n  color: ${(props: StyleProps) => props.theme.backgroundColors?.buttonHover};\r\n  &:hover {\r\n    background-color: ${(props: StyleProps) =>\r\n      props.theme.backgroundColors?.bright};\r\n  }\r\n`;\r\n\r\nexport const CancelButton = styled(ActionButton)`\r\n  margin-right: 0.5rem;\r\n`;\r\n\r\nexport const ConfirmButton = styled(ActionButton)``;\r\n","import { CheckBoxIcon, CheckBoxTickIcon } from '@/components/icons';\r\nimport { StyleProps } from '@/types';\r\nimport styled, { css } from 'styled-components';\r\n\r\nexport const CheckBoxStyled = styled.div`\r\n  margin-bottom: 1.5rem;\r\n  display: flex;\r\n  align-items: center;\r\n`;\r\n\r\nexport const BoxContainer = styled.div`\r\n  position: relative;\r\n  width: 1.4rem;\r\n  height: 1.4rem;\r\n  margin-right: 0.8rem;\r\n  color: white;\r\n`;\r\n\r\nexport const CheckBoxIconStyled = styled(CheckBoxIcon)<{\r\n  $isChecked: boolean;\r\n}>`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  z-index: 5;\r\n  cursor: pointer;\r\n  stroke-width: 0;\r\n  transition: fill 0.1s ease-in-out;\r\n  ${(props) =>\r\n    props.$isChecked\r\n      ? css`\r\n          fill: blue;\r\n        `\r\n      : css`\r\n          fill: currentColor;\r\n        `}\r\n`;\r\n\r\nexport const CheckBoxTickIconStyled = styled(CheckBoxTickIcon)<{\r\n  $isChecked: boolean;\r\n}>`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  stroke-width: 0;\r\n  fill: blue;\r\n  transition: transform 0.1s ease-in;\r\n  ${(props) =>\r\n    props.$isChecked\r\n      ? css`\r\n          transform: scale(1);\r\n        `\r\n      : css`\r\n          transform: scale(0);\r\n        `}\r\n`;\r\n\r\nexport const CheckBoxLabel = styled.label`\r\n  font-size: 1rem;\r\n  line-height: 1;\r\n  cursor: pointer;\r\n  color: ${(props: StyleProps) => props.theme.textColors?.normal};\r\n`;\r\n","import { FC } from 'react';\r\nimport {\r\n  BoxContainer,\r\n  CheckBoxIconStyled,\r\n  CheckBoxLabel,\r\n  CheckBoxStyled,\r\n  CheckBoxTickIconStyled\r\n} from './styles';\r\n\r\ninterface CheckBoxProps {\r\n  isChecked: boolean;\r\n  label: string;\r\n  onToggle: () => void;\r\n}\r\n\r\nconst CheckBox: FC<CheckBoxProps> = ({ label, isChecked, onToggle }) => {\r\n  return (\r\n    <CheckBoxStyled>\r\n      <BoxContainer>\r\n        <CheckBoxIconStyled\r\n          role=\"checkbox\"\r\n          aria-checked={isChecked}\r\n          $isChecked={isChecked}\r\n          onClick={onToggle}\r\n        />\r\n\r\n        <CheckBoxTickIconStyled $isChecked={isChecked} />\r\n      </BoxContainer>\r\n\r\n      <CheckBoxLabel onClick={onToggle}>{label}</CheckBoxLabel>\r\n    </CheckBoxStyled>\r\n  );\r\n};\r\n\r\nexport default CheckBox;\r\n","import { FC, useState } from 'react';\r\nimport {\r\n  CancelButton,\r\n  ConfirmButton,\r\n  ConfirmDialogOverlay,\r\n  ConfirmDialogStyled,\r\n  DialogButtonsContainer,\r\n  DialogMessage,\r\n  DialogTitle\r\n} from './styles';\r\nimport CheckBox from './Checkbox';\r\n\r\ninterface MessageDeleteConfirmDialogProps {\r\n  isOutgoing: boolean;\r\n  onDelete: (deleteForReceiver: boolean) => void;\r\n  onClose: () => void;\r\n}\r\n\r\nconst MessageDeleteConfirmDialog: FC<MessageDeleteConfirmDialogProps> = ({\r\n  isOutgoing,\r\n  onDelete,\r\n  onClose\r\n}) => {\r\n  const [isCheckBoxChecked, setIsCheckBoxChecked] = useState(false);\r\n  const toggleCheckBox = () => setIsCheckBoxChecked((prevValue) => !prevValue);\r\n\r\n  const handleDelete = () => {\r\n    onClose();\r\n    onDelete(isCheckBoxChecked);\r\n  };\r\n\r\n  return (\r\n    <ConfirmDialogOverlay\r\n      onClick={(e) => e.stopPropagation()}\r\n      onContextMenu={(e) => e.stopPropagation()}\r\n    >\r\n      <ConfirmDialogStyled>\r\n        <DialogTitle>Delete message</DialogTitle>\r\n        <DialogMessage>\r\n          Are you sure you want to delete this message?\r\n        </DialogMessage>\r\n        {isOutgoing && (\r\n          <CheckBox\r\n            label={'Also delete for receiver'}\r\n            isChecked={isCheckBoxChecked}\r\n            onToggle={toggleCheckBox}\r\n          />\r\n        )}\r\n        <DialogButtonsContainer>\r\n          <CancelButton type=\"button\" onClick={onClose}>\r\n            Cancel\r\n          </CancelButton>\r\n          <ConfirmButton type=\"button\" onClick={handleDelete}>\r\n            Yes\r\n          </ConfirmButton>\r\n        </DialogButtonsContainer>\r\n      </ConfirmDialogStyled>\r\n    </ConfirmDialogOverlay>\r\n  );\r\n};\r\n\r\nexport default MessageDeleteConfirmDialog;\r\n","import { StyleProps } from '@/types';\r\nimport styled, { css } from 'styled-components';\r\n\r\nexport const MessageStyled = styled.div<{\r\n  $isLastInGroup: boolean;\r\n  $isOutgoing: boolean;\r\n}>`\r\n  display: flex;\r\n  ${(props) =>\r\n    props.$isOutgoing\r\n      ? css`\r\n          justify-content: right;\r\n          flex-direction: row-reverse;\r\n        `\r\n      : css`\r\n          justify-content: left;\r\n        `}\r\n\r\n  ${(props) =>\r\n    props.$isLastInGroup\r\n      ? css`\r\n          margin-bottom: 0.6rem;\r\n        `\r\n      : css`\r\n          margin-bottom: 0.2rem;\r\n        `}\r\n`;\r\n\r\nexport const MessageContainer = styled.div<{\r\n  $isLastInGroup: boolean;\r\n  $isOutgoing: boolean;\r\n  $isTransparentBackground: boolean;\r\n}>`\r\n  max-width: 65%;\r\n  border-radius: 15px;\r\n  cursor: pointer;\r\n\r\n  color: ${(props: StyleProps) =>\r\n    props.theme.message[`${props.$isOutgoing ? 'sent' : 'received'}`].color};\r\n\r\n  background-color: ${(props: StyleProps) =>\r\n    props.$isTransparentBackground\r\n      ? 'transparent'\r\n      : props.theme.message[`${props.$isOutgoing ? 'sent' : 'received'}`]\r\n          .backgroundColor};\r\n`;\r\n","import ContextMenu, { useContextMenu } from '@/components/ContextMenu';\r\nimport {\r\n  DeleteIcon,\r\n  DownloadIcon,\r\n  EditIcon,\r\n  ReplyIcon\r\n} from '@/components/icons';\r\nimport { FC, useCallback, useMemo, useState } from 'react';\r\nimport {\r\n  AudioMessage,\r\n  FileMessage,\r\n  MessageTail,\r\n  PhotoMessage,\r\n  TextMessage,\r\n  VideoMessage\r\n} from '..';\r\nimport { useMessage } from '../../hooks';\r\nimport { EnrichedMessage, PendingMessage, PersistedMessage } from '../../types';\r\nimport MessageDeleteConfirmDialog from '../MessageDeleteConfirmDialog';\r\nimport { MessageContainer, MessageStyled } from './styles';\r\n\r\ninterface MessageProps {\r\n  message: PersistedMessage | PendingMessage;\r\n  isLastInGroup: boolean;\r\n}\r\n\r\nconst Message: FC<MessageProps> = ({ message, isLastInGroup }) => {\r\n  const enrichedMessage: EnrichedMessage = useMessage(message);\r\n\r\n  const { type, isOutgoing, downloadFile, deleteMessage, edit, reply } =\r\n    enrichedMessage;\r\n\r\n  const [isDeleteConfirmVisible, setDeleteConfirmVisible] = useState(false);\r\n  const openDeleteConfirm = useCallback(\r\n    () => setDeleteConfirmVisible(true),\r\n    []\r\n  );\r\n\r\n  const closeDeleteConfirm = useCallback(\r\n    () => setDeleteConfirmVisible(false),\r\n    []\r\n  );\r\n\r\n  const {\r\n    isContextMenuVisible,\r\n    onContextMenu,\r\n    onMoreButtonClick,\r\n    contextMenuControlProps\r\n  } = useContextMenu();\r\n\r\n  const contextMenuItems = useMemo(() => {\r\n    const items = [{ icon: <ReplyIcon />, label: 'Reply', action: reply }];\r\n    if (type === 'text' && isOutgoing) {\r\n      items.push({ icon: <EditIcon />, label: 'Edit', action: edit });\r\n    }\r\n    if (type !== 'text') {\r\n      items.push({\r\n        icon: <DownloadIcon />,\r\n        label: 'Save',\r\n        action: downloadFile\r\n      });\r\n    }\r\n    items.push({\r\n      icon: <DeleteIcon />,\r\n      label: 'Delete',\r\n      action: openDeleteConfirm\r\n    });\r\n    return items;\r\n  }, [reply, type, isOutgoing, edit, downloadFile, openDeleteConfirm]);\r\n\r\n  const messageComponent = useMemo(() => {\r\n    switch (type) {\r\n      case 'text':\r\n        return <TextMessage enrichedMessage={enrichedMessage} />;\r\n      case 'photo':\r\n        return <PhotoMessage enrichedMessage={enrichedMessage} />;\r\n      case 'video':\r\n        return <VideoMessage enrichedMessage={enrichedMessage} />;\r\n      case 'audio':\r\n        return (\r\n          <AudioMessage\r\n            enrichedMessage={enrichedMessage}\r\n            onMoreButtonClick={onMoreButtonClick}\r\n          />\r\n        );\r\n      case 'file':\r\n        return (\r\n          <FileMessage\r\n            onMoreButtonClick={onMoreButtonClick}\r\n            enrichedMessage={enrichedMessage}\r\n          />\r\n        );\r\n    }\r\n  }, [enrichedMessage, onMoreButtonClick, type]);\r\n\r\n  const shouldRenderTail =\r\n    type !== 'photo' && type !== 'video' && isLastInGroup;\r\n\r\n  const onContextMenuFn =\r\n    type === 'audio' || type === 'file' ? undefined : onContextMenu;\r\n\r\n  return (\r\n    <MessageStyled $isOutgoing={isOutgoing} $isLastInGroup={isLastInGroup}>\r\n      <MessageContainer\r\n        $isTransparentBackground={type === 'photo' || type === 'video'}\r\n        $isLastInGroup={isLastInGroup}\r\n        $isOutgoing={isOutgoing}\r\n        onContextMenu={onContextMenuFn}\r\n      >\r\n        {messageComponent}\r\n\r\n        {isContextMenuVisible && (\r\n          <ContextMenu\r\n            menuItems={contextMenuItems}\r\n            controlProps={contextMenuControlProps}\r\n          />\r\n        )}\r\n      </MessageContainer>\r\n\r\n      {isDeleteConfirmVisible && (\r\n        <MessageDeleteConfirmDialog\r\n          isOutgoing={isOutgoing}\r\n          onClose={closeDeleteConfirm}\r\n          onDelete={deleteMessage}\r\n        />\r\n      )}\r\n    </MessageStyled>\r\n  );\r\n};\r\n\r\nexport default Message;\r\n","import { useCallback, useContext, useRef, useState } from 'react';\r\nimport { PersistedMessage } from '../types';\r\nimport { MRSContext } from '../MRS';\r\nimport { useAppSelector } from '@/hooks';\r\n\r\ntype EditorState =\r\n  | { mode: 'edit'; message: PersistedMessage }\r\n  | { mode: 'reply'; message: PersistedMessage }\r\n  | { mode: 'new' };\r\n\r\nconst useChat = (chatPartnerId: number) => {\r\n  const selfId = useAppSelector((state) => state.account?.id);\r\n\r\n  const editingTextRef = useRef<string>('');\r\n\r\n  const [editorState, setEditorState] = useState<EditorState>({ mode: 'new' });\r\n\r\n  const editMessage = useCallback( \r\n    (message: PersistedMessage) => {\r\n      const canBeEdited =\r\n        message?.id && message.content && message.senderId === selfId;\r\n      if (canBeEdited) {\r\n        editingTextRef.current = message.content;\r\n        setEditorState({ mode: 'edit', message });\r\n      }\r\n    },\r\n    [selfId]\r\n  );\r\n\r\n  const replyMessage = useCallback((message: PersistedMessage) => {\r\n    if (message?.id) setEditorState({ mode: 'reply', message });\r\n  }, []);\r\n\r\n  const MRS = useContext(MRSContext);\r\n  if (!MRS) throw Error('Invalid MRSContext');\r\n  const { updateMessage, sendTextMessage } = MRS;\r\n\r\n  const onSend = useCallback(\r\n    (value: string) => {\r\n      if (editorState.mode === 'edit') {\r\n        updateMessage(editorState.message.id, value.trim());\r\n      } else {\r\n        sendTextMessage(chatPartnerId, value.trim());\r\n      }\r\n      setEditorState({ mode: 'new' });\r\n    },\r\n    [editorState, updateMessage, sendTextMessage, chatPartnerId]\r\n  );\r\n\r\n  return {\r\n    editingTextRef,\r\n    onSend,\r\n    chatPartnerId,\r\n\r\n    replyMessage,\r\n    editMessage\r\n  };\r\n};\r\n\r\nexport default useChat;\r\n","import { type FC, useEffect, useMemo, useRef } from 'react';\r\nimport { useParams } from 'react-router';\r\nimport {\r\n  ChatFooter,\r\n  ChatHeader,\r\n  ChatMessagesList,\r\n  ChatMessagesListContainer,\r\n  ChatStyled,\r\n  Gap\r\n} from './styles';\r\nimport BackLink from '../../components/BackLink';\r\nimport { MoreButton } from '../../components/buttons';\r\nimport { MessageInput, User } from './components';\r\nimport ChatContext from './ChatContext';\r\nimport useMessageInput from './components/MessageInput/useMessageInput';\r\nimport useMessagesSelector from './hooks/useMessagesSelector';\r\nimport type { PendingMessage, PersistedMessage } from './types';\r\nimport Message from './components/Message';\r\nimport { useAppContext, useMessagesFetcher, useUserFetcher } from '../../hooks';\r\nimport useChat from './hooks/useChat';\r\n\r\nconst Chat: FC = () => {\r\n  const params = useParams();\r\n  const chatPartnerId = params?.chatPartnerId\r\n    ? parseInt(params.chatPartnerId, 10)\r\n    : 0;\r\n\r\n  const { isLargeScreen } = useAppContext();\r\n\r\n  const user = useUserFetcher(chatPartnerId);\r\n\r\n  useMessagesFetcher(chatPartnerId);\r\n\r\n  const messages: (PersistedMessage | PendingMessage)[] =\r\n    useMessagesSelector(chatPartnerId);\r\n\r\n  const messagesInComponent = useMemo(\r\n    () =>\r\n      messages.map((message, index) => (\r\n        <Message\r\n          key={`${message.id}`}\r\n          message={message}\r\n          isLastInGroup={\r\n            !messages[index + 1] ||\r\n            messages[index + 1].senderId !== message.senderId\r\n          }\r\n        />\r\n      )),\r\n    [messages]\r\n  );\r\n\r\n  const chatContextLogic = useChat(chatPartnerId);\r\n\r\n  const chatRef = useRef<HTMLDivElement | null>(null);\r\n\r\n  // biome-ignore lint/correctness/useExhaustiveDependencies: <explanation>\r\n  useEffect(() => {\r\n    if (chatRef.current) {\r\n      const messagesContainer: HTMLDivElement = chatRef.current;\r\n      messagesContainer.scrollTop =\r\n        messagesContainer.scrollHeight - messagesContainer.clientHeight;\r\n    }\r\n  }, [messages.length]);\r\n\r\n  return (\r\n    <ChatContext.Provider value={chatContextLogic}>\r\n      <ChatStyled>\r\n        <ChatHeader>\r\n          {!isLargeScreen && <BackLink />}\r\n          <User userId={chatPartnerId} user={user} />\r\n          <MoreButton onClick={() => undefined} />\r\n        </ChatHeader>\r\n\r\n        <ChatMessagesListContainer ref={chatRef}>\r\n          <ChatMessagesList>\r\n            <Gap />\r\n            {messagesInComponent}\r\n            <Gap />\r\n          </ChatMessagesList>\r\n        </ChatMessagesListContainer>\r\n\r\n        <ChatFooter>\r\n          <MessageInput />\r\n        </ChatFooter>\r\n      </ChatStyled>\r\n    </ChatContext.Provider>\r\n  );\r\n};\r\n\r\nexport default Chat;\r\n","import styled, { css } from 'styled-components';\r\nimport { StyleProps } from '@/types';\r\n\r\nexport const SideBarOverlay = styled.div<{\r\n  $isVisible: boolean;\r\n}>`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  ${(props) =>\r\n    props.$isVisible &&\r\n    css`\r\n      right: 0;\r\n    `}\r\n  bottom: 0;\r\n  z-index: 150;\r\n  background-color: #00000047;\r\n`;\r\n\r\nexport const SideBarStyled = styled.div<{\r\n  $isVisible: boolean;\r\n  $isLargeScreen: boolean;\r\n}>`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  bottom: 0;\r\n  width: 12rem;\r\n  transition: transform 0.2s ease-in-out;\r\n\r\n  background-color: ${(props: StyleProps) =>\r\n    props.theme.backgroundColors?.main};\r\n\r\n  ${(props) =>\r\n    props.$isVisible\r\n      ? css`\r\n          transform: translateX(0rem);\r\n          box-shadow: 22px 17px 20px #1a1e2c;\r\n        `\r\n      : css`\r\n          transform: translateX(-13rem);\r\n        `}\r\n\r\n  ${(props) =>\r\n    !props.$isVisible &&\r\n    props.$isLargeScreen &&\r\n    css`\r\n      display: flex;\r\n      flex-direction: column;\r\n      align-items: flex-end;\r\n      transform: translateX(-8.5rem);\r\n    `}\r\n`;\r\n\r\nexport const ProfileStyled = styled.div<{ $isVisible: boolean }>`\r\n  padding: 3rem 0 0.5rem 1rem;\r\n  overflow: hidden;\r\n  background-color: ${(props: StyleProps) =>\r\n    props.theme.backgroundColors?.bright};\r\n  ${(props) =>\r\n    props.$isVisible\r\n      ? css`\r\n          visibility: visible;\r\n        `\r\n      : css`\r\n          visibility: hidden;\r\n        `}\r\n`;\r\n\r\nexport const ProfilePhotoContainer = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 5rem;\r\n  height: 5rem;\r\n  overflow: hidden;\r\n  border-radius: 50%;\r\n`;\r\n\r\nexport const ProfilePhotoStyled = styled.img`\r\n  width: 100%;\r\n`;\r\n\r\nexport const SidebarToggleButton = styled.button`\r\n  position: absolute;\r\n  top: 0.5rem;\r\n  right: 0.8rem;\r\n  width: 2rem;\r\n  height: 2rem;\r\n  padding: 0.5rem;\r\n  color: white;\r\n`;\r\n\r\nexport const NameStyled = styled.h2`\r\n  width: 100%;\r\n  margin-left: 0.9rem;\r\n  margin-top: 0.7rem;\r\n  color: #fff;\r\n`;\r\n\r\nexport const MenuItemsContainer = styled.div<{\r\n  $isVisible: boolean;\r\n  $isLargeScreen: boolean;\r\n}>`\r\n  padding: 0.5rem 0 0.5rem 0rem;\r\n  border-bottom: 1px solid #272d3f;\r\n  border-color: ${(props: StyleProps) => props.theme.backgroundColors?.bright};\r\n\r\n  ${(props) =>\r\n    !props.$isVisible &&\r\n    props.$isLargeScreen &&\r\n    css`\r\n      width: calc(12rem - 8.5rem);\r\n      display: flex;\r\n      flex-direction: column;\r\n      align-items: center;\r\n    `}\r\n`;\r\n\r\nexport const MenuItemButton = styled.button`\r\n  width: 100%;\r\n  padding: 1rem;\r\n  display: flex;\r\n  align-items: center;\r\n  border-radius: 6px;\r\n\r\n  &:hover {\r\n    background-color: ${(props: StyleProps) =>\r\n      props.theme.backgroundColors?.hover};\r\n  }\r\n`;\r\n\r\nexport const ImageIcon = styled.img`\r\n  display: block;\r\n  width: 20px;\r\n  height: 20px;\r\n  opacity: 0.6;\r\n`;\r\n\r\nexport const IconContainer = styled.div`\r\n  width: 1.2rem;\r\n  height: 1.2rem;\r\n  color: #fff;\r\n`;\r\n\r\nexport const MenuItemLabel = styled.p`\r\n  margin-left: 0.7rem;\r\n  flex-grow: 1;\r\n  min-width: 5rem;\r\n  overflow: hidden;\r\n  text-align: left;\r\n  color: #fff;\r\n  font-size: 1rem;\r\n`;\r\n","import styled, { css } from 'styled-components';\r\n\r\nexport const ProfilePhotoSettingsStyled = styled.div<{\r\n  $isFullScreenMode: boolean;\r\n  $windowWidth: number;\r\n}>`\r\n  ${(props) =>\r\n    props.$isFullScreenMode &&\r\n    css`\r\n      position: fixed;\r\n      top: 0;\r\n      left: 0;\r\n      right: 0;\r\n      bottom: 0;\r\n      z-index: 350;\r\n      display: flex;\r\n      overflow: hidden;\r\n      background: rgb(0 0 0 / 86%);\r\n    `}\r\n\r\n  ${(props) =>\r\n    !props.$isFullScreenMode\r\n      ? props.$windowWidth < 500\r\n        ? css`\r\n            position: relative;\r\n            width: 100vw;\r\n            height: 100vw;\r\n            border-radius: 10px;\r\n          `\r\n        : css`\r\n            position: relative;\r\n            width: 27rem;\r\n            height: 27rem;\r\n            border-radius: 10px;\r\n          `\r\n      : ''}\r\n`;\r\n\r\nexport const Name = styled.h3`\r\n  position: absolute;\r\n  left: 0.8rem;\r\n  bottom: 0.8rem;\r\n  font-size: 1.8rem;\r\n  font-weight: 400;\r\n  color: #ffffff;\r\n`;\r\n","import styled from 'styled-components';\r\nimport { CenteredModal } from '../../../../styles';\r\n\r\nexport const PhotoUploaderModal = styled(CenteredModal)``;\r\n\r\nexport const ModalHeader = styled.div`\r\n  margin-bottom: 1rem;\r\n  display: flex;\r\n  justify-content: space-between;\r\n`;\r\n\r\nexport const CroppingViewport = styled.div`\r\n  position: relative;\r\n  margin: 1rem;\r\n  width: calc(100vw - 6rem);\r\n  max-width: 400px;\r\n  height: calc(100vw - 6rem);\r\n  max-height: 400px;\r\n  overflow: hidden;\r\n  border-radius: 5px;\r\n  border: 1px solid;\r\n  background-color: inherit;\r\n  border-color: inherit;\r\n`;\r\n\r\nexport const CropOverlayMask = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  z-index: 10;\r\n  border: 10px solid;\r\n  border-radius: 50%;\r\n  outline-style: solid;\r\n  outline-width: 10000px;\r\n  outline-color: ${(props) => props.theme.cropOverlayMask.outlineColor};\r\n  border-color: ${(props) => props.theme.cropOverlayMask.outlineColor};\r\n  background-color: transparent;\r\n  user-select: none;\r\n  cursor: move;\r\n`;\r\n\r\nexport const PositionableImage = styled.img`\r\n  position: absolute;\r\n  width: 100%;\r\n  user-select: none;\r\n  pointer-events: none;\r\n`;\r\n\r\nexport const LoadingTextContainer = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  z-index: 5;\r\n  display: flex;\r\n  background-color: inherit;\r\n`;\r\n\r\nexport const LoadingText = styled.p`\r\n  margin: auto;\r\n`;\r\n\r\nexport const ModalFooter = styled.div`\r\n  padding: 0 2rem;\r\n  display: flex;\r\n`;\r\n","import { useState, useCallback, useMemo } from 'react';\r\n\r\nconst useZoomController = () => {\r\n  const [zoomPercentage, setZoomPercentage] = useState(0);\r\n\r\n  const adjustZoomOnWheelEvent = useCallback(\r\n    (e) => {\r\n      const direction = e.deltaY < 0 ? 1 : -1;\r\n      const step = 5 * direction;\r\n      const newZoomPercentage = Math.max(\r\n        0,\r\n        Math.min(100, zoomPercentage + step)\r\n      );\r\n      setZoomPercentage(newZoomPercentage);\r\n    },\r\n    [zoomPercentage]\r\n  );\r\n\r\n  const imageWidth = useMemo(() => {\r\n    return 100 + zoomPercentage * 2;\r\n  }, [zoomPercentage]);\r\n\r\n  return {\r\n    imageWidth,\r\n    zoomPercentage,\r\n    updateZoomPercentage: setZoomPercentage,\r\n    adjustZoomOnWheelEvent\r\n  };\r\n};\r\n\r\nexport default useZoomController;\r\n","import { useCallback, useEffect, useMemo, useRef, useState } from 'react';\r\nimport useZoomController from './useZoomController';\r\n\r\nconst useImageCropper = () => {\r\n  const {\r\n    imageWidth,\r\n    zoomPercentage,\r\n    updateZoomPercentage,\r\n    adjustZoomOnWheelEvent\r\n  } = useZoomController();\r\n\r\n  const croppingViewportRef = useRef<HTMLDivElement | null>(null);\r\n\r\n  const imageRef = useRef<HTMLImageElement | null>(null);\r\n\r\n  const [imagePosition, setImagePosition] = useState({ x: 0, y: 0 });\r\n\r\n  const [isImageLoaded, setIsImageLoaded] = useState(false);\r\n\r\n  const isDragging = useRef(false);\r\n\r\n  const dragStartPositionsRef = useRef({\r\n    imagePosition: { x: 0, y: 0 },\r\n    pointerPosition: { x: 0, y: 0 }\r\n  });\r\n\r\n  const startImageDrag = useCallback(\r\n    (clientX, clientY) => {\r\n      dragStartPositionsRef.current = {\r\n        imagePosition: { x: imagePosition.x, y: imagePosition.y },\r\n        pointerPosition: { x: clientX, y: clientY }\r\n      };\r\n      isDragging.current = true;\r\n    },\r\n    [imagePosition]\r\n  );\r\n\r\n  const updateImagePosition = useCallback((clientX, clientY) => {\r\n    if (!isDragging.current) return;\r\n    const { imagePosition: imgPosition, pointerPosition } =\r\n      dragStartPositionsRef.current;\r\n    const xDistance = clientX - pointerPosition.x;\r\n    const yDistance = clientY - pointerPosition.y;\r\n    setImagePosition({\r\n      x: imgPosition.x + xDistance,\r\n      y: imgPosition.y + yDistance\r\n    });\r\n  }, []);\r\n\r\n  const recenterImage = useCallback(() => {\r\n    if (!croppingViewportRef.current || !imageRef.current) return;\r\n    const viewportRect = croppingViewportRef.current.getBoundingClientRect();\r\n    const imageRect = imageRef.current.getBoundingClientRect();\r\n    const newX = (viewportRect.width - imageRect.width) / 2;\r\n    const newY = (viewportRect.height - imageRect.height) / 2;\r\n    setImagePosition({ x: Math.round(newX), y: Math.round(newY) });\r\n  }, []);\r\n\r\n  const handleImageLoad = useCallback(\r\n    (e) => {\r\n      setIsImageLoaded(true);\r\n      URL.revokeObjectURL(e.target.src);\r\n      recenterImage();\r\n    },\r\n    [recenterImage]\r\n  );\r\n\r\n  const snapImageToCenterIfOutOfBounds = useCallback(() => {\r\n    if (!croppingViewportRef.current || !imageRef.current) return;\r\n    const viewportRect = croppingViewportRef.current.getBoundingClientRect();\r\n    const imageRect = imageRef.current.getBoundingClientRect();\r\n    const threshold = 0.25;\r\n    const isOutOfBounds =\r\n      imageRect.left + imageRect.width * threshold >= viewportRect.right ||\r\n      imageRect.right - imageRect.width * threshold <= viewportRect.left ||\r\n      imageRect.top + imageRect.height * threshold >= viewportRect.bottom ||\r\n      imageRect.bottom - imageRect.height * threshold <= viewportRect.top;\r\n    if (isOutOfBounds) recenterImage();\r\n  }, [recenterImage]);\r\n\r\n  const cropImage = useCallback(\r\n    () =>\r\n      new Promise((resolve, reject) => {\r\n        if (!imageRef.current || !croppingViewportRef.current) {\r\n          reject('Failed to get DOM elements while cropping image.');\r\n          return;\r\n        }\r\n        const viewportRect =\r\n          croppingViewportRef.current.getBoundingClientRect();\r\n        const image = imageRef.current;\r\n        const imageRect = image.getBoundingClientRect();\r\n\r\n        const pixelRatioX = image.naturalWidth / imageRect.width;\r\n        const pixelRatioY = image.naturalHeight / imageRect.height;\r\n\r\n        const sourceX = -1 * imagePosition.x * pixelRatioX;\r\n        const sourceY = -1 * imagePosition.y * pixelRatioY;\r\n\r\n        const sourceWidth = viewportRect.width * pixelRatioX;\r\n        const sourceHeight = viewportRect.height * pixelRatioY;\r\n\r\n        const destWidth = viewportRect.width;\r\n        const destHeight = viewportRect.height;\r\n\r\n        const canvas = document.createElement('canvas');\r\n        canvas.width = viewportRect.width;\r\n        canvas.height = viewportRect.height;\r\n        const ctx = canvas.getContext('2d');\r\n        if (ctx) {\r\n          ctx.drawImage(\r\n            image,\r\n            sourceX,\r\n            sourceY,\r\n            sourceWidth,\r\n            sourceHeight,\r\n            0,\r\n            0,\r\n            destWidth,\r\n            destHeight\r\n          );\r\n        }\r\n\r\n        canvas.toBlob((blob) => resolve(blob), 'image/png');\r\n      }),\r\n    [imagePosition]\r\n  );\r\n\r\n  const handlePointerUp = useCallback(() => {\r\n    isDragging.current = false;\r\n    snapImageToCenterIfOutOfBounds();\r\n  }, [snapImageToCenterIfOutOfBounds]);\r\n\r\n  useEffect(() => {\r\n    const handleMouseMove = (e) => updateImagePosition(e.clientX, e.clientY);\r\n    const handleTouchMove = (e) =>\r\n      updateImagePosition(e.touches[0].clientX, e.touches[0].clientY);\r\n\r\n    document.addEventListener('mousemove', handleMouseMove);\r\n    document.addEventListener('touchmove', handleTouchMove);\r\n    document.addEventListener('mouseup', handlePointerUp);\r\n    document.addEventListener('touchend', handlePointerUp);\r\n\r\n    return () => {\r\n      document.removeEventListener('mousemove', handleMouseMove);\r\n      document.removeEventListener('touchmove', handleTouchMove);\r\n      document.removeEventListener('mouseup', handlePointerUp);\r\n      document.removeEventListener('touchend', handlePointerUp);\r\n    };\r\n  }, [updateImagePosition, handlePointerUp]);\r\n\r\n  const handleMouseDown = useCallback(\r\n    (e) => startImageDrag(e.clientX, e.clientY),\r\n    [startImageDrag]\r\n  );\r\n\r\n  const handleTouchStart = useCallback(\r\n    (e) => startImageDrag(e.touches[0].clientX, e.touches[0].clientY),\r\n    [startImageDrag]\r\n  );\r\n\r\n  const imageStyle = useMemo(\r\n    () => ({\r\n      transform: `translate(${imagePosition.x}px, ${imagePosition.y}px)`,\r\n      width: `${imageWidth}%`,\r\n      transition: !isDragging.current ? 'transform 0.7s ease-in-out' : 'none'\r\n    }),\r\n    [imagePosition, imageWidth]\r\n  );\r\n\r\n  return {\r\n    croppingViewportRef,\r\n    positionableImageRef: imageRef,\r\n    positionableImageStyle: imageStyle,\r\n    handlePositionableImageLoad: handleImageLoad,\r\n    isPositionableImageLoaded: isImageLoaded,\r\n    handleMouseDownOnMask: handleMouseDown,\r\n    handleTouchStartOnMask: handleTouchStart,\r\n    adjustZoomOnWheelEvent,\r\n    zoomPercentage,\r\n    updateZoomPercentage,\r\n    cropImage\r\n  };\r\n};\r\n\r\nexport default useImageCropper;\r\n","import styled from 'styled-components';\r\nimport { StyleProps } from '../../../../../types';\r\n\r\nexport const ZoomSliderTrack = styled.div`\r\n  position: relative;\r\n  align-self: center;\r\n  margin-right: 1rem;\r\n  flex-grow: 5;\r\n  height: 1.2rem;\r\n  display: flex;\r\n  user-select: none;\r\n`;\r\n\r\nexport const SliderProgress = styled.div`\r\n  align-self: center;\r\n  flex-grow: 5;\r\n  height: 3px;\r\n  user-select: none;\r\n  border-radius: 80px;\r\n\r\n  background-color: ${(props: StyleProps) =>\r\n    props.theme.backgroundColors?.button};\r\n`;\r\n\r\nexport const SliderThumb = styled.div`\r\n  position: absolute;\r\n  width: 1.2rem;\r\n  height: 1.2rem;\r\n  border-radius: 50%;\r\n  user-select: none;\r\n  cursor: pointer;\r\n  background-color: ${(props: StyleProps) =>\r\n    props.theme.backgroundColors?.buttonHover};\r\n`;\r\n","import React, { FC, useCallback, useEffect, useRef, useState } from 'react';\r\nimport { SliderProgress, SliderThumb, ZoomSliderTrack } from './styles';\r\n\r\ninterface ZoomSliderProps {\r\n  zoomPercentage: number;\r\n  onZoomPercentageUpdate: (percentage: number) => void;\r\n  onWheel: (e: unknown) => void;\r\n}\r\n\r\nconst ZoomSlider: FC<ZoomSliderProps> = ({\r\n  zoomPercentage,\r\n  onZoomPercentageUpdate,\r\n  onWheel\r\n}) => {\r\n  const [thumbX, setThumbX] = useState<number>(0);\r\n\r\n  const isDragging = useRef<boolean>(false);\r\n\r\n  const trackRef = useRef<HTMLDivElement | null>(null);\r\n\r\n  const thumbRef = useRef<HTMLDivElement | null>(null);\r\n\r\n  const startThumbDrag = () => {\r\n    isDragging.current = true;\r\n  };\r\n\r\n  const updateZoomPercentage = useCallback(\r\n    (clientX: number) => {\r\n      if (!isDragging.current) return;\r\n      if (!trackRef.current) return;\r\n      const trackRect = trackRef.current.getBoundingClientRect();\r\n      if (clientX > trackRect.left && clientX < trackRect.right) {\r\n        const percentage = ((clientX - trackRect.left) / trackRect.width) * 100;\r\n        onZoomPercentageUpdate(percentage);\r\n      }\r\n      if (clientX <= trackRect.left) onZoomPercentageUpdate(0);\r\n      if (clientX >= trackRect.right) onZoomPercentageUpdate(100);\r\n    },\r\n    [onZoomPercentageUpdate]\r\n  );\r\n\r\n  const handleTrackClick = (e: React.MouseEvent) => {\r\n    if (isDragging.current) return;\r\n    if (!trackRef.current) return;\r\n    const trackRect = trackRef.current.getBoundingClientRect();\r\n    const percentage = ((e.clientX - trackRect.left) / trackRect.width) * 100;\r\n    onZoomPercentageUpdate(percentage);\r\n  };\r\n\r\n  const endThumbDrag = useCallback(() => {\r\n    isDragging.current = false;\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const handleMouseMove = (e) => updateZoomPercentage(e.clientX);\r\n    const handleTouchMove = (e) => updateZoomPercentage(e.touches[0].clientX);\r\n\r\n    document.addEventListener('mousemove', handleMouseMove);\r\n    document.addEventListener('touchmove', handleTouchMove);\r\n    document.addEventListener('mouseup', endThumbDrag);\r\n    document.addEventListener('touchend', endThumbDrag);\r\n\r\n    return () => {\r\n      document.removeEventListener('mousemove', handleMouseMove);\r\n      document.removeEventListener('touchmove', handleTouchMove);\r\n      document.removeEventListener('mouseup', endThumbDrag);\r\n      document.removeEventListener('touchend', endThumbDrag);\r\n    };\r\n  }, [updateZoomPercentage, endThumbDrag]);\r\n\r\n  useEffect(() => {\r\n    if (!trackRef.current || !thumbRef.current) return;\r\n    const trackWidth = trackRef.current.getBoundingClientRect().width;\r\n    const thumbWidth = thumbRef.current.getBoundingClientRect().width;\r\n    const newThumbX = (zoomPercentage / 100) * trackWidth - thumbWidth / 2;\r\n    setThumbX(Math.round(newThumbX));\r\n  }, [zoomPercentage]);\r\n\r\n  return (\r\n    <ZoomSliderTrack\r\n      role=\"slider\"\r\n      aria-label=\"Zoom level slider track\"\r\n      aria-valuenow={zoomPercentage}\r\n      aria-valuemin={0}\r\n      aria-valuemax={100}\r\n      onWheel={onWheel}\r\n      draggable=\"false\"\r\n      ref={trackRef}\r\n      onClick={handleTrackClick}\r\n    >\r\n      <SliderProgress draggable=\"false\" />\r\n      <SliderThumb\r\n        aria-label=\"Slider thumb\"\r\n        draggable=\"false\"\r\n        ref={thumbRef}\r\n        onMouseDown={startThumbDrag}\r\n        onTouchStart={startThumbDrag}\r\n        style={{\r\n          transform: `translateX(${thumbX}px)`\r\n        }}\r\n      />\r\n    </ZoomSliderTrack>\r\n  );\r\n};\r\n\r\nexport default ZoomSlider;\r\n","const IMAGE_EXTENSIONS = [\r\n  'jpg',\r\n  'jpeg',\r\n  'png',\r\n  'gif',\r\n  'bmp',\r\n  'tiff',\r\n  'tif',\r\n  'webp',\r\n  'svg',\r\n  'ico',\r\n  'heif',\r\n  'heic',\r\n  'apng',\r\n  'avif',\r\n  'jp2',\r\n  'j2k',\r\n  'hdr'\r\n];\r\n\r\nexport const getFileExtension = (file) => {\r\n  const { name } = file;\r\n  if (typeof name !== 'string') return null;\r\n  const nameParts = name.split('.');\r\n  return nameParts[nameParts.length - 1];\r\n};\r\n\r\nexport const isImageFile = (file) => {\r\n  const extension = getFileExtension(file);\r\n  if (typeof extension !== 'string') return false;\r\n  return IMAGE_EXTENSIONS.includes(extension.toLowerCase());\r\n};\r\n\r\n/**\r\n * Returns size in appropriate unit(bytes, kilobytes, megabytes and\r\n * gigabytes) of the provided size.\r\n *\r\n * @param size The size.\r\n * @return size in appropriate unit.\r\n */\r\nexport const getSizeInAppropriateUnit = (size) => {\r\n  const KB = 1024;\r\n  const MB = KB * 1024;\r\n  const GB = MB * 1024;\r\n  if (size >= GB) return `${Math.round(size / GB)} GB`;\r\n  if (size >= MB) return `${Math.round(size / MB)} MB`;\r\n  if (size >= KB) return `${Math.round(size / KB)} KB`;\r\n  return `${size} B`;\r\n};\r\n","import { useCallback, useEffect, useRef, useState } from 'react';\r\nimport { profilePhotoAdded } from '../../slices/profilePhotosSlice';\r\nimport { getSizeInAppropriateUnit, isImageFile } from './utils';\r\nimport { useAPI, useAppDispatch } from '../../../../hooks';\r\nimport { ProfilePhoto } from '../../../../types';\r\n\r\nconst MIN_IMAGE_FILE_SIZE = 1 * 1024;\r\nconst MAX_IMAGE_FILE_SIZE = 5 * 1024 * 1024;\r\n\r\nconst IMAGE_ERRORS = {\r\n  INVALID_FILE: 'Invalid file',\r\n  INVALID_FILE_TYPE: 'Invalid file type! Only image is allowed',\r\n  SIZE_TOO_SMALL: `Image size too small. \r\n                      Minimum size is ${getSizeInAppropriateUnit(MIN_IMAGE_FILE_SIZE)}.`,\r\n  SIZE_TOO_BIG: `Image size too big.\r\n                    Maximum size is ${getSizeInAppropriateUnit(MAX_IMAGE_FILE_SIZE)}.`\r\n};\r\n\r\nconst UPLOAD_ERRORS = {\r\n  CROPPING_FAILED: 'Image cropping failed. Please try again.',\r\n  NETWORK_ERROR: 'Network error. Please try again.', // Not used\r\n  UNKNOWN_ERROR: 'Photo upload failed for unknown reason. Please try again.'\r\n};\r\n\r\nconst validateImageFile = (file) => {\r\n  if (!(file instanceof File)) return IMAGE_ERRORS.INVALID_FILE;\r\n  if (!isImageFile(file)) return IMAGE_ERRORS.INVALID_FILE_TYPE;\r\n  if (file.size < MIN_IMAGE_FILE_SIZE) return IMAGE_ERRORS.SIZE_TOO_SMALL;\r\n  if (file.size > MAX_IMAGE_FILE_SIZE) return IMAGE_ERRORS.SIZE_TOO_BIG;\r\n  return null;\r\n};\r\n\r\nconst useProfilePhotoUploader = ({\r\n  file,\r\n  onClose,\r\n  imageCropperFunc\r\n}: {\r\n  file: File;\r\n  onClose: () => void;\r\n  imageCropperFunc: () => Blob;\r\n}) => {\r\n  const [imageSrc, setImageSrc] = useState<string | null>(null);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [isCropping, setIsCropping] = useState(false);\r\n\r\n  const objUrlRef = useRef<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    const fileError = validateImageFile(file);\r\n    if (fileError) {\r\n      setError(fileError);\r\n    } else {\r\n      const url = URL.createObjectURL(file);\r\n      objUrlRef.current = url;\r\n      setImageSrc(url);\r\n    }\r\n\r\n    return () => {\r\n      if (objUrlRef.current) URL.revokeObjectURL(objUrlRef.current);\r\n    };\r\n  }, [file]);\r\n\r\n  const dispatch = useAppDispatch();\r\n  const { isLoading, post } = useAPI();\r\n  const isDoingUploadRef = useRef(false);\r\n\r\n  const uploadPhoto = useCallback(async () => {\r\n    if (isDoingUploadRef.current) return;\r\n    isDoingUploadRef.current = true;\r\n    try {\r\n      setIsCropping(true);\r\n\r\n      // Important! Let the UI update before entering in to heavy image cropping task.\r\n      await new Promise((resolve) => setTimeout(resolve, 50));\r\n\r\n      const blob = await imageCropperFunc();\r\n\r\n      setIsCropping(false);\r\n\r\n      if (!blob) {\r\n        setError(UPLOAD_ERRORS.CROPPING_FAILED);\r\n        console.error('Image cropping failed. did not get valid blob.');\r\n        return;\r\n      }\r\n\r\n      const formData = new FormData();\r\n      formData.append('profilePhoto', blob);\r\n\r\n      const { success, data, message } = await post<ProfilePhoto>(\r\n        '/profile-photos/me',\r\n        formData\r\n      );\r\n\r\n      if (success) {\r\n        dispatch(profilePhotoAdded(data));\r\n        onClose();\r\n        console.log(message);\r\n      } else {\r\n        setError(message || UPLOAD_ERRORS.UNKNOWN_ERROR);\r\n      }\r\n    } catch (err) {\r\n      console.error(\r\n        err.message || 'Unknown error occured at profile photo upload.'\r\n      );\r\n      setError(err.message || UPLOAD_ERRORS.UNKNOWN_ERROR);\r\n    }\r\n    isDoingUploadRef.current = false;\r\n  }, [imageCropperFunc, post, dispatch, onClose]);\r\n\r\n  return { imageSrc, isUploading: isLoading || isCropping, error, uploadPhoto };\r\n};\r\n\r\nexport default useProfilePhotoUploader;\r\n","import styled from 'styled-components';\r\nimport { CenteredModal } from '../../../../styles';\r\n\r\nexport const ErrorBannerModal = styled(CenteredModal)`\r\n  display: flex;\r\n  min-height: 5rem;\r\n  align-items: center;\r\n`;\r\n\r\nexport const ErrorText = styled.p`\r\n  margin: auto;\r\n  margin-right: 1rem;\r\n  font-size: 1.04rem;\r\n  font-weight: 500;\r\n  color: ${(props) => props.theme.errorBanner.color};\r\n`;\r\n","import React, { FC } from 'react';\r\nimport { FullScreenOverlay } from '../../../../styles';\r\nimport { ErrorBannerModal, ErrorText } from './styles';\r\nimport { CloseButton } from '../../../../components/buttons';\r\n\r\ninterface ErrorBannerProps {\r\n  error: string;\r\n  onClose: () => void;\r\n}\r\n\r\nconst ErrorBanner: FC<ErrorBannerProps> = ({ error, onClose }) => {\r\n  return (\r\n    <FullScreenOverlay $zIndex={300}>\r\n      <ErrorBannerModal>\r\n        <ErrorText>{error}</ErrorText>\r\n        <CloseButton onClick={onClose} ariaLabel=\"Close error banner.\" />\r\n      </ErrorBannerModal>\r\n    </FullScreenOverlay>\r\n  );\r\n};\r\n\r\nexport default ErrorBanner;\r\n","import React, { FC } from 'react';\r\nimport styled from 'styled-components';\r\nimport { DisabledPrimaryButton, PrimaryButton } from '../../../styles';\r\n\r\nconst BUTTON_TEXT = 'Upload';\r\n\r\nconst UploadButtonEnabled = styled(PrimaryButton)`\r\n  padding: 0.5rem 1rem;\r\n`;\r\n\r\nconst UploadButtonDisabled = styled(DisabledPrimaryButton)`\r\n  padding: 0.5rem 1rem;\r\n`;\r\n\r\ninterface UploadButtonProps {\r\n  isDisabled: boolean;\r\n  onClick: () => void; \r\n}\r\n\r\nconst UploadButton: FC<UploadButtonProps> = ({ isDisabled, onClick }) => {\r\n  return isDisabled ? (\r\n    <UploadButtonDisabled disabled={true}>{BUTTON_TEXT}</UploadButtonDisabled>\r\n  ) : (\r\n    <UploadButtonEnabled onClick={onClick}>{BUTTON_TEXT}</UploadButtonEnabled>\r\n  );\r\n};\r\n\r\nexport default UploadButton;\r\n","import React, { FC } from 'react';\r\nimport {\r\n  ModalFooter,\r\n  ModalHeader,\r\n  PhotoUploaderModal,\r\n  CropOverlayMask,\r\n  CroppingViewport,\r\n  LoadingText,\r\n  LoadingTextContainer,\r\n  PositionableImage\r\n} from './styles';\r\nimport Spinner from '../../../../Spinner';\r\nimport useImageCropper from './useImageCropper';\r\nimport ZoomSlider from './ZoomSlider';\r\nimport useProfilePhotoUploader from './useProfilePhotoUploader';\r\nimport { FullScreenOverlay, ModalTitle } from '../../../../styles';\r\nimport { CloseButton } from '../../../../components/buttons';\r\nimport ErrorBanner from '../ErrorBanner';\r\nimport UploadButton from '../UploadButton';\r\n\r\ninterface ProfilePhotoUploaderProps {\r\n  file: File;\r\n  onClose: () => void;\r\n}\r\n\r\nconst ProfilePhotoUploader: FC<ProfilePhotoUploaderProps> = ({\r\n  file,\r\n  onClose\r\n}) => {\r\n  const {\r\n    croppingViewportRef,\r\n    positionableImageRef,\r\n    positionableImageStyle,\r\n    handlePositionableImageLoad,\r\n    isPositionableImageLoaded,\r\n    handleMouseDownOnMask,\r\n    handleTouchStartOnMask,\r\n    adjustZoomOnWheelEvent,\r\n    zoomPercentage,\r\n    updateZoomPercentage,\r\n    cropImage\r\n  } = useImageCropper();\r\n\r\n  const { error, imageSrc, uploadPhoto, isUploading } = useProfilePhotoUploader(\r\n    { file, onClose, imageCropperFunc: cropImage }\r\n  );\r\n\r\n  if (error) return <ErrorBanner error={error} onClose={onClose} />;\r\n\r\n  if (!imageSrc) return null;\r\n\r\n  return (\r\n    <FullScreenOverlay $zIndex={300}>\r\n      <PhotoUploaderModal aria-modal=\"true\">\r\n        <ModalHeader>\r\n          <ModalTitle>Drag to reposition</ModalTitle>\r\n          <CloseButton\r\n            ariaLabel=\"Close Profile Photo Uploader\"\r\n            onClick={onClose}\r\n          />\r\n        </ModalHeader>\r\n        <CroppingViewport ref={croppingViewportRef}>\r\n          <CropOverlayMask\r\n            draggable={false}\r\n            onMouseDown={handleMouseDownOnMask}\r\n            onTouchStart={handleTouchStartOnMask}\r\n            onWheel={adjustZoomOnWheelEvent}\r\n          />\r\n          {!isPositionableImageLoaded && (\r\n            <LoadingTextContainer>\r\n              <LoadingText>Processing image...</LoadingText>\r\n            </LoadingTextContainer>\r\n          )}\r\n          <PositionableImage\r\n            ref={positionableImageRef}\r\n            src={imageSrc}\r\n            alt=\"Positionable profile photo\"\r\n            style={positionableImageStyle}\r\n            draggable={false}\r\n            onLoad={handlePositionableImageLoad}\r\n          />\r\n        </CroppingViewport>\r\n        <ModalFooter>\r\n          <ZoomSlider\r\n            zoomPercentage={zoomPercentage}\r\n            onZoomPercentageUpdate={updateZoomPercentage}\r\n            onWheel={adjustZoomOnWheelEvent}\r\n          />\r\n          <UploadButton\r\n            isDisabled={isUploading || !isPositionableImageLoaded}\r\n            onClick={uploadPhoto}\r\n          />\r\n        </ModalFooter>\r\n        {isUploading && <Spinner />}\r\n      </PhotoUploaderModal>\r\n    </FullScreenOverlay>\r\n  );\r\n};\r\n\r\nexport default ProfilePhotoUploader;\r\n","import { useCallback } from 'react';\r\nimport { profilePhotoDeleted } from '../slices/profilePhotosSlice';\r\nimport { useAPI, useAppDispatch, useProfilePhoto } from '../../../hooks';\r\nimport { ProfilePhoto } from '../../../types';\r\n\r\nconst useSelfProfilePhoto = (photo: ProfilePhoto) => {\r\n  const { photoUrl, photoDateTime, downloadPhoto } = useProfilePhoto(photo);\r\n\r\n  const { isLoading, del } = useAPI();\r\n\r\n  const dispatch = useAppDispatch();\r\n\r\n  const deletePhoto = useCallback(async () => {\r\n    if (!photo) return;\r\n    const { success, message } = await del(`/profile-photos/me/${photo.id}`);\r\n    if (success) {\r\n      dispatch(profilePhotoDeleted(photo.id));\r\n      console.log(message);\r\n    } else {\r\n      console.error(message);\r\n    }\r\n  }, [photo, del, dispatch]);\r\n\r\n  return {\r\n    photoUrl,\r\n    photoDateTime,\r\n    downloadPhoto,\r\n    isDoingRequest: isLoading,\r\n    deletePhoto\r\n  };\r\n};\r\n\r\nexport default useSelfProfilePhoto;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\nimport { AddPhotoIcon } from '../../../components/icons';\r\nimport { StyleProps } from '../../../types';\r\n\r\nconst AddPhotoButtonStyled = styled.button`\r\n  position: absolute;\r\n  right: 2rem;\r\n  bottom: -1.7rem;\r\n  width: 3.13rem;\r\n  height: 3.13rem;\r\n  padding: 0.8rem;\r\n  border-radius: 50%;\r\n  color: white;\r\n  box-shadow: 3px 3px 14px #000000c4;\r\n  transition: background-color 0.2s ease-in-out;\r\n  background-color: ${(props: StyleProps) =>\r\n    props.theme.backgroundColors?.button};\r\n  &:hover {\r\n    background-color: ${(props: StyleProps) =>\r\n      props.theme.backgroundColors?.buttonHover};\r\n  }\r\n`;\r\n\r\nconst AddPhotoButton = ({ onClick, ...restProps }) => {\r\n  return (\r\n    <AddPhotoButtonStyled type=\"button\" onClick={onClick} {...restProps}>\r\n      <AddPhotoIcon   />\r\n    </AddPhotoButtonStyled>\r\n  );\r\n};\r\n\r\nexport default AddPhotoButton;\r\n","import { useEffect, useRef, useState } from 'react';\r\nimport { useAPI, useAppDispatch } from '../../../hooks';\r\nimport { profilePhotosFetched } from '../slices/profilePhotosSlice';\r\nimport { ProfilePhoto } from '../../../types';\r\n\r\nconst useProfilePhotosFetcher = () => {\r\n  const [isFetched, setIsFetched] = useState(false);\r\n  const fetchTriesRef = useRef<number>(0);\r\n\r\n  const dispatch = useAppDispatch();\r\n\r\n  const { get } = useAPI();\r\n\r\n  useEffect(() => {\r\n    const fetchPhotos = async () => {\r\n      const { success, data, message } =\r\n        await get<ProfilePhoto[]>('/profile-photos/me');\r\n\r\n      if (success) {\r\n        dispatch(profilePhotosFetched(data));\r\n        setIsFetched(true);\r\n      } else {\r\n        console.error(message);\r\n        if (fetchTriesRef.current > 2) setIsFetched(true);\r\n      }\r\n\r\n      fetchTriesRef.current++;\r\n    };\r\n\r\n    if (!isFetched) fetchPhotos();\r\n  }, [dispatch, get, isFetched]);\r\n};\r\n\r\nexport default useProfilePhotosFetcher;\r\n","import React, { useEffect, useMemo, useState } from 'react';\r\nimport { Name, ProfilePhotoSettingsStyled } from './styles';\r\nimport {\r\n  PhotoHeaderSection,\r\n  PhotoIndexIndicator,\r\n  PhotoMetaContainer,\r\n  PhotoMetaText,\r\n} from '@/styles';\r\nimport { AddPhotoIcon, DeleteIcon, DownloadIcon } from '@/components/icons';\r\nimport Spinner from '@/Spinner';\r\nimport ProfilePhotoUploader from '../ProfilePhotoUploader';\r\nimport ContextMenu, { useContextMenu } from '@/components/ContextMenu';\r\nimport {\r\n  BackButton,\r\n  MoreButton,\r\n  NextButton,\r\n  PreviousButton,\r\n} from '@/components/buttons';\r\nimport {\r\n  useFileSelector,\r\n  useAccount,\r\n  useAppContext,\r\n  useFullScreenPhoto,\r\n  useImageLoader,\r\n  usePhotoNavigation,\r\n} from '@/hooks';\r\nimport { useSelector } from 'react-redux';\r\nimport useSelfProfilePhoto from '../../hooks/useSelfProfilePhoto';\r\nimport AddPhotoButton from '../AddPhotoButton';\r\nimport { MenuItemDescriptor } from '@/components/ContextMenu/types';\r\nimport { RootState } from '@/store';\r\nimport useProfilePhotosFetcher from '../../hooks/useProfilePhotosFetcher';\r\nimport TinySpinner from '@/components/TinySpinner';\r\nimport FlexibleImage from '@/components/FlexibleImage';\r\nimport NameInitial from '@/components/NameInitial';\r\n\r\nconst ProfilePhotoSettings = () => {\r\n  const { windowWidth } = useAppContext();\r\n\r\n  useProfilePhotosFetcher();\r\n\r\n  const { fullName, nameInitials } = useAccount();\r\n\r\n  const { isContextMenuVisible, onMoreButtonClick, contextMenuControlProps } =\r\n    useContextMenu();\r\n\r\n  const { isFullScreenMode, toggleFullScreenMode, exitFullScreenMode } =\r\n    useFullScreenPhoto();\r\n\r\n  const [isPhotoUploaderVisible, setIsPhotoUploaderVisible] = useState(false);\r\n  const closePhotoUploader = () => setIsPhotoUploaderVisible(false);\r\n  const openPhotoUploader = () => setIsPhotoUploaderVisible(true);\r\n\r\n  const { fileInputRef, handleFileChange, triggerFileSelection, selectedFile } =\r\n    useFileSelector(openPhotoUploader);\r\n\r\n  const profilePhotos = useSelector((state: RootState) => state.profilePhotos);\r\n  const photosCount = profilePhotos.length;\r\n\r\n  const { currentIndex, handleNext, handlePrevious, photoIndexIndicator } =\r\n    usePhotoNavigation(photosCount, 0, true);\r\n\r\n  const {\r\n    photoUrl,\r\n    photoDateTime,\r\n    isDoingRequest,\r\n    downloadPhoto,\r\n    deletePhoto,\r\n  } = useSelfProfilePhoto(profilePhotos[currentIndex]);\r\n\r\n  const { isImageFetching, isImageLoading, imageSrc, handleImageLoad } =\r\n    useImageLoader(photoUrl || null);\r\n\r\n  const options = useMemo(() => {\r\n    const items: MenuItemDescriptor[] = [];\r\n    if (!isFullScreenMode) {\r\n      items.push({\r\n        icon: <AddPhotoIcon />,\r\n        label: 'Set Profile Photo',\r\n        action: triggerFileSelection,\r\n      });\r\n    }\r\n    if (imageSrc) {\r\n      items.push(\r\n        { icon: <DownloadIcon />, label: 'Save Photo', action: downloadPhoto },\r\n        { icon: <DeleteIcon />, label: 'Delete', action: deletePhoto },\r\n      );\r\n    }\r\n    return items;\r\n  }, [\r\n    isFullScreenMode,\r\n    triggerFileSelection,\r\n    imageSrc,\r\n    downloadPhoto,\r\n    deletePhoto,\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    if (isFullScreenMode && !photosCount) exitFullScreenMode();\r\n  }, [photosCount, isFullScreenMode, exitFullScreenMode]);\r\n\r\n  return (\r\n    <ProfilePhotoSettingsStyled\r\n      aria-modal={isFullScreenMode}\r\n      aria-label=\"Profile photo settings\"\r\n      $isFullScreenMode={isFullScreenMode}\r\n      $windowWidth={windowWidth}\r\n    >\r\n      <PhotoHeaderSection>\r\n        {isFullScreenMode ? (\r\n          <BackButton\r\n            aria-label=\"Exit fullscreen mode\"\r\n            onClick={exitFullScreenMode}\r\n          />\r\n        ) : (\r\n          <div />\r\n        )}\r\n\r\n        {photosCount > 1 && (\r\n          <PhotoIndexIndicator>{photoIndexIndicator}</PhotoIndexIndicator>\r\n        )}\r\n\r\n        {options.length > 0 && (\r\n          <MoreButton\r\n            aria-label=\"Open profile photo options\"\r\n            onClick={onMoreButtonClick}\r\n          />\r\n        )}\r\n      </PhotoHeaderSection>\r\n\r\n      {isImageFetching && <TinySpinner />}\r\n\r\n      {imageSrc ? (\r\n        <FlexibleImage\r\n          src={imageSrc}\r\n          onLoad={handleImageLoad}\r\n          alt=\"Profile Photo\"\r\n          isBlur={isImageFetching || isImageLoading}\r\n          onClick={toggleFullScreenMode}\r\n          isPhotoNavTarget={true}\r\n        />\r\n      ) : (\r\n        <NameInitial nameInitials={nameInitials} />\r\n      )}\r\n\r\n      {photosCount > 1 && (\r\n        <>\r\n          <PreviousButton onClick={handlePrevious} />\r\n          <NextButton onClick={handleNext} />\r\n        </>\r\n      )}\r\n\r\n      {!isFullScreenMode && (\r\n        <>\r\n          <Name>{fullName}</Name>\r\n          <AddPhotoButton\r\n            aria-label=\"Set profile photo\"\r\n            onClick={triggerFileSelection}\r\n          />\r\n        </>\r\n      )}\r\n\r\n      <input\r\n        type=\"file\"\r\n        accept=\"image/*\"\r\n        ref={fileInputRef}\r\n        onChange={handleFileChange}\r\n        style={{ display: 'none' }}\r\n      />\r\n\r\n      {isDoingRequest && <Spinner />}\r\n\r\n      {isFullScreenMode && photoDateTime && (\r\n        <PhotoMetaContainer>\r\n          <PhotoMetaText>Profile Photo</PhotoMetaText>\r\n          <PhotoMetaText>{photoDateTime}</PhotoMetaText>\r\n        </PhotoMetaContainer>\r\n      )}\r\n\r\n      {isPhotoUploaderVisible && (\r\n        <ProfilePhotoUploader\r\n          file={selectedFile as unknown as File}\r\n          onClose={closePhotoUploader}\r\n        />\r\n      )}\r\n\r\n      {isContextMenuVisible && (\r\n        <ContextMenu\r\n          menuItems={options}\r\n          controlProps={contextMenuControlProps}\r\n        />\r\n      )}\r\n    </ProfilePhotoSettingsStyled>\r\n  );\r\n};\r\n\r\nexport default ProfilePhotoSettings;\r\n","import styled, { css } from 'styled-components';\r\nimport { StyleProps } from '../../types';\r\n\r\nexport const SettingsPageOverlay = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  z-index: 300;\r\n  background-color: ${(props: StyleProps) =>\r\n    props.theme.backgroundColors?.overlay};\r\n  display: flex;\r\n  justify-content: center;\r\n`;\r\n\r\nexport const SettingsPage = styled.div<{ $windowWidth: number }>`\r\n  ${(props) =>\r\n    props.$windowWidth < 500\r\n      ? css`\r\n          width: 100vw;\r\n          padding-top: 0.5rem;\r\n        `\r\n      : css`\r\n          padding: 1rem;\r\n          border-radius: 10px;\r\n          margin-top: 5vh;\r\n          height: 90vh;\r\n        `}\r\n\r\n  background-color: ${(props: StyleProps) =>\r\n    props.theme.backgroundColors?.main};\r\n`;\r\n\r\nexport const SettingsPageHeader = styled.div`\r\n  margin-bottom: 1rem;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n`;\r\n\r\nexport const MainTitle = styled.h1`\r\n  font-size: 1.5rem;\r\n  line-height: 1;\r\n  font-weight: 500;\r\n  color: ${(props: StyleProps) => props.theme.textColors?.title};\r\n`;\r\n\r\nexport const NavMenuContainer = styled.div`\r\n  display: flex;\r\n  align-items: flex-start;\r\n  justify-content: space-between;\r\n  margin-bottom: 1rem;\r\n`;\r\n\r\nexport const NavMenu = styled.div<{ $windowWidth: number }>`\r\n  ${(props) =>\r\n    props.$windowWidth < 500\r\n      ? css`\r\n          margin: 0 1rem;\r\n          display: flex;\r\n          flex-wrap: wrap;\r\n          justify-content: center;\r\n          align-items: center;\r\n          padding: 2px;\r\n          border-radius: 12px;\r\n        `\r\n      : css`\r\n          display: flex;\r\n          justify-content: space-between;\r\n          align-items: center;\r\n          padding: 2px;\r\n          border-radius: 12px;\r\n          background-color: #3c576e;\r\n        `}\r\n\r\n  background-color: ${(props: StyleProps) =>\r\n    props.theme.backgroundColors?.bright};\r\n`;\r\n\r\nexport const MenuItemButton = styled.button<{ $isActive: boolean }>`\r\n  flex-grow: 1;\r\n  font-size: 1rem;\r\n  font-weight: 500;\r\n  color: white;\r\n  padding: 0.45rem 1.3rem;\r\n  border-radius: inherit;\r\n  ${(props) =>\r\n    props.$isActive &&\r\n    css`\r\n      background-color: ${(props: StyleProps) =>\r\n        props.theme.backgroundColors?.veryBright};\r\n    `}\r\n`;\r\n\r\nexport const MenuDivider = styled.div`\r\n  width: 1px;\r\n  height: 1rem;\r\n  background-color: ${(props: StyleProps) =>\r\n    props.theme.backgroundColors?.veryBright};\r\n`;\r\n\r\nexport const SettingsCategoryContainer = styled.div``;\r\n\r\nexport const SettingsItemContainer = styled.div`\r\n  padding: 0.8rem 1rem;\r\n  cursor: pointer;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  border-radius: 15px;\r\n  &:hover {\r\n    background: ${(props: StyleProps) => props.theme.backgroundColors?.hover};\r\n  }\r\n`;\r\n\r\nexport const Title = styled.p`\r\n  padding: 0;\r\n  margin: 0;\r\n  font-size: 1rem;\r\n  color: ${(props: StyleProps) => props.theme.textColors?.normal};\r\n  transition: color 0.4s ease-in-out;\r\n`;\r\n\r\nexport const Description = styled.span`\r\n  display: block;\r\n  color: ${(props: StyleProps) => props.theme.textColors?.description};\r\n  font-size: 0.9rem;\r\n`;\r\n\r\nexport const ArrowIconContainer = styled.div`\r\n  width: 1rem;\r\n  height: 1rem;\r\n  color: ${(props: StyleProps) => props.theme.textColors?.normal};\r\n`;\r\n","import styled, { css } from 'styled-components';\r\nimport { StyleProps } from '../../../../types';\r\n\r\nexport const EditorModalOverlay = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  z-index: 300;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background: ${(props: StyleProps) => props.theme.backgroundColors?.overlay};\r\n`;\r\n\r\nexport const EditorModalStyled = styled.div<{ $windowWidth: number }>`\r\n  ${(props) =>\r\n    props.$windowWidth < 500\r\n      ? css`\r\n          width: 100vw;\r\n          padding: 1rem;\r\n          border-radius: 10px;\r\n          border: 1px solid;\r\n        `\r\n      : css`\r\n          width: 27rem;\r\n          padding: 1rem;\r\n          border-radius: 10px;\r\n          border: 1px solid;\r\n          background-color: #314352;\r\n          border-color: #405d76;\r\n        `}\r\n\r\n  background-color: ${(props: StyleProps) =>\r\n    props.theme.backgroundColors?.main};\r\n\r\n  border-color: ${(props: StyleProps) => props.theme.borderColor};\r\n`;\r\n\r\nexport const HeaderSection = styled.div`\r\n  padding-bottom: 1rem;\r\n  margin-bottom: 1rem;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  border-bottom: 1px solid;\r\n  border-color: ${(props: StyleProps) => props.theme.dividerColor};\r\n`;\r\n\r\nexport const Title = styled.h2`\r\n  margin-right: 1.3rem;\r\n  font-size: 1.2rem;\r\n  font-weight: 500;\r\n  color: ${(props: StyleProps) => props.theme.textColors?.title};\r\n`;\r\n\r\nexport const MainSection = styled.div`\r\n  margin-bottom: 1rem;\r\n`;\r\n\r\nexport const FooterSection = styled.div`\r\n  display: flex;\r\n  justify-content: right;\r\n  border-top: 1px solid;\r\n  border-color: ${(props: StyleProps) => props.theme.dividerColor};\r\n  padding-top: 1rem;\r\n`;\r\n\r\nconst ActionButton = styled.button`\r\n  display: block;\r\n  padding-top: 0.4rem;\r\n  padding-bottom: 0.4rem;\r\n  border-radius: 5px;\r\n  font-size: 0.94rem;\r\n  font-weight: 500;\r\n  transition: background-color 0.2s ease-in-out;\r\n`;\r\n\r\nexport const CancelButton = styled(ActionButton)`\r\n  margin-right: 0.5rem;\r\n  padding-left: 1rem;\r\n  padding-right: 1rem;\r\n  color: ${(props: StyleProps) => props.theme.backgroundColors?.buttonHover};\r\n  &:hover {\r\n    background-color: ${(props: StyleProps) =>\r\n      props.theme.backgroundColors?.bright};\r\n  }\r\n`;\r\n\r\nexport const DoneButton = styled(ActionButton)`\r\n  padding-left: 1.7rem;\r\n  padding-right: 1.7rem;\r\n  border-radius: 5px;\r\n  color: #ffffff;\r\n\r\n  background-color: ${(props: StyleProps) =>\r\n    props.theme.backgroundColors?.button};\r\n\r\n  &:hover {\r\n    background-color: ${(props: StyleProps) =>\r\n      props.theme.backgroundColors?.buttonHover};\r\n  }\r\n`;\r\n","import type { CSSProperties, FC, ReactNode } from 'react';\r\nimport {\r\n  CancelButton,\r\n  DoneButton,\r\n  EditorModalOverlay,\r\n  EditorModalStyled,\r\n  FooterSection,\r\n  HeaderSection,\r\n  MainSection,\r\n  Title,\r\n} from './styles';\r\nimport { CloseButton } from '../../../../components/buttons';\r\nimport { useAnimation, useAppContext } from '@/hooks';\r\n\r\ninterface EditorModalProps {\r\n  title: string;\r\n  animationStyle: CSSProperties;\r\n  children: ReactNode;\r\n  onDone: () => void;\r\n  onClose: () => void;\r\n  leftButtonConfig?: {\r\n    label?: string;\r\n    action?: () => void;\r\n  };\r\n  rightButtonConfig?: {\r\n    label?: string;\r\n    action?: () => void;\r\n  };\r\n}\r\n\r\nconst EditorModal: FC<EditorModalProps> = ({\r\n  title,\r\n  animationStyle,\r\n  children,\r\n  onDone,\r\n  onClose,\r\n  leftButtonConfig = { label: 'Cancel', action: undefined },\r\n  rightButtonConfig = { label: 'Done', action: undefined },\r\n}) => {\r\n  const { windowWidth } = useAppContext();\r\n\r\n  const handleOverlayClick = (event) => {\r\n    // Stop any onclick event from this component bubling up to parent node.\r\n    event.stopPropagation();\r\n\r\n    // Make sure the event didn't come from children of the overlay.\r\n    if (event.target === event.currentTarget) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <EditorModalOverlay\r\n      style={{ ...animationStyle, transform: undefined }}\r\n      onClick={handleOverlayClick}\r\n    >\r\n      <EditorModalStyled style={animationStyle} $windowWidth={windowWidth}>\r\n        <HeaderSection>\r\n          <Title>{title}</Title>\r\n          <CloseButton onClick={onClose} />\r\n        </HeaderSection>\r\n        <MainSection>{children}</MainSection>\r\n        <FooterSection>\r\n          <CancelButton\r\n            type=\"button\"\r\n            onClick={leftButtonConfig.action || onClose}\r\n          >\r\n            {leftButtonConfig.label}\r\n          </CancelButton>\r\n          <DoneButton\r\n            type=\"button\"\r\n            onClick={rightButtonConfig.action || onDone}\r\n          >\r\n            {rightButtonConfig.label}\r\n          </DoneButton>\r\n        </FooterSection>\r\n      </EditorModalStyled>\r\n    </EditorModalOverlay>\r\n  );\r\n};\r\n\r\nexport default EditorModal;\r\n","import styled from 'styled-components';\r\nimport { StyleProps } from '../../../../types';\r\n\r\nexport const TextInputContainer = styled.div`\r\n  margin-bottom: 1rem;\r\n`;\r\n\r\nexport const LabelWrapper = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n`;\r\n\r\nexport const LabelStyled = styled.label`\r\n  font-size: 1rem;\r\n  font-weight: 500;\r\n  color: ${(props: StyleProps) => props.theme.textColors?.normal};\r\n  display: block;\r\n`;\r\n\r\nexport const InputStyled = styled.input`\r\n  width: 100%;\r\n  padding: 1.2rem 0 0.5rem 0;\r\n  margin-bottom: 0.7rem;\r\n  box-shadow: none;\r\n  outline-style: none;\r\n  border: none;\r\n  border-bottom: 1px solid #43829f;\r\n  border-radius: 0;\r\n  font-size: 1rem;\r\n  font-weight: 500;\r\n  color: #cfd3d4;\r\n  background: transparent;\r\n  &::placeholder {\r\n    color: #6e6f74;\r\n    font-family: system-ui, sans-serif;\r\n    font-size: 1rem;\r\n    font-weight: 500;\r\n    font-weight: 500;\r\n  }\r\n  &:focus {\r\n    border-color: #04c1ff;\r\n  }\r\n`;\r\n\r\nexport const HelperText = styled.span`\r\n  display: block;\r\n  color: ${(props: StyleProps) => props.theme.textColors?.description};\r\n  font-size: 0.8rem;\r\n  font-weight: 500;\r\n`;\r\n","import React, { FC, useEffect, useRef } from 'react';\r\nimport {\r\n  HelperText,\r\n  InputStyled,\r\n  LabelStyled,\r\n  LabelWrapper,\r\n  TextInputContainer\r\n} from './styles';\r\n\r\ninterface TextInputProps {\r\n  label?: string;\r\n  type?: string;\r\n  name: string;\r\n  placeholder?: string;\r\n  value: string;\r\n  shouldFocus?: boolean;\r\n  onChange: (event) => void;\r\n  onEnterPress?: (event) => void;\r\n  helperText?: string;\r\n  errorMessage?: string;\r\n}\r\n\r\nconst TextInput: FC<TextInputProps> = ({\r\n  label,\r\n  type = 'text',\r\n  name,\r\n  placeholder = '',\r\n  value,\r\n  shouldFocus = true,\r\n  onChange,\r\n  onEnterPress,\r\n  helperText,\r\n  errorMessage\r\n}) => {\r\n  const inputRef = useRef<HTMLInputElement | null>(null);\r\n  const infoRef = useRef<HTMLSpanElement | null>(null);\r\n\r\n  useEffect(() => {\r\n    if (shouldFocus && inputRef.current) inputRef.current.focus();\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (errorMessage && infoRef.current) {\r\n      infoRef.current.animate(\r\n        [\r\n          { transform: 'translateX(0px)' },\r\n          { transform: 'translateX(12px)' },\r\n          { transform: 'translateX(0px)' },\r\n          { transform: 'translateX(12px)' },\r\n          { transform: 'translateX(0px)' }\r\n        ],\r\n        700\r\n      );\r\n    }\r\n  }, [errorMessage]);\r\n\r\n  const handleKeyDown = (event) => {\r\n    if (onEnterPress && event.key === 'Enter') {\r\n      event.preventDefault();\r\n      onEnterPress(event);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <TextInputContainer>\r\n      {label && (\r\n        <LabelWrapper>\r\n          <LabelStyled htmlFor={name}>{label}</LabelStyled>\r\n        </LabelWrapper>\r\n      )}\r\n      <InputStyled\r\n        type={type}\r\n        name={name}\r\n        placeholder={placeholder}\r\n        value={value}\r\n        ref={inputRef}\r\n        onKeyDown={handleKeyDown}\r\n        onInput={onChange}\r\n      />\r\n      {(errorMessage || helperText) && (\r\n        <HelperText ref={infoRef}>{errorMessage || helperText}</HelperText>\r\n      )}\r\n    </TextInputContainer>\r\n  );\r\n};\r\n\r\nexport default TextInput;\r\n","import { useCallback, useState } from 'react';\r\nimport { Account } from '../../../types';\r\nimport { useAPI, useAppDispatch } from '../../../hooks';\r\nimport { accountUpdated } from '../slices/accountSlice';\r\n\r\nconst useAccountUpdater = () => {\r\n  const [isUpdating, setIsUpdating] = useState(false);\r\n\r\n  const { put } = useAPI();\r\n\r\n  const dispatch = useAppDispatch();\r\n\r\n  const updateAccount = useCallback(async (accountData: Partial<Account>) => {\r\n    setIsUpdating(true);\r\n\r\n    const { success, data, message } = await put<Account>(\r\n      '/users/me',\r\n      accountData\r\n    );\r\n\r\n    if (success) dispatch(accountUpdated(data));\r\n\r\n    setIsUpdating(false);\r\n    \r\n    return { success, message };\r\n  }, [dispatch, put]);\r\n\r\n  return { updateAccount, isUpdating };\r\n};\r\n\r\nexport default useAccountUpdater;\r\n","import { type CSSProperties, type FC, useState } from 'react';\r\nimport Spinner from '../../../../Spinner';\r\nimport { checkUsername } from './utils';\r\nimport EditorModal from '../EditorModal';\r\nimport { useAppSelector } from '../../../../hooks';\r\nimport TextInput from '../TextInput';\r\nimport useAccountUpdater from '../../hooks/useAccountUpdater';\r\n\r\ninterface UsernameEditorProps {\r\n  animationStyle: CSSProperties;\r\n  onClose: () => void;\r\n}\r\n\r\nconst UsernameEditor: FC<UsernameEditorProps> = ({\r\n  onClose,\r\n  animationStyle,\r\n}) => {\r\n  const account = useAppSelector((state) => state.account);\r\n  if (!account) throw new Error('Invalid account!');\r\n\r\n  const [value, setValue] = useState(account.username);\r\n  const [errorMessage, setErrorMessage] = useState<string | undefined>(\r\n    undefined,\r\n  );\r\n\r\n  const { updateAccount, isUpdating } = useAccountUpdater();\r\n\r\n  const updateUsername = async () => {\r\n    const newUsername = value.trim();\r\n    if (newUsername === account.username) return onClose();\r\n\r\n    const inputError = checkUsername(newUsername);\r\n    if (inputError) return setErrorMessage(inputError);\r\n\r\n    const { success, message } = await updateAccount({\r\n      username: newUsername,\r\n    });\r\n\r\n    if (success) {\r\n      onClose();\r\n    } else {\r\n      setErrorMessage(message || '');\r\n    }\r\n  };\r\n\r\n  const updateInputValue = (event) => {\r\n    setValue(event.target.value);\r\n    setErrorMessage(undefined);\r\n  };\r\n\r\n  return (\r\n    <EditorModal\r\n      title={'Edit Username'}\r\n      animationStyle={animationStyle}\r\n      onDone={updateUsername}\r\n      onClose={onClose}\r\n    >\r\n      <TextInput\r\n        name={'username'}\r\n        placeholder={'Username'}\r\n        value={value}\r\n        onChange={updateInputValue}\r\n        onEnterPress={updateUsername}\r\n        helperText={'Others can find and message you using this usernamexsdd.'}\r\n        errorMessage={errorMessage}\r\n      />\r\n      {isUpdating && <Spinner />}\r\n    </EditorModal>\r\n  );\r\n};\r\n\r\nexport default UsernameEditor;\r\n","const MIN_USERNAME_LENGTH = 5;\r\nconst MAX_USERNAME_LENGTH = 15;\r\n\r\nexport function checkUsername(username) {\r\n  username = username.trim();\r\n  if (!username) return null;\r\n\r\n  const regExp = /^[A-Za-z][A-Za-z0-9_]*$/;\r\n\r\n  if (!regExp.test(username)) {\r\n    return (\r\n      'Username can only contain alphabets, numbers and underscores.' +\r\n      ' And the first character must be alphabet.'\r\n    );\r\n  }\r\n\r\n  if (username.length < MIN_USERNAME_LENGTH) {\r\n    return `Minimum length is ${MIN_USERNAME_LENGTH} characters.`;\r\n  }\r\n\r\n  if (username.length > MAX_USERNAME_LENGTH) {\r\n    return `Maximum length is ${MAX_USERNAME_LENGTH} characters.`;\r\n  }\r\n\r\n  return null;\r\n}\r\n","export function checkFirstName(name) {\r\n  if (name.length === 0) {\r\n    return 'First name is required';\r\n  }\r\n  if (name.length > 15) {\r\n    return 'First name too long';\r\n  }\r\n  return '';\r\n}\r\n\r\nexport function checkLastName(name) {\r\n  if (name.length > 15) {\r\n    return 'Last name too long';\r\n  }\r\n  return '';\r\n}\r\n","import { type CSSProperties, type FC, useState } from 'react';\r\nimport Spinner from '../../../../Spinner';\r\nimport { useAppSelector } from '../../../../hooks';\r\nimport useAccountUpdater from '../../hooks/useAccountUpdater';\r\nimport EditorModal from '../EditorModal';\r\nimport TextInput from '../TextInput';\r\nimport { checkFirstName, checkLastName } from './utils';\r\n\r\ninterface NameEditorProps {\r\n  animationStyle: CSSProperties;\r\n  onClose: () => void;\r\n}\r\n\r\nconst NameEditor: FC<NameEditorProps> = ({ onClose, animationStyle }) => {\r\n  const account = useAppSelector((state) => state.account);\r\n  if (!account) throw new Error('Invalid user account!');\r\n\r\n  const [state, setState] = useState({\r\n    firstName: account.firstName,\r\n    firstNameError: '',\r\n    lastName: account.lastName || '',\r\n    lastNameError: '',\r\n    activeField: 'firstName',\r\n  });\r\n\r\n  const updateInputValue = (event) => {\r\n    const { value, name } = event.target;\r\n    setState((prevState) => ({\r\n      ...prevState,\r\n      [name]: value,\r\n      firstNameError: '',\r\n      lastNameError: '',\r\n      activeField: name,\r\n    }));\r\n  };\r\n\r\n  const { updateAccount, isUpdating } = useAccountUpdater();\r\n\r\n  const updateName = async () => {\r\n    const firstName = state.firstName.trim();\r\n    const lastName = state.lastName.trim();\r\n    const firstNameError = checkFirstName(firstName);\r\n    const lastNameError = checkLastName(lastName);\r\n    if (firstNameError || lastNameError) {\r\n      const activeField = firstNameError ? 'firstName' : 'lastName';\r\n      setState((prevState) => ({\r\n        ...prevState,\r\n        firstNameError,\r\n        lastNameError,\r\n        activeField,\r\n      }));\r\n    } else {\r\n      if (firstName === account.firstName && lastName === account.lastName) {\r\n        onClose();\r\n      } else {\r\n        const { success, message } = await updateAccount({\r\n          firstName,\r\n          lastName,\r\n        });\r\n\r\n        if (success) {\r\n          onClose();\r\n        } else {\r\n          setState((prevState) => ({\r\n            ...prevState,\r\n            firstNameError: message || '',\r\n            lastNameError: '',\r\n          }));\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleEnterPress = (event) => {\r\n    if (event.target.name === 'firstName') {\r\n      const firstNameError = checkFirstName(state.firstName.trim());\r\n      if (firstNameError) {\r\n        setState((prevState) => ({ ...prevState, firstNameError }));\r\n      } else {\r\n        setState((prevState) => ({ ...prevState, activeField: 'lastName' }));\r\n      }\r\n    } else {\r\n      updateName();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <EditorModal\r\n      title={'Edit name'}\r\n      animationStyle={animationStyle}\r\n      onClose={onClose}\r\n      onDone={updateName}\r\n    >\r\n      <TextInput\r\n        name={'firstName'}\r\n        placeholder={'First name (required)'}\r\n        value={state.firstName}\r\n        shouldFocus={state.activeField === 'firstName'}\r\n        onChange={updateInputValue}\r\n        onEnterPress={handleEnterPress}\r\n        errorMessage={state.firstNameError}\r\n      />\r\n      <TextInput\r\n        name={'lastName'}\r\n        placeholder={'Last name (optional)'}\r\n        value={state.lastName}\r\n        shouldFocus={state.activeField === 'lastName'}\r\n        onChange={updateInputValue}\r\n        onEnterPress={handleEnterPress}\r\n        errorMessage={state.lastNameError}\r\n      />\r\n      {isUpdating && <Spinner />}\r\n    </EditorModal>\r\n  );\r\n};\r\n\r\nexport default NameEditor;\r\n","import styled from 'styled-components';\r\nimport { InputStyled } from '../../TextInput/styles';\r\n\r\nexport const Counter = styled.p`\r\n  display: block;\r\n  margin-bottom: 0.5rem;\r\n  font-size: 1rem;\r\n  line-height: 1.7;\r\n  font-weight: 500;\r\n  color: #bdbdbd;\r\n`;\r\n\r\nexport const MultiLineInputContainer = styled.div`    display: flex;\r\n    align-items: flex-end;\r\n    margin-bottom: 1rem;`;\r\n\r\nexport const MultiLineInput = styled(InputStyled)<{\r\n  as: string;\r\n  rows: string;\r\n  cols: string;\r\n}>`    \r\n  margin-bottom: 0;\r\n    margin-right: 0.5rem;\r\n    overflow: hidden;\r\n    overflow-wrap: break-word;\r\n    line-height: 1.7;\r\n    resize: none;\r\n`;\r\n","import { useEffect, useRef } from 'react';\r\nimport {\r\n  HelperText,\r\n  LabelWrapper,\r\n  TextInputContainer,\r\n} from '../../TextInput/styles';\r\nimport { Counter, MultiLineInput, MultiLineInputContainer } from './styles';\r\n\r\nconst BioInput = ({\r\n  value,\r\n  count,\r\n  shouldCounterShake,\r\n  onChange,\r\n  onEnterPress,\r\n}) => {\r\n  const handleInputRef = (element) => {\r\n    if (element) {\r\n      element.focus();\r\n      const scrollHeight = element.scrollHeight;\r\n      const clientHeight = element.clientHeight;\r\n      if (scrollHeight - clientHeight > 1) {\r\n        element.style.height = `${scrollHeight}px`;\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleKeyDown = (event) => {\r\n    if (event.key === 'Enter') {\r\n      event.preventDefault();\r\n      onEnterPress();\r\n    }\r\n  };\r\n\r\n  const counterRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (shouldCounterShake && counterRef.current) {\r\n      counterRef.current.animate(\r\n        [\r\n          { transform: 'translateX(0px)' },\r\n          { transform: 'translateX(6px)' },\r\n          { transform: 'translateX(0px)' },\r\n          { transform: 'translateX(6px)' },\r\n          { transform: 'translateX(0px)' },\r\n        ],\r\n        300,\r\n      );\r\n    }\r\n  }, [shouldCounterShake]);\r\n\r\n  return (\r\n    <TextInputContainer>\r\n      <MultiLineInputContainer>\r\n        <MultiLineInput\r\n          as=\"textarea\"\r\n          rows=\"1\"\r\n          cols=\"20\"\r\n          value={value}\r\n          placeholder={'Bio'}\r\n          ref={handleInputRef}\r\n          onKeyDown={handleKeyDown}\r\n          onInput={onChange}\r\n        />\r\n        <Counter ref={counterRef}>{count === -1 ? 0 : count}</Counter>\r\n      </MultiLineInputContainer>\r\n\r\n      <HelperText>{'You can add a few lines about yourself.'}</HelperText>\r\n    </TextInputContainer>\r\n  );\r\n};\r\n\r\nexport default BioInput;\r\n","import { type CSSProperties, type FC, useState } from 'react';\r\nimport { useAppSelector } from '../../../../hooks';\r\nimport EditorModal from '../EditorModal';\r\nimport BioInput from './BioInput';\r\nimport Spinner from '../../../../Spinner';\r\nimport useAccountUpdater from '../../hooks/useAccountUpdater';\r\n\r\nconst MAX_BIO_LENGTH = 70;\r\n\r\ninterface NameEditorProps {\r\n  animationStyle: CSSProperties;\r\n  onClose: () => void;\r\n}\r\n\r\nconst BioEditor: FC<NameEditorProps> = ({ onClose, animationStyle }) => {\r\n  const account = useAppSelector((state) => state.account);\r\n  if (!account) throw new Error('Invalid user account!');\r\n\r\n  const [state, setState] = useState({\r\n    value: account.bio || '',\r\n    count: MAX_BIO_LENGTH - (account.bio?.length || 0),\r\n    shouldCounterShake: false,\r\n  });\r\n\r\n  const { updateAccount, isUpdating } = useAccountUpdater();\r\n\r\n  const updateBio = async () => {\r\n    const value = state.value.trim();\r\n    if (value === account.bio) return onClose();\r\n\r\n    const { success, message } = await updateAccount({\r\n      bio: value,\r\n    });\r\n\r\n    if (success) {\r\n      onClose();\r\n    } else {\r\n      console.log(message);\r\n    }\r\n  };\r\n\r\n  const onChangeListener = (event) => {\r\n    const { value } = event.target;\r\n    if (value.length <= MAX_BIO_LENGTH) {\r\n      setState({\r\n        value,\r\n        count: MAX_BIO_LENGTH - value.length,\r\n        shouldCounterShake: false,\r\n      });\r\n    } else {\r\n      setState((prevState) => ({ ...prevState, shouldCounterShake: true }));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <EditorModal\r\n      title={'Edit bio'}\r\n      onClose={onClose}\r\n      onDone={updateBio}\r\n      animationStyle={animationStyle}\r\n    >\r\n      <BioInput\r\n        value={state.value}\r\n        count={state.count}\r\n        shouldCounterShake={state.shouldCounterShake}\r\n        onChange={onChangeListener}\r\n        onEnterPress={updateBio}\r\n      />\r\n      {isUpdating && <Spinner />}\r\n    </EditorModal>\r\n  );\r\n};\r\n\r\nexport default BioEditor;\r\n","import { useCallback, useMemo, useState } from 'react';\r\nimport { useAccount } from '@/hooks';\r\nimport { PRIVACY_SETTINGS_CONFIG, VISIBILITY_OPTION_LABELS } from './constants';\r\nimport type { SettingsItem } from './types';\r\n\r\ntype ModalName =\r\n  | 'UsernameEditor'\r\n  | 'NameEditor'\r\n  | 'BioEditor'\r\n  | 'PasswordEditor'\r\n  | 'PrivacyEditor';\r\n\r\nconst useSettings = () => {\r\n  const {\r\n    email,\r\n    username,\r\n    bio,\r\n    emailVisibility,\r\n    lastSeenVisibility,\r\n    profilePhotosVisibility,\r\n    messageSender,\r\n    fullName,\r\n  } = useAccount();\r\n\r\n  const [activeModal, setActiveModal] = useState<ModalName | null>(null);\r\n  const [modalPayload, setModalPayload] = useState<unknown>(null);\r\n\r\n  const openModal = useCallback((modalName: ModalName, payload?: unknown) => {\r\n    setModalPayload(payload);\r\n    setActiveModal(modalName);\r\n  }, []);\r\n\r\n  const closeModal = useCallback(() => setActiveModal(null), []);\r\n\r\n  const accountSettingsItems: SettingsItem[] = useMemo(\r\n    () => [\r\n      {\r\n        title: username ? `@${username}` : 'Username',\r\n        description: username ? `Click to change username` : 'Click to add username',\r\n        onClick: () => openModal('UsernameEditor'),\r\n      },\r\n      {\r\n        title: fullName,\r\n        description: 'Name',\r\n        onClick: () => openModal('NameEditor'),\r\n      },\r\n      {\r\n        title: bio ? bio : 'Bio',\r\n        description: bio ? 'Bio' : 'Add a few words about yourself',\r\n        onClick: () => openModal('BioEditor'),\r\n      },\r\n      { title: email || '', description: 'Email', onClick: undefined },\r\n    ],\r\n    [bio, email, fullName, openModal, username],\r\n  );\r\n\r\n  const securitySettingsItems: SettingsItem[] = useMemo(\r\n    () => [\r\n      {\r\n        title: 'Password',\r\n        description: 'Click to change password',\r\n        onClick: () => openModal('PasswordEditor'),\r\n      },\r\n      {\r\n        title: 'Blocked Users',\r\n        description: 'You blocked 0 users',\r\n        onClick: undefined,\r\n      },\r\n    ],\r\n    [openModal],\r\n  );\r\n\r\n  const privacySettingsItems: SettingsItem[] = useMemo(\r\n    () => [\r\n      {\r\n        title: PRIVACY_SETTINGS_CONFIG.emailVisibility.title,\r\n        description: VISIBILITY_OPTION_LABELS[emailVisibility],\r\n        onClick: () => openModal('PrivacyEditor', 'emailVisibility'),\r\n      },\r\n      {\r\n        title: PRIVACY_SETTINGS_CONFIG.lastSeenVisibility.title,\r\n        description: VISIBILITY_OPTION_LABELS[lastSeenVisibility],\r\n        onClick: () => openModal('PrivacyEditor', 'lastSeenVisibility'),\r\n      },\r\n      {\r\n        title: PRIVACY_SETTINGS_CONFIG.profilePhotosVisibility.title,\r\n        description: VISIBILITY_OPTION_LABELS[profilePhotosVisibility],\r\n        onClick: () => openModal('PrivacyEditor', 'profilePhotosVisibility'),\r\n      },\r\n      {\r\n        title: PRIVACY_SETTINGS_CONFIG.messageSender.title,\r\n        description: VISIBILITY_OPTION_LABELS[messageSender],\r\n        onClick: () => openModal('PrivacyEditor', 'messageSender'),\r\n      },\r\n    ],\r\n    [\r\n      emailVisibility,\r\n      lastSeenVisibility,\r\n      messageSender,\r\n      openModal,\r\n      profilePhotosVisibility,\r\n    ],\r\n  );\r\n\r\n  return {\r\n    accountSettingsItems,\r\n    securitySettingsItems,\r\n    privacySettingsItems,\r\n    activeModal,\r\n    modalPayload,\r\n    closeModal,\r\n  };\r\n};\r\n\r\nexport default useSettings;\r\n","import { useState } from 'react';\r\nimport {\r\n  checkConfirmPassword,\r\n  checkCurrentPassword,\r\n  checkNewPassword\r\n} from './utils';\r\nimport useAccountUpdater from '../../hooks/useAccountUpdater';\r\n\r\nexport const PASSWORD_UPDATE_STEPS = {\r\n  NEW_PASSWORD: 'new_password',\r\n  CONFIRM_PASSWORD: 'confirm_password',\r\n  CURRENT_PASSWORD: 'current_password'\r\n};\r\n\r\nconst usePasswordUpdate = (onClose) => {\r\n  const [currentStep, setCurrentStep] = useState(\r\n    PASSWORD_UPDATE_STEPS.NEW_PASSWORD\r\n  );\r\n\r\n  const [newPassword, setNewPassword] = useState('');\r\n  const [confirmPassword, setConfirmPassword] = useState('');\r\n  const [currentPassword, setCurrentPassword] = useState('');\r\n\r\n  const [newPasswordError, setNewPasswordError] = useState('');\r\n  const [confirmPasswordError, setConfirmPasswordError] = useState('');\r\n  const [currentPasswordError, setCurrentPasswordError] = useState('');\r\n\r\n  const handleBackNav = () => {\r\n    switch (currentStep) {\r\n      case PASSWORD_UPDATE_STEPS.NEW_PASSWORD:\r\n        onClose();\r\n        break;\r\n\r\n      case PASSWORD_UPDATE_STEPS.CONFIRM_PASSWORD:\r\n        setCurrentStep(PASSWORD_UPDATE_STEPS.NEW_PASSWORD);\r\n        break;\r\n\r\n      case PASSWORD_UPDATE_STEPS.CURRENT_PASSWORD:\r\n        setCurrentStep(PASSWORD_UPDATE_STEPS.CONFIRM_PASSWORD);\r\n        break;\r\n    }\r\n  };\r\n\r\n  const { updateAccount, isUpdating } = useAccountUpdater();\r\n\r\n  const updatePassword = async () => {\r\n    const { success, message } = await updateAccount({\r\n      newPassword: newPassword.trim(),\r\n      password: currentPassword.trim()\r\n    });\r\n    if (success) {\r\n      onClose();\r\n    } else {\r\n      setCurrentPasswordError(message || '');\r\n    }\r\n  };\r\n\r\n  const validateNewPassword = () => {\r\n    return checkNewPassword(newPassword.trim());\r\n  };\r\n\r\n  const validateConfirmPassword = () => {\r\n    const trimmedConfirmPassword = confirmPassword.trim();\r\n    const error = checkConfirmPassword(trimmedConfirmPassword);\r\n    if (error) {\r\n      return error;\r\n    }\r\n    if (trimmedConfirmPassword !== newPassword.trim()) {\r\n      return 'Passwords do not match';\r\n    }\r\n    return '';\r\n  };\r\n\r\n  const validateCurrentPassword = () => {\r\n    return checkCurrentPassword(currentPassword.trim());\r\n  };\r\n\r\n  const handleNextNav = () => {\r\n    switch (currentStep) {\r\n      case PASSWORD_UPDATE_STEPS.NEW_PASSWORD: {\r\n        const error = validateNewPassword();\r\n        if (error) {\r\n          setNewPasswordError(error);\r\n        } else {\r\n          setCurrentStep(PASSWORD_UPDATE_STEPS.CONFIRM_PASSWORD);\r\n        }\r\n        break;\r\n      }\r\n\r\n      case PASSWORD_UPDATE_STEPS.CONFIRM_PASSWORD: {\r\n        const error = validateConfirmPassword();\r\n        if (error) {\r\n          setConfirmPasswordError(error);\r\n        } else {\r\n          setCurrentStep(PASSWORD_UPDATE_STEPS.CURRENT_PASSWORD);\r\n        }\r\n        break;\r\n      }\r\n\r\n      case PASSWORD_UPDATE_STEPS.CURRENT_PASSWORD: {\r\n        const error = validateCurrentPassword();\r\n        if (error) {\r\n          setCurrentPasswordError(error);\r\n        } else {\r\n          updatePassword();\r\n        }\r\n        break;\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleNewPasswordChange = (event) => {\r\n    setNewPassword(event.target.value);\r\n    setNewPasswordError('');\r\n  };\r\n\r\n  const handleConfirmPasswordChange = (event) => {\r\n    setConfirmPassword(event.target.value);\r\n    setConfirmPasswordError('');\r\n  };\r\n\r\n  const handleCurrentPasswordChange = (event) => {\r\n    setCurrentPassword(event.target.value);\r\n    setCurrentPasswordError('');\r\n  };\r\n\r\n  return {\r\n    currentStep,\r\n\r\n    newPassword,\r\n    confirmPassword,\r\n    currentPassword,\r\n\r\n    newPasswordError,\r\n    confirmPasswordError,\r\n    currentPasswordError,\r\n\r\n    handleNewPasswordChange,\r\n    handleConfirmPasswordChange,\r\n    handleCurrentPasswordChange,\r\n\r\n    handleBackNav,\r\n    handleNextNav,\r\n\r\n    isLoading: isUpdating\r\n  };\r\n};\r\n\r\nexport default usePasswordUpdate;\r\n","const MIN_PWD_LENGTH = 4;\r\n\r\nexport function checkNewPassword(password) {\r\n  if (typeof password !== 'string') {\r\n    return 'Invalid Password';\r\n  }\r\n  if (password.length === 0) {\r\n    return 'Password is required';\r\n  }\r\n  if (password.length < MIN_PWD_LENGTH) {\r\n    return 'Password too short';\r\n  }\r\n  return '';\r\n}\r\n\r\nexport function checkConfirmPassword(password) {\r\n  if (typeof password !== 'string') {\r\n    return 'Invalid Password';\r\n  }\r\n  if (password.length === 0) {\r\n    return 'Confirm password is required';\r\n  }\r\n  return '';\r\n}\r\n\r\nexport function checkCurrentPassword(password) {\r\n  if (typeof password !== 'string') {\r\n    return 'Invalid Password';\r\n  }\r\n  if (password.length === 0) {\r\n    return 'Password is required';\r\n  }\r\n  if (password.length < MIN_PWD_LENGTH) {\r\n    return 'Invalid password';\r\n  }\r\n  return '';\r\n}\r\n","import type { CSSProperties, FC } from 'react';\r\nimport EditorModal from '../EditorModal';\r\nimport Spinner from '../../../../Spinner';\r\nimport TextInput from '../TextInput';\r\nimport usePasswordUpdate, { PASSWORD_UPDATE_STEPS } from './usePasswordUpdate';\r\n\r\ninterface PasswordEditorProps {\r\n  animationStyle: CSSProperties;\r\n  onClose: () => void;\r\n}\r\n\r\nconst PasswordEditor: FC<PasswordEditorProps> = ({\r\n  animationStyle,\r\n  onClose,\r\n}) => {\r\n  const {\r\n    currentStep,\r\n\r\n    newPassword,\r\n    confirmPassword,\r\n    currentPassword,\r\n\r\n    newPasswordError,\r\n    confirmPasswordError,\r\n    currentPasswordError,\r\n\r\n    handleNewPasswordChange,\r\n    handleConfirmPasswordChange,\r\n    handleCurrentPasswordChange,\r\n\r\n    handleBackNav,\r\n    handleNextNav,\r\n\r\n    isLoading,\r\n  } = usePasswordUpdate(onClose);\r\n\r\n  return (\r\n    <EditorModal\r\n      title=\"Change Password\"\r\n      animationStyle={animationStyle}\r\n      onClose={handleBackNav}\r\n      onDone={handleNextNav}\r\n      leftButtonConfig={{\r\n        label:\r\n          currentStep === PASSWORD_UPDATE_STEPS.NEW_PASSWORD\r\n            ? 'Cancel'\r\n            : 'Previous',\r\n      }}\r\n      rightButtonConfig={{\r\n        label:\r\n          currentStep === PASSWORD_UPDATE_STEPS.CURRENT_PASSWORD\r\n            ? 'Done'\r\n            : 'Next',\r\n      }}\r\n    >\r\n      {currentStep === PASSWORD_UPDATE_STEPS.NEW_PASSWORD && (\r\n        <TextInput\r\n          label=\"New password\"\r\n          type=\"password\"\r\n          name=\"newPassword\"\r\n          placeholder=\"Password\"\r\n          value={newPassword}\r\n          onChange={handleNewPasswordChange}\r\n          onEnterPress={handleNextNav}\r\n          helperText=\"Choose a strong password.\"\r\n          errorMessage={newPasswordError}\r\n        />\r\n      )}\r\n      {currentStep === PASSWORD_UPDATE_STEPS.CONFIRM_PASSWORD && (\r\n        <TextInput\r\n          label=\"Confirm password\"\r\n          type=\"password\"\r\n          name=\"confirmPassword\"\r\n          placeholder=\"Password\"\r\n          value={confirmPassword}\r\n          onChange={handleConfirmPasswordChange}\r\n          onEnterPress={handleNextNav}\r\n          helperText=\"Confirm your new password.\"\r\n          errorMessage={confirmPasswordError}\r\n        />\r\n      )}\r\n      {currentStep === PASSWORD_UPDATE_STEPS.CURRENT_PASSWORD && (\r\n        <TextInput\r\n          label=\"Current password\"\r\n          type=\"password\"\r\n          name=\"currentPassword\"\r\n          placeholder=\"Password\"\r\n          value={currentPassword}\r\n          onChange={handleCurrentPasswordChange}\r\n          onEnterPress={handleNextNav}\r\n          helperText=\"Your current password helps us verify your identity.\"\r\n          errorMessage={currentPasswordError}\r\n        />\r\n      )}\r\n      {isLoading && <Spinner />}\r\n    </EditorModal>\r\n  );\r\n};\r\n\r\nexport default PasswordEditor;\r\n","'use strict';\r\n\r\nimport React from 'react';\r\nimport styled, { css, keyframes } from 'styled-components';\r\n\r\nexport { default as useSpinner } from './useSpinner';\r\n\r\nconst SpinnerPage = styled.div`\r\n  position: fixed;\r\n  z-index: 400;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background: rgba(0, 0, 0, 0.35);\r\n`;\r\n\r\nconst SpinnerContainer = styled.div`\r\n  width: 160px;\r\n  height: 160px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background: #272d43;\r\n  border-radius: 25px;\r\n`;\r\n\r\nconst rotate = keyframes`${css`\r\n  0% {\r\n    transform: rotate(0deg);\r\n  }\r\n\r\n  100% {\r\n    transform: rotate(360deg);\r\n  }\r\n`}\r\n`;\r\n\r\nconst SpinnerCanvas = styled.canvas`\r\n  animation: 1s linear infinite ${rotate};\r\n`;\r\n\r\nexport default function Spinner() {\r\n  const onMount = (element) => {\r\n    if (element) {\r\n      const ctx = element.getContext('2d');\r\n      ctx.clearRect(0, 0, 120, 120);\r\n      ctx.lineWidth = 4;\r\n      ctx.lineCap = 'round';\r\n      ctx.strokeStyle = '#6c868f';\r\n      ctx.beginPath();\r\n      ctx.arc(60, 60, 35, 0, 1.7 * Math.PI);\r\n      ctx.stroke();\r\n    }\r\n  };\r\n  return (\r\n    <SpinnerPage>\r\n      <SpinnerContainer>\r\n        <SpinnerCanvas ref={onMount} width=\"120\" height=\"120\" />\r\n      </SpinnerContainer>\r\n    </SpinnerPage>\r\n  );\r\n}\r\n","import styled, { css } from 'styled-components';\r\nimport { StyleProps } from '@/types';\r\nimport { RadioButtonBallIcon, RadioButtonIcon } from '@/components/icons';\r\n\r\nexport const RadioButtonContainer = styled.div`\r\n  margin: 1.4rem 0;\r\n  display: flex;\r\n  align-items: center;\r\n`;\r\n\r\nexport const RadioButtonIconContainer = styled.div`\r\n  position: relative;\r\n  width: 1.5rem;\r\n  height: 1.5rem;\r\n  color: #2a81c7;\r\n`;\r\n\r\nexport const RadioButtonIconStyled = styled(RadioButtonIcon)`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  z-index: 5;\r\n  cursor: pointer;\r\n`;\r\n\r\nexport const RadioButtonBallIconStyled = styled(RadioButtonBallIcon)<{\r\n  $isVisible: boolean;\r\n}>`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  transform: scale(0);\r\n  transition: transform 0.17s ease-in-out;\r\n  ${(props) =>\r\n    props.$isVisible &&\r\n    css`\r\n      transform: scale(1);\r\n    `}\r\n`;\r\n\r\nexport const RadioButtonLabel = styled.label`\r\n  padding-left: 1rem;\r\n  align-self: center;\r\n  cursor: pointer;\r\n  font-size: 1rem;\r\n  font-weight: 400;\r\n  color: ${(props: StyleProps) => props.theme.textColors?.normal};\r\n`;\r\n","import { FC } from 'react';\r\nimport {\r\n  RadioButtonIconStyled,\r\n  RadioButtonBallIconStyled,\r\n  RadioButtonContainer,\r\n  RadioButtonLabel,\r\n  RadioButtonIconContainer\r\n} from './styles';\r\n\r\ninterface RadioButtonProps {\r\n  isChecked: boolean;\r\n  label: string;\r\n  value: string;\r\n  onCheck: (e: unknown) => void;\r\n}\r\n\r\nconst RadioButton: FC<RadioButtonProps> = ({\r\n  isChecked,\r\n  label,\r\n  value,\r\n  onCheck\r\n}) => {\r\n  return (\r\n    <RadioButtonContainer>\r\n      <RadioButtonIconContainer>\r\n        <RadioButtonIconStyled\r\n          role=\"radio\"\r\n          data-value={value}\r\n          onClick={onCheck}\r\n        />\r\n\r\n        <RadioButtonBallIconStyled $isVisible={isChecked} />\r\n      </RadioButtonIconContainer>\r\n\r\n      <RadioButtonLabel data-value={value} onClick={onCheck}>\r\n        {label}\r\n      </RadioButtonLabel>\r\n    </RadioButtonContainer>\r\n  );\r\n};\r\n\r\nexport default RadioButton;\r\n","import styled from 'styled-components';\r\n\r\nexport const VisibilityChoicesContainer = styled.div`\r\n`;\r\n","import React, { CSSProperties, type FC, useState } from 'react';\r\nimport Spinner from '../../../../components/spinner';\r\nimport { useAppSelector } from '../../../../hooks';\r\nimport {\r\n  PRIVACY_SETTINGS_CONFIG,\r\n  VISIBILITY_OPTION_LABELS,\r\n} from '../../constants';\r\nimport useAccountUpdater from '../../hooks/useAccountUpdater';\r\nimport type { PrivacySettingConfigItem } from '../../types';\r\nimport EditorModal from '../EditorModal';\r\nimport RadioButton from '../RadioButton';\r\nimport { VisibilityChoicesContainer } from './styles';\r\n\r\ninterface PrivacyEditorProps {\r\n  settingKey: string;\r\n  animationStyle: CSSProperties;\r\n  onClose: () => void;\r\n}\r\n\r\nconst PrivacyEditor: FC<PrivacyEditorProps> = ({\r\n  settingKey,\r\n  animationStyle,\r\n  onClose,\r\n}) => {\r\n  const { title, visibilityChoices }: PrivacySettingConfigItem =\r\n    PRIVACY_SETTINGS_CONFIG[settingKey];\r\n\r\n  const account = useAppSelector((state) => state.account);\r\n  if (!account) throw new Error('Invalid account!');\r\n\r\n  const [value, setValue] = useState(account[settingKey]);\r\n\r\n  const handleValueChange = (e) => setValue(e.target.dataset.value);\r\n\r\n  const { updateAccount, isUpdating } = useAccountUpdater();\r\n\r\n  const updateSetting = async () => {\r\n    const { success, message } = await updateAccount({\r\n      [settingKey]: value,\r\n    });\r\n    if (success) {\r\n      onClose();\r\n    } else {\r\n      console.error(message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <EditorModal\r\n      title={title}\r\n      animationStyle={animationStyle}\r\n      onDone={updateSetting}\r\n      onClose={onClose}\r\n    >\r\n      <VisibilityChoicesContainer>\r\n        {visibilityChoices.map((visibilityChoice, index) => (\r\n          <RadioButton\r\n            key={`${\r\n              // biome-ignore lint/suspicious/noArrayIndexKey: <explanation>\r\n              index\r\n            }`}\r\n            isChecked={visibilityChoice === value}\r\n            label={VISIBILITY_OPTION_LABELS[visibilityChoice]}\r\n            value={visibilityChoice}\r\n            onCheck={handleValueChange}\r\n          />\r\n        ))}\r\n      </VisibilityChoicesContainer>\r\n\r\n      {isUpdating && <Spinner />}\r\n    </EditorModal>\r\n  );\r\n};\r\n\r\nexport default PrivacyEditor;\r\n","import { type CSSProperties, type FC, useMemo, useState } from 'react';\r\nimport ProfilePhotoSettings from './components/ProfilePhotoSettings';\r\nimport {\r\n  ArrowIconContainer,\r\n  Description,\r\n  MainTitle,\r\n  MenuDivider,\r\n  MenuItemButton,\r\n  NavMenu,\r\n  NavMenuContainer,\r\n  SettingsCategoryContainer,\r\n  SettingsItemContainer,\r\n  SettingsPage,\r\n  SettingsPageHeader,\r\n  SettingsPageOverlay,\r\n  Title\r\n} from './styles';\r\nimport UsernameEditor from './components/UsernameEditor';\r\nimport NameEditor from './components/NameEditor';\r\nimport BioEditor from './components/BioEditor';\r\nimport { NextIcon } from '@/components/icons';\r\nimport useSettings from './useSettings';\r\nimport PasswordEditor from './components/PasswordEditor';\r\nimport PrivacyEditor from './components/PrivacyEditor';\r\nimport { BackButton, CloseButton } from '@/components/buttons';\r\nimport { useAppContext, useAnimation } from '@/hooks';\r\n\r\ntype SettingsCategory = 'account' | 'profilePhoto' | 'security' | 'privacy';\r\n\r\ninterface SettingsProps {\r\n  animationStyle: CSSProperties;\r\n  onClose: () => void;\r\n}\r\n\r\nconst Settings: FC<SettingsProps> = ({ animationStyle, onClose }) => {\r\n  const { windowWidth } = useAppContext();\r\n\r\n  const {\r\n    accountSettingsItems,\r\n    securitySettingsItems,\r\n    privacySettingsItems,\r\n    activeModal,\r\n    modalPayload,\r\n    closeModal\r\n  } = useSettings();\r\n\r\n  const [category, setCategory] = useState<SettingsCategory>('profilePhoto');\r\n\r\n  const accountSettingsElements = useMemo(\r\n    () =>\r\n      accountSettingsItems.map((item, index) => (\r\n        <SettingsItemContainer\r\n          key={`${index}-${item.title}`}\r\n          onClick={item.onClick}\r\n        >\r\n          <div>\r\n            <Title>{item.title}</Title>\r\n            <Description>{item.description}</Description>\r\n          </div>\r\n\r\n          <ArrowIconContainer>\r\n            <NextIcon />\r\n          </ArrowIconContainer>\r\n        </SettingsItemContainer>\r\n      )),\r\n\r\n    [accountSettingsItems]\r\n  );\r\n\r\n  const securitySettingsElements = useMemo(\r\n    () =>\r\n      securitySettingsItems.map((item, index) => (\r\n        <SettingsItemContainer\r\n          key={`${index}-${item.title}`}\r\n          onClick={item.onClick}\r\n        >\r\n          <div>\r\n            <Title>{item.title}</Title>\r\n            <Description>{item.description}</Description>\r\n          </div>\r\n\r\n          <ArrowIconContainer>\r\n            <NextIcon />\r\n          </ArrowIconContainer>\r\n        </SettingsItemContainer>\r\n      )),\r\n    [securitySettingsItems]\r\n  );\r\n\r\n  const privacySettingsElements = useMemo(\r\n    () =>\r\n      privacySettingsItems.map((item, index) => (\r\n        <SettingsItemContainer\r\n          key={`${index}-${item.title}`}\r\n          onClick={item.onClick}\r\n        >\r\n          <div>\r\n            <Title>{item.title}</Title>\r\n            <Description>{item.description}</Description>\r\n          </div>\r\n\r\n          <ArrowIconContainer>\r\n            <NextIcon />\r\n          </ArrowIconContainer>\r\n        </SettingsItemContainer>\r\n      )),\r\n    [privacySettingsItems]\r\n  );\r\n\r\n  const usernameEditorAnimation = useAnimation(\r\n    activeModal === 'UsernameEditor'\r\n  );\r\n\r\n  const nameEditorAnimation = useAnimation(activeModal === 'NameEditor');\r\n\r\n  const bioEditorAnimation = useAnimation(activeModal === 'BioEditor');\r\n\r\n  const passwordEditorAnimation = useAnimation(\r\n    activeModal === 'PasswordEditor'\r\n  );\r\n\r\n  const privacyEditorAnimation = useAnimation(activeModal === 'PrivacyEditor');\r\n\r\n  return (\r\n    <SettingsPageOverlay style={{ ...animationStyle, transform: undefined }}>\r\n      <SettingsPage style={animationStyle} $windowWidth={windowWidth}>\r\n        {windowWidth > 500 && (\r\n          <SettingsPageHeader>\r\n            <MainTitle>Settings</MainTitle>\r\n            <CloseButton onClick={onClose} />\r\n          </SettingsPageHeader>\r\n        )}\r\n\r\n        <NavMenuContainer>\r\n          {windowWidth <= 500 && <BackButton onClick={onClose} />}\r\n          <NavMenu $windowWidth={windowWidth}>\r\n            <MenuItemButton\r\n              $isActive={category === 'account'}\r\n              onClick={() => setCategory('account')}\r\n            >\r\n              Account\r\n            </MenuItemButton>\r\n            <MenuDivider />\r\n\r\n            <MenuItemButton\r\n              $isActive={category === 'profilePhoto'}\r\n              onClick={() => setCategory('profilePhoto')}\r\n            >\r\n              Profile Photo\r\n            </MenuItemButton>\r\n            <MenuDivider />\r\n\r\n            <MenuItemButton\r\n              $isActive={category === 'security'}\r\n              onClick={() => setCategory('security')}\r\n            >\r\n              Security\r\n            </MenuItemButton>\r\n            <MenuDivider />\r\n\r\n            <MenuItemButton\r\n              $isActive={category === 'privacy'}\r\n              onClick={() => setCategory('privacy')}\r\n            >\r\n              Privacy\r\n            </MenuItemButton>\r\n          </NavMenu>\r\n        </NavMenuContainer>\r\n\r\n        {category === 'profilePhoto' && <ProfilePhotoSettings />}\r\n\r\n        {category === 'account' && (\r\n          <SettingsCategoryContainer>\r\n            {accountSettingsElements}\r\n          </SettingsCategoryContainer>\r\n        )}\r\n\r\n        {category === 'security' && (\r\n          <SettingsCategoryContainer>\r\n            {securitySettingsElements}\r\n          </SettingsCategoryContainer>\r\n        )}\r\n\r\n        {category === 'privacy' && (\r\n          <SettingsCategoryContainer>\r\n            {privacySettingsElements}\r\n          </SettingsCategoryContainer>\r\n        )}\r\n\r\n        {usernameEditorAnimation.isMounted && (\r\n          <UsernameEditor\r\n            onClose={closeModal}\r\n            animationStyle={usernameEditorAnimation.animationStyle}\r\n          />\r\n        )}\r\n\r\n        {nameEditorAnimation.isMounted && (\r\n          <NameEditor\r\n            onClose={closeModal}\r\n            animationStyle={nameEditorAnimation.animationStyle}\r\n          />\r\n        )}\r\n\r\n        {bioEditorAnimation.isMounted && (\r\n          <BioEditor\r\n            onClose={closeModal}\r\n            animationStyle={bioEditorAnimation.animationStyle}\r\n          />\r\n        )}\r\n\r\n        {passwordEditorAnimation.isMounted && (\r\n          <PasswordEditor\r\n            onClose={closeModal}\r\n            animationStyle={passwordEditorAnimation.animationStyle}\r\n          />\r\n        )}\r\n\r\n        {privacyEditorAnimation.isMounted && (\r\n          <PrivacyEditor\r\n            settingKey={modalPayload as string}\r\n            onClose={closeModal}\r\n            animationStyle={privacyEditorAnimation.animationStyle}\r\n          />\r\n        )}\r\n      </SettingsPage>\r\n    </SettingsPageOverlay>\r\n  );\r\n};\r\n\r\nexport default Settings;\r\n","import styled from 'styled-components';\r\n\r\nconst MenuButtonStyled = styled.button`\r\n  position: fixed;\r\n  top: 1rem;\r\n  left: 1rem;\r\n  height: 1.3rem;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n`;\r\n\r\nconst Dash = styled.span`\r\n  display: block;\r\n  width: 2rem;\r\n  height: 3px;\r\n  background: #aaaaaa;\r\n`;\r\n\r\nconst MenuButton = ({ onClick }) => {\r\n  return (\r\n    <MenuButtonStyled onClick={onClick}>\r\n      <Dash />\r\n      <Dash />\r\n      <Dash />\r\n    </MenuButtonStyled>\r\n  );\r\n};\r\n\r\nexport default MenuButton;\r\n","import React, { useCallback, useState } from 'react';\r\nimport { useNavigate } from 'react-router';\r\nimport {\r\n  useAccount,\r\n  useAnimation,\r\n  useAppContext,\r\n  useImageLoader\r\n} from '@/hooks';\r\nimport {\r\n  IconContainer,\r\n  ImageIcon,\r\n  MenuItemButton,\r\n  MenuItemLabel,\r\n  MenuItemsContainer,\r\n  NameStyled,\r\n  ProfilePhotoContainer,\r\n  ProfilePhotoStyled,\r\n  ProfileStyled,\r\n  SideBarOverlay,\r\n  SideBarStyled,\r\n  SidebarToggleButton\r\n} from './styles';\r\nimport {\r\n  CloseIcon,\r\n  LogoutIcon,\r\n  NextIcon,\r\n  SettingsIcon\r\n} from '@/components/icons';\r\nimport NameInitial from '@/components/NameInitial';\r\nimport Settings from '../Settings';\r\nimport MenuButton from '@/components/MenuButton';\r\nimport { useLocation } from 'react-router';\r\n\r\nconst SideBar = () => {\r\n  const navigate = useNavigate();\r\n\r\n  const { isLargeScreen } = useAppContext();\r\n\r\n  // Letting Sidebar component control its visibilty make it faster opening and closing\r\n  // sidebar. using app context to control its visibility make it slow.\r\n  // The menu button that opens it in small screen device is rendered here to access the\r\n  // showSidebar callback. it is styled in fixed position so that it will be visible at\r\n  // the exact place it needed. it is also only visible on '/' route.\r\n  const [isSidebarVisible, setIsSidebarVisible] = useState(false);\r\n  const showSidebar = useCallback(() => setIsSidebarVisible(true), []);\r\n  const hideSidebar = useCallback(() => setIsSidebarVisible(false), []);\r\n  const toggleSidebar = useCallback(\r\n    () => setIsSidebarVisible((prevValue) => !prevValue),\r\n    []\r\n  );\r\n\r\n  const isVisible = isSidebarVisible;\r\n\r\n  const { fullName, nameInitials, photoUrl, logout } = useAccount();\r\n\r\n  const { handleImageLoad, imageSrc } = useImageLoader(photoUrl);\r\n\r\n  // Rendering Settings page here in Sidebar component make the opening and closing of\r\n  // Settings page faster and responsive, because the whole app's components do not rerender.\r\n  const [isSettingsVisible, setIsSettingsVisible] = useState(false);\r\n  const openSettings = useCallback(() => setIsSettingsVisible(true), []);\r\n  const closeSettings = useCallback(() => setIsSettingsVisible(false), []);\r\n  const settingsAnimation = useAnimation(isSettingsVisible);\r\n\r\n  const openSettingsPage = () => {\r\n    if (isSidebarVisible) hideSidebar();\r\n    openSettings();\r\n  };\r\n\r\n  const navigateToContacts = () => {\r\n    hideSidebar();\r\n    navigate('/chat/2');\r\n  };\r\n\r\n  const menuItems = [\r\n    {\r\n      onClick: navigateToContacts,\r\n      icon: <ImageIcon src=\"/icons/user.png\" alt=\"icon\" />,\r\n      label: 'Contacts'\r\n    },\r\n    {\r\n      onClick: openSettingsPage,\r\n      icon: <SettingsIcon />,\r\n      label: 'Settings'\r\n    },\r\n    {\r\n      onClick: logout,\r\n      icon: <LogoutIcon />,\r\n      label: 'Log out'\r\n    }\r\n  ];\r\n\r\n  const location = useLocation();\r\n\r\n  const handleOverlayClick = (e: React.MouseEvent<HTMLElement>) => {\r\n    if (e.target === e.currentTarget) hideSidebar();\r\n  };\r\n\r\n  return (\r\n    <SideBarOverlay $isVisible={isVisible} onClick={handleOverlayClick}>\r\n      {!isLargeScreen && location.pathname === '/' && (\r\n        <MenuButton onClick={showSidebar} />\r\n      )}\r\n\r\n      {settingsAnimation.isMounted && (\r\n        <Settings\r\n          onClose={closeSettings}\r\n          animationStyle={settingsAnimation.animationStyle}\r\n        />\r\n      )}\r\n\r\n      <SideBarStyled $isLargeScreen={isLargeScreen} $isVisible={isVisible}>\r\n        <SidebarToggleButton onClick={toggleSidebar}>\r\n          {isVisible ? <CloseIcon /> : <NextIcon />}\r\n        </SidebarToggleButton>\r\n\r\n        <ProfileStyled $isVisible={isVisible} onClick={openSettingsPage}>\r\n          <ProfilePhotoContainer>\r\n            {imageSrc ? (\r\n              <ProfilePhotoStyled\r\n                src={imageSrc}\r\n                onLoad={handleImageLoad}\r\n                alt=\"Profile Photo\"\r\n              />\r\n            ) : (\r\n              <NameInitial nameInitials={nameInitials} isSmall={true} />\r\n            )}\r\n          </ProfilePhotoContainer>\r\n\r\n          <NameStyled>{fullName}</NameStyled>\r\n        </ProfileStyled>\r\n\r\n        <MenuItemsContainer\r\n          $isVisible={isVisible}\r\n          $isLargeScreen={isLargeScreen}\r\n        >\r\n          {menuItems.map((item) => (\r\n            <MenuItemButton key={item.label} onClick={item.onClick}>\r\n              <IconContainer>{item.icon}</IconContainer>\r\n              {isVisible && <MenuItemLabel>{item.label}</MenuItemLabel>}\r\n            </MenuItemButton>\r\n          ))}\r\n        </MenuItemsContainer>\r\n      </SideBarStyled>\r\n    </SideBarOverlay>\r\n  );\r\n};\r\n\r\nexport default SideBar;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nexport const InputGroup = styled.div`\r\n  margin-bottom: 1.5rem;\r\n`;\r\n\r\nconst InputLabel = styled.label`\r\n  font-size: 1rem;\r\n  font-weight: 500;\r\n  color: #b1b1b1;\r\n`;\r\n\r\nconst InputField = styled.input`\r\n  width: 300px;\r\n  padding: 0.4rem 0.6rem;\r\n  outline-style: none;\r\n  box-shadow: none;\r\n  border: 1px solid #2f8396;\r\n  border-radius: 0;\r\n  font-size: 1.1rem;\r\n  font-weight: 400;\r\n  color: #c2c2c2;\r\n  background-color: transparent;\r\n  caret-color: #03ffe7;\r\n  &:focus {\r\n    border-color: #1fb5d6;\r\n  }\r\n`;\r\n\r\nconst InputError = styled.p`\r\n  margin-left: 3px;\r\n  font-size: 0.9rem;\r\n  font-weight: 500;\r\n  color: #b93917;\r\n`;\r\n\r\nexport default function TextInput({\r\n  label,\r\n  type = 'text',\r\n  name,\r\n  placeholder = '',\r\n  value,\r\n  shouldFocus,\r\n  onChangeListener,\r\n  onEnter,\r\n  error,\r\n  shakeError\r\n}) {\r\n  const onInputMount = (element) => {\r\n    if (element && shouldFocus) {\r\n      element.focus();\r\n    }\r\n  };\r\n  const keyDownHandeler = (event) => {\r\n    if (event.key === 'Enter') {\r\n      event.preventDefault();\r\n      onEnter(event);\r\n    }\r\n  };\r\n  const onInfoMount = (element) => {\r\n    if (element && error && shakeError) {\r\n      element.animate(\r\n        [\r\n          { transform: 'translateX(0px)' },\r\n          { transform: 'translateX(12px)' },\r\n          { transform: 'translateX(0px)' },\r\n          { transform: 'translateX(12px)' },\r\n          { transform: 'translateX(0px)' }\r\n        ],\r\n        700\r\n      );\r\n    }\r\n  };\r\n  const id = `id-${name}`;\r\n  return (\r\n    <InputGroup>\r\n      <InputLabel htmlFor={id}>{label}</InputLabel>\r\n      <InputField\r\n        type={type}\r\n        name={name}\r\n        placeholder={placeholder}\r\n        value={value}\r\n        ref={onInputMount}\r\n        onKeyDown={keyDownHandeler}\r\n        onInput={onChangeListener}\r\n        id={id}\r\n      />\r\n      {error && <InputError ref={onInfoMount}>{error}</InputError>}\r\n    </InputGroup>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport TextInput from '../TextInput';\r\n\r\nexport default function EmailInput({\r\n  value,\r\n  shouldFocus,\r\n  onChangeListener,\r\n  onEnter,\r\n  error,\r\n  shakeError\r\n}) {\r\n  return (\r\n    <TextInput\r\n      {...{\r\n        label: 'Email',\r\n        type: 'email',\r\n        name: 'email',\r\n        value,\r\n        shouldFocus,\r\n        onChangeListener,\r\n        onEnter,\r\n        error,\r\n        shakeError\r\n      }}\r\n    />\r\n  );\r\n}\r\n\r\nexport function checkEmail(email) {\r\n  if (typeof email !== 'string') {\r\n    return 'Invalid email.';\r\n  }\r\n  if (email.length === 0) {\r\n    return 'Email is required.';\r\n  }\r\n  email = email.split('@');\r\n  if (email.length !== 2) {\r\n    return 'Invalid email.';\r\n  }\r\n  const [id, domain] = email;\r\n  if (!/^\\w+([.-]?\\w+)*$/.test(id)) {\r\n    return 'Invalid email.';\r\n  }\r\n  const index = domain.lastIndexOf('.');\r\n  if (index === -1) {\r\n    return 'Invalid email.';\r\n  }\r\n  const domainId = domain.substring(0, index);\r\n  if (!/^\\w+([.-]?\\w+)*$/.test(domainId)) {\r\n    return 'Invalid email.';\r\n  }\r\n  const domainExt = domain.substring(index);\r\n  if (!/^\\.\\w{1,6}$/.test(domainExt)) {\r\n    return 'Invalid email.';\r\n  }\r\n  return '';\r\n}\r\n","import React from 'react';\r\nimport TextInput from '../TextInput';\r\n\r\nconst MIN_PASSWORD_LENGTH = 4;\r\n\r\nexport default function PasswordInput({\r\n  value,\r\n  shouldFocus,\r\n  onChangeListener,\r\n  onEnter,\r\n  error,\r\n  shakeError\r\n}) {\r\n  return (\r\n    <TextInput\r\n      {...{\r\n        label: 'Password',\r\n        type: 'password',\r\n        name: 'password',\r\n        value,\r\n        shouldFocus,\r\n        onChangeListener,\r\n        onEnter,\r\n        error,\r\n        shakeError\r\n      }}\r\n    />\r\n  );\r\n}\r\n\r\nexport function checkPassword(password) {\r\n  if (typeof password !== 'string') {\r\n    return 'Invalid password';\r\n  }\r\n  if (password.length === 0) {\r\n    return 'Password is required.';\r\n  }\r\n  if (password.length < MIN_PASSWORD_LENGTH) {\r\n    return 'Invalid password';\r\n  }\r\n  return '';\r\n}\r\n","import React, { useState } from 'react';\r\nimport EmailInput, { checkEmail } from './EmailInput';\r\nimport PasswordInput, { checkPassword } from './PasswordInput';\r\nimport { Link } from 'react-router';\r\nimport { InputGroup } from '../TextInput';\r\nimport styled from 'styled-components';\r\nimport { useAPI, useAppDispatch } from '../../../hooks';\r\nimport { accountUpdated } from '../../Settings/slices/accountSlice';\r\nimport { Account } from '../../../types';\r\n\r\nexport const FormTitle = styled.h2`\r\n  margin-bottom: 1rem;\r\n  font-size: 1.5rem;\r\n  font-weight: 500;\r\n  color: #26a7c4;\r\n`;\r\n\r\nexport default function LogInForm() {\r\n  const [state, setState] = useState({\r\n    email: '',\r\n    emailError: '',\r\n    password: '',\r\n    passwordError: '',\r\n    shakeErrors: false,\r\n    activeField: 'email'\r\n  });\r\n\r\n  const onChangeListener = (event) => {\r\n    const { name, value } = event.target;\r\n    setState((prevState) => ({\r\n      ...prevState,\r\n      [name]: value,\r\n      [`${name}Error`]: null,\r\n      activeField: name,\r\n      shakeErrors: false\r\n    }));\r\n  };\r\n\r\n  const { post } = useAPI();\r\n\r\n  const dispatch = useAppDispatch();\r\n\r\n  const doLogin = async () => {\r\n    const email = state.email.trim();\r\n    const password = state.password.trim();\r\n    const emailError = checkEmail(email);\r\n    const passwordError = checkPassword(password);\r\n    if (emailError || passwordError) {\r\n      setState((prevState) => ({\r\n        ...prevState,\r\n        emailError,\r\n        passwordError,\r\n        shakeErrors: true\r\n      }));\r\n    } else {\r\n      const { success, data, message } = await post<Account>('/auth/login', {\r\n        email,\r\n        password\r\n      });\r\n\r\n      if (success) {\r\n        dispatch(accountUpdated(data || null));\r\n      } else {\r\n        setState((prevState) => ({\r\n          ...prevState,\r\n          passwordError: message || '',\r\n          shakeErrors: true\r\n        }));\r\n        console.error(success);\r\n      }\r\n    }\r\n  };\r\n\r\n  const onEnter = () => doLogin();\r\n\r\n  const shakeError = state.shakeErrors;\r\n\r\n  return (\r\n    <form action=\"login\" method=\"POST\">\r\n      <FormTitle>LogIn</FormTitle>\r\n      <EmailInput\r\n        {...{\r\n          value: state.email,\r\n          shouldFocus: state.activeField === 'email',\r\n          onChangeListener,\r\n          onEnter,\r\n          error: state.emailError,\r\n          shakeError\r\n        }}\r\n      />\r\n      <PasswordInput\r\n        {...{\r\n          value: state.password,\r\n          shouldFocus: state.activeField === 'password',\r\n          onChangeListener,\r\n          onEnter,\r\n          error: state.passwordError,\r\n          shakeError\r\n        }}\r\n      />\r\n      <LogInButton onClickHandler={doLogin} />\r\n      <div>\r\n        {`Don't have an account? `}\r\n        <Link to=\"../signup\">Sign up</Link>\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport const ButtonPrimary = styled.input`\r\n  padding: 0.5rem 1.7rem;\r\n  cursor: pointer;\r\n  box-shadow: none;\r\n  outline-style: none;\r\n  border: 1px solid #2f8396;\r\n  border-radius: 4px;\r\n  font-size: 1rem;\r\n  font-weight: 500;\r\n  color: #b1b1b1;\r\n  background: transparent;\r\n  &:hover {\r\n    border-color: #06e2ff;\r\n  }\r\n`;\r\n\r\nfunction LogInButton({ onClickHandler: onClickHandlerImpl }) {\r\n  const onClickHandler = (event) => {\r\n    event.preventDefault();\r\n    onClickHandlerImpl();\r\n  };\r\n  return (\r\n    <InputGroup>\r\n      <ButtonPrimary type=\"submit\" value=\"LogIn\" onClick={onClickHandler} />\r\n    </InputGroup>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport TextInput from '../TextInput';\r\n\r\nconst MAX_NAME_LENGTH = 25;\r\n\r\nexport default function NameInput({\r\n  value,\r\n  shouldFocus,\r\n  onChangeListener,\r\n  onEnter,\r\n  error,\r\n  shakeError\r\n}) {\r\n  return (\r\n    <TextInput\r\n      {...{\r\n        label: 'Name',\r\n        name: 'name',\r\n        value,\r\n        shouldFocus,\r\n        onChangeListener,\r\n        onEnter,\r\n        error,\r\n        shakeError\r\n      }}\r\n    />\r\n  );\r\n}\r\n\r\nexport function checkName(name) {\r\n  if (typeof name !== 'string') {\r\n    return 'Invalid name.';\r\n  }\r\n  if (name.length === 0) {\r\n    return 'Name is rquired.';\r\n  }\r\n  const regExp = /^[A-Za-z][A-Za-z ]*$/;\r\n  if (!regExp.test(name)) {\r\n    return 'Invalid name.';\r\n  }\r\n  if (name.split(' ').length > 3) {\r\n    return 'Name cannot have more than two spaces.';\r\n  }\r\n  if (name.length > MAX_NAME_LENGTH) {\r\n    return 'Name too long.';\r\n  }\r\n  return '';\r\n}\r\n","import React from 'react';\r\nimport TextInput from '../TextInput';\r\n\r\nexport default function EmailInput({\r\n  value,\r\n  shouldFocus,\r\n  onChangeListener,\r\n  onEnter,\r\n  error,\r\n  shakeError\r\n}) {\r\n  return (\r\n    <TextInput\r\n      {...{\r\n        label: 'Email',\r\n        type: 'email',\r\n        name: 'email',\r\n        value,\r\n        shouldFocus,\r\n        onChangeListener,\r\n        onEnter,\r\n        error,\r\n        shakeError\r\n      }}\r\n    />\r\n  );\r\n}\r\n\r\nexport function checkEmail(email) {\r\n  if (typeof email !== 'string') {\r\n    return 'Invalid email.';\r\n  }\r\n  if (email.length === 0) {\r\n    return 'Email is required.';\r\n  }\r\n  email = email.split('@');\r\n  if (email.length !== 2) {\r\n    return 'Invalid email.';\r\n  }\r\n  const [id, domain] = email;\r\n  if (!/^\\w+([.-]?\\w+)*$/.test(id)) {\r\n    return 'Invalid email.';\r\n  }\r\n  const index = domain.lastIndexOf('.');\r\n  if (index === -1) {\r\n    return 'Invalid email.';\r\n  }\r\n  const domainId = domain.substring(0, index);\r\n  if (!/^\\w+([.-]?\\w+)*$/.test(domainId)) {\r\n    return 'Invalid email.';\r\n  }\r\n  const domainExt = domain.substring(index);\r\n  if (!/^\\.\\w{1,6}$/.test(domainExt)) {\r\n    return 'Invalid email.';\r\n  }\r\n  return '';\r\n}\r\n","import React from 'react';\r\nimport TextInput from '../TextInput';\r\n\r\nconst MIN_PASSWORD_LENGTH = 4;\r\n\r\nexport default function PasswordInput({\r\n  value,\r\n  shouldFocus,\r\n  onChangeListener,\r\n  onEnter,\r\n  error,\r\n  shakeError\r\n}) {\r\n  return (\r\n    <TextInput\r\n      {...{\r\n        label: 'Password',\r\n        type: 'password',\r\n        name: 'password',\r\n        value,\r\n        shouldFocus,\r\n        onChangeListener,\r\n        onEnter,\r\n        error,\r\n        shakeError\r\n      }}\r\n    />\r\n  );\r\n}\r\n\r\nexport function checkPassword(password) {\r\n  if (typeof password !== 'string') {\r\n    return 'Invalid password';\r\n  }\r\n  if (password.length === 0) {\r\n    return 'Password is required.';\r\n  }\r\n  if (password.length < MIN_PASSWORD_LENGTH) {\r\n    return 'Password too short.';\r\n  }\r\n  return '';\r\n}\r\n","import React from 'react';\r\nimport TextInput from '../TextInput';\r\n\r\nexport default function ConfirmPasswordInput({\r\n  value,\r\n  shouldFocus,\r\n  onChangeListener,\r\n  onEnter,\r\n  error,\r\n  shakeError\r\n}) {\r\n  return (\r\n    <TextInput\r\n      {...{\r\n        label: 'Confirm Password',\r\n        type: 'password',\r\n        name: 'confirmPassword',\r\n        value,\r\n        shouldFocus,\r\n        onChangeListener,\r\n        onEnter,\r\n        error,\r\n        shakeError\r\n      }}\r\n    />\r\n  );\r\n}\r\n\r\nexport function checkConfirmPassword(password) {\r\n  if (typeof password !== 'string') {\r\n    return 'Invalid password';\r\n  }\r\n  if (password.length === 0) {\r\n    return 'Confirm password is required.';\r\n  }\r\n  return '';\r\n}\r\n","import React, { useState } from 'react';\r\nimport NameInput, { checkName } from './NameInput';\r\nimport EmailInput, { checkEmail } from './EmailInput';\r\nimport PasswordInput, { checkPassword } from './PasswordInput';\r\nimport ConfirmPasswordInput, {\r\n  checkConfirmPassword\r\n} from './ConfirmPasswordInput';\r\nimport { Link } from 'react-router';\r\nimport { ButtonPrimary, FormTitle } from '../LogInForm';\r\nimport { InputGroup } from '../TextInput';\r\nimport { useAPI, useAppDispatch } from '../../../hooks';\r\nimport { accountFetched } from '../../Settings/slices/accountSlice';\r\nimport { Account } from '../../../types';\r\n\r\nexport default function SignUpForm() {\r\n  const [state, setState] = useState({\r\n    name: '',\r\n    nameError: '',\r\n    email: '',\r\n    emailError: '',\r\n    password: '',\r\n    passwordError: '',\r\n    confirmPassword: '',\r\n    confirmPasswordError: '',\r\n    shakeErrors: false,\r\n    activeField: 'name'\r\n  });\r\n\r\n  const onChangeListener = (event) => {\r\n    const { name, value } = event.target;\r\n    setState((prevState) => ({\r\n      ...prevState,\r\n      [name]: value,\r\n      [`${name}Error`]: null,\r\n      activeField: name,\r\n      shakeErrors: false\r\n    }));\r\n  };\r\n\r\n  const { post } = useAPI();\r\n\r\n  const dispatch = useAppDispatch();\r\n\r\n  const onSubmitHandler = async () => {\r\n    const name = state.name.trim();\r\n    const email = state.email.trim();\r\n    const password = state.password.trim();\r\n    const confirmPassword = state.confirmPassword.trim();\r\n    const nameError = checkName(name);\r\n    const emailError = checkEmail(email);\r\n    const passwordError = checkPassword(password);\r\n    let confirmPasswordError = checkConfirmPassword(confirmPassword);\r\n    if (!confirmPasswordError && confirmPassword !== password) {\r\n      confirmPasswordError = 'Passwords do not match.';\r\n    }\r\n    if (nameError || emailError || passwordError || confirmPasswordError) {\r\n      setState((prevState) => ({\r\n        ...prevState,\r\n        nameError,\r\n        emailError,\r\n        passwordError,\r\n        confirmPasswordError,\r\n        shakeErrors: true\r\n      }));\r\n    } else {\r\n      const { success, data, message } = await post<Account>('/auth/signup', {\r\n        firstName: name,\r\n        email,\r\n        password\r\n      });\r\n      if (success && data) {\r\n        dispatch(accountFetched(data));\r\n      } else {\r\n        setState((prevState) => ({\r\n          ...prevState,\r\n          confirmPasswordError: message || '',\r\n          shakeErrors: true\r\n        }));\r\n        console.error(message);\r\n      }\r\n    }\r\n  };\r\n\r\n  const onEnter = () => onSubmitHandler();\r\n\r\n  const shakeError = state.shakeErrors;\r\n\r\n  return (\r\n    <form action=\"signup\" method=\"POST\">\r\n      <FormTitle>Join Now</FormTitle>\r\n      <NameInput\r\n        {...{\r\n          value: state.name,\r\n          shouldFocus: state.activeField === 'name',\r\n          onChangeListener,\r\n          onEnter,\r\n          error: state.nameError,\r\n          shakeError\r\n        }}\r\n      />\r\n      <EmailInput\r\n        {...{\r\n          value: state.email,\r\n          shouldFocus: state.activeField === 'email',\r\n          onChangeListener,\r\n          onEnter,\r\n          error: state.emailError,\r\n          shakeError\r\n        }}\r\n      />\r\n      <PasswordInput\r\n        {...{\r\n          value: state.password,\r\n          shouldFocus: state.activeField === 'password',\r\n          onChangeListener,\r\n          onEnter,\r\n          error: state.passwordError,\r\n          shakeError\r\n        }}\r\n      />\r\n      <ConfirmPasswordInput\r\n        {...{\r\n          value: state.confirmPassword,\r\n          shouldFocus: state.activeField === 'confirmPassword',\r\n          onChangeListener,\r\n          onEnter,\r\n          error: state.confirmPasswordError,\r\n          shakeError\r\n        }}\r\n      />\r\n      <SubmitButton onSubmitHandler={onSubmitHandler} />\r\n      <div>\r\n        {`Already have an account? `}\r\n        <Link to=\"../login\">Log in</Link>\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n\r\nfunction SubmitButton({ onSubmitHandler }) {\r\n  const onClickHandler = (event) => {\r\n    event.preventDefault();\r\n    onSubmitHandler();\r\n  };\r\n  return (\r\n    <InputGroup>\r\n      <ButtonPrimary type=\"submit\" value=\"Sign Up\" onClick={onClickHandler} />\r\n    </InputGroup>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst HeaderSection = styled.header`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  margin-bottom: 1rem;\r\n  margin-top: 1.5rem;\r\n`;\r\n\r\nconst Logo = styled.h1`\r\n  font-size: 2.5rem;\r\n  font-weight: 400;\r\n  border-bottom: 5px solid #b734e6;\r\n  border-radius: 40px;\r\n  padding: 0px 0px 5px 0px;\r\n  margin-bottom: 10px;\r\n  border-bottom-left-radius: 0px;\r\n`;\r\n\r\nconst LogoPartOne = styled.span`\r\n  color: #58c70c;\r\n`;\r\n\r\nconst LogoPartTwo = styled.span`\r\n  color: #b734e6;\r\n`;\r\n\r\nconst Description = styled.h2`\r\n  text-align: center;\r\n  font-size: 1.2rem;\r\n  font-weight: 500;\r\n  font-style: italic;\r\n  color: #afb917;\r\n`;\r\n\r\nexport default function Header() {\r\n  return (\r\n    <HeaderSection>\r\n      <Logo>\r\n        <LogoPartOne>Spark</LogoPartOne>\r\n        <LogoPartTwo>chat</LogoPartTwo>\r\n      </Logo>\r\n      <Description>Fast And Secure Real Time Messaging Platform</Description>\r\n    </HeaderSection>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { Route, Routes } from 'react-router';\r\nimport LogInForm from './LogInForm';\r\nimport SignUpForm from './SignUpForm';\r\nimport Header from './Header';\r\nimport styled from 'styled-components';\r\n\r\nconst CenteredPage = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n`;\r\n\r\nconst Guest = () => {\r\n  return (\r\n    <CenteredPage>\r\n      <Header />\r\n      <main>\r\n        <Routes>\r\n          <Route index element={<LogInForm />} />\r\n          <Route path=\"/*\" element={<LogInForm />} />\r\n          <Route path=\"/signup\" element={<SignUpForm />} />\r\n        </Routes>\r\n      </main>\r\n    </CenteredPage>\r\n  );\r\n};\r\n\r\nexport default Guest;\r\n","const DarkTheme = {\r\n  mainFgColor: '#e0e0e0',\r\n  mainBgColor: '#21242e',\r\n  titleFgColor: '',\r\n  descFgColor: '',\r\n  textColor: '#c8c8c8',\r\n  iconColor: '#ffffff',\r\n  pageBackgroundColor: '#0b0d14',\r\n  contentBackgroundColor: '#1c2130',\r\n  contentBorderColor: '#283456',\r\n\r\n  page: {\r\n    backgroundColor: '#0b0d14'\r\n  },\r\n\r\n  backgroundColors: {\r\n    main: '#314352',\r\n    hover: '#334759',\r\n    bright: '#3c576e',\r\n    veryBright: '#466e91',\r\n    overlay: '#0000008f',\r\n    button: '#4684bb',\r\n    buttonHover: '#4c99dd',\r\n    textInput: '#29343e',\r\n  },\r\n\r\n  textColors: {\r\n    normal: '#f1f1f1',\r\n    title: '#ffffff',\r\n    description: '#9c9c9c'\r\n  },\r\n\r\n  dividerColor: '#3a566e',\r\n  borderColor: '#405d76',\r\n\r\n  text: {\r\n    title: {\r\n      color: '#ffffff'\r\n    },\r\n    normal: {\r\n      color: '#f1f1f1'\r\n    },\r\n    description: {\r\n      color: '#9c9c9c'\r\n    }\r\n  },\r\n\r\n  message: {\r\n    sent: {\r\n      color: '#ffffff',\r\n      backgroundColor: '#43136d'\r\n    },\r\n    received: {\r\n      color: '#ffffff',\r\n      backgroundColor: '#314352'\r\n    }\r\n  },\r\n\r\n  primaryButton: {\r\n    color: '#f3f3f3',\r\n    backgroundColor: '#0765a8',\r\n    hover: {\r\n      color: '#f9f9f9',\r\n      backgroundColor: '#076fb9'\r\n    }\r\n  },\r\n\r\n  disabledPrimaryButton: {\r\n    color: '#bababa',\r\n    backgroundColor: '#353f5d'\r\n  },\r\n\r\n  iconButton: {\r\n    color: '#ffffff',\r\n    backgroundColor: '#2339b7',\r\n    hover: {\r\n      backgroundColor: '#203ff0'\r\n    }\r\n  },\r\n\r\n  disabledIconButton: {\r\n    color: '#8f8f8f',\r\n    backgroundColor: '#1c2a54'\r\n  },\r\n\r\n  errorBanner: {\r\n    color: '#db1d7c',\r\n    backgroundColor: ''\r\n  },\r\n\r\n  sliderProgress: {\r\n    backgroundColor: '#3f3c61'\r\n  },\r\n\r\n  cropOverlayMask: {\r\n    outlineColor: '#00000070'\r\n  },\r\n  contextMenu: {\r\n    backgroundColor: '#484848'\r\n  },\r\n  contextMenuItem: {\r\n    backgroundColor: '#484848',\r\n    color: '#eaeaea',\r\n    hover: {\r\n      backgroundColor: '#4f5152'\r\n    }\r\n  },\r\n\r\n  nameInitials: {\r\n    backgroundColor: '#005d27'\r\n  },\r\n\r\n  messageInput: {\r\n    backgroundColor: '#1c2130',\r\n    color: '#f1f1f1',\r\n    placeholder: {\r\n      color: '#99a9b6'\r\n    }\r\n  }\r\n};\r\n\r\nexport default DarkTheme;\r\n","const LightTheme = {\r\n  mainFgColor: '#fff',\r\n  mainBgColor: '#f1f1f1',\r\n  titleFgColor: '',\r\n  descFgColor: ''\r\n};\r\n\r\nexport default LightTheme;\r\n","import { useCallback, useMemo, useState } from 'react';\r\nimport { useResponsive, useRouteTracker } from '../hooks';\r\nimport { DarkTheme, LightTheme } from '../themes';\r\n\r\ntype ThemeType = 'dark' | 'light';\r\n\r\nconst useApp = () => {\r\n  const { windowWidth } = useResponsive();\r\n\r\n  const [theme, setTheme] = useState<ThemeType>('dark');\r\n\r\n  const toggleTheme = useCallback(() => {\r\n    setTheme((prevValue) => (prevValue === 'light' ? 'dark' : 'light'));\r\n  }, []);\r\n\r\n  const themeObject = useMemo(\r\n    () => (theme === 'dark' ? DarkTheme : LightTheme),\r\n    [theme]\r\n  );\r\n\r\n  const isLargeScreen = windowWidth >= 768; // >= tablet\r\n\r\n  const { currentPath, previousPath } = useRouteTracker();\r\n\r\n  return {\r\n    windowWidth,\r\n    theme: themeObject,\r\n    toggleTheme,\r\n    isLargeScreen,\r\n    currentRoutePath: currentPath,\r\n    previousRoutePath: previousPath\r\n  };\r\n};\r\n\r\nexport default useApp;\r\n","import styled from 'styled-components';\r\n\r\nexport const ProfileStyled = styled.div`\r\n  position: relative;\r\n  height: 100%;\r\n  color: ${(props) => props.theme.mainFgColor};\r\n  background: ${(props) => props.theme.mainBgColor};\r\n`;\r\n","import styled from 'styled-components';\r\n\r\nexport const InfoStyled = styled.div`\r\n  padding-left: 1rem;\r\n  padding-top: 1rem;\r\n`;\r\n\r\nexport const Title = styled.h3`\r\n  font-size: 1rem;\r\n  margin-bottom: 0.5rem;\r\n  color: #5aa4df;\r\n`;\r\n\r\nexport const InfoItem = styled.div`\r\n  padding: 0.6rem 0;\r\n  border-bottom: 1px solid #1b1d23;\r\n`;\r\n\r\nexport const InfoItemTitle = styled.h2`\r\n  margin-bottom: 0.5rem;\r\n  font-size: 1rem;\r\n  color: inherit;\r\n`;\r\n\r\nexport const InfoItemDesc = styled.p`\r\n  display: block;\r\n  color: #7c7e85;\r\n  font-size: 0.9rem;\r\n`;\r\n","import React, { FC } from 'react';\r\nimport { InfoItem, InfoItemDesc, InfoItemTitle, InfoStyled } from './styles';\r\nimport { User } from '../../../types';\r\n\r\ninterface UserInfoProps {\r\n  user?: User;\r\n}\r\n\r\nconst UserInfo: FC<UserInfoProps> = ({ user }) => {\r\n  return (\r\n    <InfoStyled>\r\n      {user?.email && (\r\n        <InfoItem>\r\n          <InfoItemTitle>{user.email}</InfoItemTitle>\r\n          <InfoItemDesc>Email</InfoItemDesc>\r\n        </InfoItem>\r\n      )}\r\n\r\n      {user?.bio && (\r\n        <InfoItem>\r\n          <InfoItemTitle>{user.bio}</InfoItemTitle>\r\n          <InfoItemDesc>Bio</InfoItemDesc>\r\n        </InfoItem>\r\n      )}\r\n\r\n      {user?.username && (\r\n        <InfoItem>\r\n          <InfoItemTitle>@{user.username}</InfoItemTitle>\r\n          <InfoItemDesc>Username</InfoItemDesc>\r\n        </InfoItem>\r\n      )}\r\n    </InfoStyled>\r\n  );\r\n};\r\n\r\nexport default UserInfo;\r\n","import { useEffect, useRef, useState } from 'react';\r\nimport { useAPI } from '../../../hooks';\r\nimport { ProfilePhoto } from '../../../types';\r\n\r\nconst useProfilePhotosFetcher = (userId?: number) => {\r\n  const [profilePhotos, setProfilePhotos] = useState<ProfilePhoto[]>([]);\r\n  const [isFetched, setIsFetched] = useState(false);\r\n  const fetchTriesRef = useRef<number>(0);\r\n\r\n  const { get } = useAPI();\r\n\r\n  useEffect(() => {\r\n    const fetchPhotos = async () => {\r\n      const { success, data, message } = await get<ProfilePhoto[]>(\r\n        `/profile-photos/user/${userId}`\r\n      );\r\n\r\n      if (success) {\r\n        setProfilePhotos(data);\r\n        setIsFetched(true);\r\n      } else {\r\n        console.error(message);\r\n        if (fetchTriesRef.current > 2) setIsFetched(true);\r\n      }\r\n      fetchTriesRef.current++;\r\n    };\r\n\r\n    if (!isFetched && userId) fetchPhotos();\r\n  }, [get, isFetched, userId]);\r\n\r\n  return profilePhotos;\r\n};\r\n\r\nexport default useProfilePhotosFetcher;\r\n","import React, { FC, useMemo } from 'react';\r\nimport BackLink from '../../../components/BackLink';\r\nimport ContextMenu, { useContextMenu } from '../../../components/ContextMenu';\r\nimport { MenuItemDescriptor } from '../../../components/ContextMenu/types';\r\nimport FlexibleImage from '../../../components/FlexibleImage';\r\nimport NameInitial from '../../../components/NameInitial';\r\nimport TinySpinner from '../../../components/TinySpinner';\r\nimport {\r\n  BackButton,\r\n  MoreButton,\r\n  NextButton,\r\n  PreviousButton\r\n} from '../../../components/buttons';\r\nimport {\r\n  AddContactIcon,\r\n  BlockUserIcon,\r\n  DownloadIcon,\r\n  RemoveContactIcon,\r\n  UnblockUserIcon\r\n} from '@/components/icons';\r\nimport {\r\n  useFullScreenPhoto,\r\n  useImageLoader,\r\n  usePhotoNavigation,\r\n  useProfilePhoto,\r\n  useUser\r\n} from '../../../hooks';\r\nimport {\r\n  PhotoHeaderSection,\r\n  PhotoIndexIndicator,\r\n  PhotoMetaContainer,\r\n  PhotoMetaText\r\n} from '../../../styles';\r\nimport { User } from '../../../types';\r\nimport {\r\n  Name,\r\n  ProfilePhotoSettingsStyled\r\n} from '../../Settings/components/ProfilePhotoSettings/styles';\r\nimport useProfilePhotosFetcher from './useProfilePhotosFetcher';\r\n\r\ninterface UserProfilePhotoProps {\r\n  user?: User;\r\n}\r\n\r\nconst UserProfilePhoto: FC<UserProfilePhotoProps> = ({ user }) => {\r\n  const {\r\n    fullName,\r\n    nameInitials,\r\n    isBlocked,\r\n    isContact,\r\n    blockUser,\r\n    unblockUser,\r\n    addToContacts,\r\n    removeFromContacts\r\n  } = useUser(user);\r\n\r\n  const { isContextMenuVisible, onMoreButtonClick, contextMenuControlProps } =\r\n    useContextMenu();\r\n\r\n  const { isFullScreenMode, toggleFullScreenMode, exitFullScreenMode } =\r\n    useFullScreenPhoto();\r\n\r\n  const profilePhotos = useProfilePhotosFetcher(user?.id);\r\n  const photosCount = profilePhotos?.length || 0;\r\n\r\n  const { currentIndex, handleNext, handlePrevious, photoIndexIndicator } =\r\n    usePhotoNavigation(photosCount);\r\n\r\n  const { photoUrl, photoDateTime, downloadPhoto } = useProfilePhoto(\r\n    profilePhotos[currentIndex]\r\n  );\r\n\r\n  const { isImageFetching, isImageLoading, imageSrc, handleImageLoad } =\r\n    useImageLoader(photoUrl || null);\r\n\r\n  const options = useMemo(() => {\r\n    let items: MenuItemDescriptor[] = [];\r\n\r\n    if (!isFullScreenMode) {\r\n      if (isBlocked) {\r\n        items.push({\r\n          icon: <UnblockUserIcon />,\r\n          label: 'Unblock user',\r\n          action: unblockUser\r\n        });\r\n      } else {\r\n        items.push({\r\n          icon: <BlockUserIcon />,\r\n          label: 'Block user',\r\n          action: blockUser\r\n        });\r\n      }\r\n\r\n      if (isContact) {\r\n        items.push({\r\n          icon: <RemoveContactIcon />,\r\n          label: 'Remove contact',\r\n          action: removeFromContacts\r\n        });\r\n      } else {\r\n        items.push({\r\n          icon: <AddContactIcon />,\r\n          label: 'Add contact',\r\n          action: addToContacts\r\n        });\r\n      }\r\n    }\r\n\r\n    if (imageSrc) {\r\n      items.push({\r\n        icon: <DownloadIcon />,\r\n        label: 'Download',\r\n        action: downloadPhoto\r\n      });\r\n    }\r\n\r\n    return items;\r\n  }, [\r\n    isFullScreenMode,\r\n    imageSrc,\r\n    isBlocked,\r\n    isContact,\r\n    unblockUser,\r\n    blockUser,\r\n    removeFromContacts,\r\n    addToContacts,\r\n    downloadPhoto\r\n  ]);\r\n\r\n  return (\r\n    <ProfilePhotoSettingsStyled $isFullScreenMode={isFullScreenMode}>\r\n      <PhotoHeaderSection>\r\n        {isFullScreenMode ? (\r\n          <BackButton onClick={exitFullScreenMode} />\r\n        ) : (\r\n          <BackLink to={`/chat/${user?.id}`} />\r\n        )}\r\n\r\n        {photosCount > 1 && (\r\n          <PhotoIndexIndicator>{photoIndexIndicator}</PhotoIndexIndicator>\r\n        )}\r\n\r\n        <MoreButton onClick={onMoreButtonClick} />\r\n      </PhotoHeaderSection>\r\n\r\n      {isImageFetching && <TinySpinner />}\r\n\r\n      {imageSrc ? (\r\n        <FlexibleImage\r\n          src={imageSrc}\r\n          onLoad={handleImageLoad}\r\n          alt=\"Profile Photo\"\r\n          isBlur={isImageFetching || isImageLoading}\r\n          onClick={toggleFullScreenMode}\r\n          isPhotoNavTarget={true}\r\n        />\r\n      ) : (\r\n        <NameInitial nameInitials={nameInitials} />\r\n      )}\r\n\r\n      {photosCount > 1 && (\r\n        <>\r\n          <PreviousButton onClick={handlePrevious} />\r\n          <NextButton onClick={handleNext} />\r\n        </>\r\n      )}\r\n\r\n      {!isFullScreenMode && <Name>{fullName}</Name>}\r\n\r\n      {isFullScreenMode && photoDateTime && (\r\n        <PhotoMetaContainer>\r\n          <PhotoMetaText>{fullName} - profile photo</PhotoMetaText>\r\n          <PhotoMetaText>{photoDateTime}</PhotoMetaText>\r\n        </PhotoMetaContainer>\r\n      )}\r\n\r\n      {isContextMenuVisible && (\r\n        <ContextMenu\r\n          menuItems={options}\r\n          controlProps={contextMenuControlProps}\r\n        />\r\n      )}\r\n    </ProfilePhotoSettingsStyled>\r\n  );\r\n};\r\n\r\nexport default UserProfilePhoto;\r\n","import React from 'react';\r\nimport { useParams } from 'react-router';\r\nimport { ProfileStyled } from './styles';\r\nimport { useUserFetcher } from '../../hooks';\r\nimport UserInfo from './UserInfo';\r\nimport UserProfilePhoto from './UserProfilePhoto';\r\n\r\nconst Profile = () => {\r\n  const params = useParams();\r\n  const userId = parseInt(\r\n    typeof params?.userId === 'string' ? params.userId : '',\r\n    10\r\n  );\r\n\r\n  const user = useUserFetcher(userId);\r\n\r\n  return (\r\n    <ProfileStyled>\r\n      <UserProfilePhoto user={user} />\r\n      <UserInfo user={user} />\r\n    </ProfileStyled>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import styled, { css } from 'styled-components';\r\n\r\nexport const AppContainer = styled.div<{ $isLargeScreen: boolean }>`\r\n  display: flex;\r\n  ${(props) =>\r\n    props.$isLargeScreen &&\r\n    css`\r\n      margin-left: 4rem;\r\n    `}\r\n`;\r\n\r\nexport const PageContainer = styled.div`\r\n  height: 100vh;\r\n  overflow-y: auto;\r\n  flex-grow: 1;\r\n  display: flex;\r\n  justify-content: center;\r\n\r\n  &::-webkit-scrollbar {\r\n    background: inherit;\r\n    width: 4px;\r\n  }\r\n  &::-webkit-scrollbar-thumb {\r\n    background: #3d455c;\r\n    border-radius: 30px;\r\n  }\r\n`;\r\n","import { ThemeProvider } from 'styled-components';\r\nimport { Route, Routes } from 'react-router';\r\nimport Home from '@/features/Home';\r\nimport Chat from '@/features/Chat';\r\nimport SideBar from '@/features/SideBar';\r\nimport Guest from '@/features/Guest';\r\nimport useApp from './useApp';\r\nimport Profile from '@/features/Profile';\r\nimport { GlobalStyle } from '@/styles';\r\nimport { AppContainer, PageContainer } from './styles';\r\nimport useMessageRequestSystem, { MRSContext } from '@/features/Chat/MRS';\r\nimport { useAuth, useBlockedUsersFetcher, useContactsFetcher } from '@/hooks';\r\nimport Spinner from '@/components/spinner';\r\nimport AppContext from './AppContext';\r\n\r\nconst App = () => {\r\n  const app = useApp();\r\n  const { theme, isLargeScreen } = app;\r\n\r\n  const MRS = useMessageRequestSystem();\r\n\r\n  const { isLoading, isLoggedIn } = useAuth();\r\n\r\n  useContactsFetcher();\r\n  useBlockedUsersFetcher();\r\n\r\n  if (isLoading) return <Spinner />;\r\n\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n      <GlobalStyle />\r\n\r\n      {isLoggedIn ? (\r\n        <MRSContext value={MRS}>\r\n          <AppContext value={app}>\r\n            <AppContainer $isLargeScreen={isLargeScreen}>\r\n              <SideBar />\r\n\r\n              {isLargeScreen && <Home />}\r\n\r\n              <PageContainer>\r\n                <Routes>\r\n                  {!isLargeScreen && <Route index element={<Home />} />}\r\n                  <Route path=\"/chat/:chatPartnerId\" element={<Chat />} />\r\n                  <Route path=\"/profile/:userId\" element={<Profile />} />\r\n                </Routes>\r\n              </PageContainer>\r\n            </AppContainer>\r\n          </AppContext>\r\n        </MRSContext>\r\n      ) : (\r\n        <Guest />\r\n      )}\r\n    </ThemeProvider>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import { createSlice } from '@reduxjs/toolkit';\r\nimport type { PayloadAction } from '@reduxjs/toolkit';\r\nimport { Chat } from '../../../types';\r\n\r\nconst initialState: Chat[] = [];\r\n\r\nexport const chatsSlice = createSlice({\r\n  name: 'chats',\r\n\r\n  initialState,\r\n\r\n  reducers: {\r\n    chatsFetched(state, action: PayloadAction<Chat[]>) {\r\n      return action.payload;\r\n    }\r\n  }\r\n});\r\n\r\nexport default chatsSlice.reducer;\r\n\r\nexport const { chatsFetched } = chatsSlice.actions;\r\n","import { configureStore } from '@reduxjs/toolkit';\nimport profilePhotosReducer from './features/Settings/slices/profilePhotosSlice';\nimport accountReducer from './features/Settings/slices/accountSlice';\nimport usersReducer from './usersSlice';\nimport messagesReducer from './features/Chat/slices/messagesSlice';\nimport chatsReducer from './features/Chat/slices/chatsSlice';\nimport contactsReducer from './contactsSlice';\nimport blockedUsersReducer from './blockedUsersSlice';\n\nconst store = configureStore({\n  reducer: {\n    account: accountReducer,\n\n    profilePhotos: profilePhotosReducer,\n\n    messages: messagesReducer,\n\n    chats: chatsReducer,\n\n    users: usersReducer,\n\n    contacts: contactsReducer,\n\n    blockedUsers: blockedUsersReducer\n  }\n});\n\nexport type RootState = ReturnType<typeof store.getState>;\n\nexport type AppDispatch = typeof store.dispatch;\n\nexport default store;\n","'use strict';\r\n\r\nimport { createRoot } from 'react-dom/client';\r\nimport React, { StrictMode } from 'react';\r\nimport { ready } from './utils';\r\nimport App from './App';\r\nimport store from './store';\r\nimport { Provider } from 'react-redux';\r\nimport { BrowserRouter } from 'react-router';\r\n\r\nconst doRender = () => {\r\n\tconst root = createRoot(document.getElementById('root'));\r\n\r\n\troot.render(\r\n    <StrictMode>\r\n      <Provider store={store}>\r\n        <BrowserRouter>\r\n          <App />\r\n        </BrowserRouter>\r\n      </Provider>\r\n    </StrictMode>\r\n  );\r\n};\r\n\r\nready(doRender);\r\n","// getDefaultExport function for compatibility with non-ESM modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};\n","__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n        if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n            Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n        }\n    }\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","__webpack_require__.nc = undefined;","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif (chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor (var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--)\n\t\t\tdeferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif (\n\t\t\t\t(priority & (1 === 0) || notFulfilled >= priority) &&\n\t\t\t\tObject.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))\n\t\t\t) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif (priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif (fulfilled) {\n\t\t\tdeferred.splice(i--, 1);\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};\n","__webpack_require__.rv = () => (\"1.3.13\")","\n      // object to store loaded and loading chunks\n      // undefined = chunk not loaded, null = chunk preloaded/prefetched\n      // [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\n      var installedChunks = {\"909\": 0,};\n      __webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif (chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor (moduleId in moreModules) {\n\t\t\tif (__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif (runtime) var result = runtime(__webpack_require__);\n\t}\n\tif (parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor (; i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif (\n\t\t\t__webpack_require__.o(installedChunks, chunkId) &&\n\t\t\tinstalledChunks[chunkId]\n\t\t) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n};\n\nvar chunkLoadingGlobal = self[\"webpackChunksemaychat_frontend\"] = self[\"webpackChunksemaychat_frontend\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));\n","__webpack_require__.ruid = \"bundler=rspack@1.3.13\";\n"],"names":["handler","calculateFullName","firstName","lastName","fullName","filter","name","join","calculateNameInitials","initials","toUpperCase","formatTime","time","date","Date","hours","getHours","minutes","getMinutes","period","formatDateTime","formattedTime","day","getDate","month","getMonth","year","getFullYear","HomePage","styled","props","theme","backgroundColors","main","$isLargeScreen","css","HeaderContainer","SearchContainer","textInput","UsersContainer","bright","account","useAppSelector","state","Error","profilePhotos","useMemo","nameInitials","photoUrl","photoId","id","post","useAPI","logout","useCallback","success","message","location","origin","console","error","url","options","method","body","responseType","signal","headers","init","response","status","includes","credentials","FormData","JSON","stringify","fetch","ok","json","jsonResponse","blob","data","text","undefined","err","useState","isLoading","setIsLoading","abortControllerRef","useRef","abortRequest","current","abort","request","endpoint","autoCancel","AbortController","smartFetch","useEffect","requestMethods","get","put","del","AppContext","createContext","appContext","useContext","accountSlice","createSlice","initialState","reducers","accountFetched","action","payload","accountUpdated","actions","reducer","profilePhotosSlice","profilePhotosFetched","profilePhotoAdded","profilePhotoDeleted","profilePhoto","ex","isLoggedIn","isFetched","setIsFetched","fetchTriesRef","dispatch","useAppDispatch","usersSlice","manyUsersAdded","newUsers","user","some","newUser","otherExistingUsers","userAdded","blockedUsersSlice","blockedUsersFetched","blockedUserAdded","blockedUserDeleted","blockedUser","map","messagesSlice","manyMessagesAdded","newMessages","newMessage","otherExistingMessages","messageAdded","messageUpdated","messageDeleted","users","messages","chat","push","partner","lastMessage","contactsSlice","contactsFetched","contactAdded","contactDeleted","contact","timeoutRef","setTimer","fn","ms","setTimeout","clearTimer","clearTimeout","useTimer","debounce","extension","link","document","createElement","href","setAttribute","style","display","appendChild","click","removeChild","onFileSelect","selectedFile","setSelectedFile","fileInputRef","triggerFileSelection","handleFileChange","file","files","value","isFullScreenMode","setIsFullScreenMode","toggleFullScreenMode","prevValue","exitFullScreenMode","imageSrc","setImageSrc","objectUrlRef","URL","createObjectURL","revokeObjectURL","isImageLoading","handleImageLoad","e","target","src","isImageFetching","cleanup","imgSrc","partnerId","photosCount","initialIndex","resetNavWhenPhotosCountIncreases","currentIndex","setCurrentIndex","handleNext","nextNumber","handlePrevious","prevNumber","useDebounce","handleKeyNavigation","focusedElem","activeElement","HTMLElement","dataset","isPhotoNavTarget","key","addEventListener","removeEventListener","photosCountRef","prevCount","photoIndexIndicator","photo","photoDateTime","createdAt","download","useDownload","downloadPhoto","windowWidth","setWindowWidth","useLayoutEffect","window","innerWidth","updateWindowWidth","useLocation","pathname","previousPath","setPreviousPath","currentPath","setCurrentPath","blockedUsers","contacts","isBlocked","isContact","blockUser","userId","unblockUser","addToContacts","removeFromContacts","find","TRANSITION","DURATION","INITIAL_STYLE","opacity","transform","transition","FINAL_STYLE","isVisible","setStatus","isMounted","setIsMounted","setStyle","isFirstRenderRef","exitingTimer","enteringTimer","animationStyle","useDispatch","useSelector","chats","setChats","chatsMap","Map","forEach","senderId","receiverId","existing","set","c","sort","a","b","length","SearchInputStyled","placeholder","Object","arguments","NextIcon","PreviousIcon","IconStyled","Square24Path","FlexibleIcon","children","isDesigning","className","viewBox","width","height","xmlns","Icon","PauseIconPath","d","PlayIconPath","SentMsgTailIconPath","SentMsgTailIcon","TickIconPath","SearchButtonStyled","SearchIcon","UserStyled","Link","hover","ProfilePhotoContainer","Photo","DefaultProfilePhotoContainer","TextPhoto","ChatDetailsContainer","NameContainer","Name","MessageDateTime","MessagePreview","useUser","messagePreview","content","messageDateTime","useChatItem","useImageLoader","to","onLoad","isLargeScreen","useAppContext","useChatsFetcher","useSuggestionsFetcher","useChats","SearchInput","SearchButton","User","ChatStyled","page","backgroundColor","ChatHeader","ChatMessagesListContainer","ChatMessagesList","Gap","ChatFooter","BackLinkStyled","iconColor","BackIcon","BackButtonStyled","onClick","rest","aria-label","MoreButtonStyled","restProps","MoreIcon","CloseButtonStyled","ariaLabel","type","CloseIcon","styles","pageBackgroundColor","textColor","GlobalStyle","createGlobalStyle","FullScreenOverlay","$zIndex","CenteredModal","BasicButton","PrimaryButton","button","buttonHover","DisabledPrimaryButton","disabledPrimaryButton","color","ModalTitle","PhotoHeaderSection","PhotoIndexIndicator","PhotoMetaContainer","PhotoMetaText","PhotoNavButton","CenteredImage","NextButtonStyled","otherProps","data-is-photo-nav-target","PreviousButtonStyled","UserContainer","CircularPhoto","ProfileLink","title","Status","description","NameInitialsContainer","NameInitials","SmallNameInitialsContainer","SmallNameInitials","isSmall","alt","NameInitial","TextMessageStyled","$isOutgoing","Content","TextMsgMetaContainer","HiddenMeta","VisibleMeta","MessageMetaStyled","Time","TickIconContainer","ProgressText","isOutgoing","onContextMenu","stopPropagation","TickIcon","enrichedMessage","MessageMeta","PhotoMessageStyled","PhotoImg","ContextMenuOverlay","ContextMenuStyled","MenuItemStyled","textColors","normal","veryBright","MenuItemIconContainer","MenuItemLabel","icon","label","role","setIsVisible","x","y","position","setPosition","menuRef","closeMenu","preventDefault","elementRect","currentTarget","getBoundingClientRect","clientX","left","right","clientY","top","bottom","isMoreButtonUsedRef","onMoreButtonClick","buttonRect","menuRect","prevPosition","adjustedX","adjustedY","innerHeight","isContextMenuVisible","contextMenuControlProps","menuStyles","menuItems","controlProps","executeMenuItemAction","menuList","menuItem","index","MenuItem","ref","toString","padStart","getFileExtension","fileName","split","pop","IMAGE_EXTENSIONS","AUDIO_EXTENSIONS","VIDEO_EXTENSIONS","isImage","toLowerCase","userOne","userTwo","photos","fileExtension","targetIndex","i","PhotoViewerModal","ProgressContainer","messageRequests","deleteMessageRequest","sendMessage","requestId","isFile","caption","apiMessage","append","Promise","resolve","updateMessage","deleteMessage","deleteForReceiver","query","isProcessingRequest","setIsProcessingRequest","processRequest","req","MRSContext","lastRequestId","lastMessageId","selfId","setMessageRequests","addMessageRequest","prevRequests","sendTextMessage","isPending","sendFileMessage","fileSize","size","messageId","newContent","getMessageStatus","getUpdatingMessageNewContent","pendingMessages","useMessageRequestsProcessor","ChatContext","chatContext","conversationPartnerId","dateTime","MRS","deleteMessageReal","downloadFile","fileUrl","useChatContext","editMessage","replyMessage","edit","reply","SpinnerPage","SpinnerContainer","rotate","keyframes","SpinnerCanvas","Spinner","element","ctx","getContext","clearRect","lineWidth","lineCap","strokeStyle","beginPath","arc","Math","PI","stroke","StyledSpinner","Ball","FlexibleImageStyled","$isBlur","isBlur","tabIndex","imgRef","focus","onClose","useContextMenu","usePhotoSelector","usePhotoNavigation","useMessage","isSentMessage","messagePartnerId","isDoingRequest","ReplyIcon","DownloadIcon","DeleteIcon","partnerFullName","selfFullName","useAccount","aria-modal","BackButton","MoreButton","TinySpinner","FlexibleImage","PreviousButton","NextButton","ContextMenu","isPhotoViewerVisible","setIsPhotoViewerVisible","imageSrcFromUrl","handleImageLoadFromUrl","useImageFileLoader","imageSrcFromFile","handleImageLoadFromFile","PhotoViewer","VideoMessageStyled","VideoTagStyled","VideoMetaContainer","controls","source","PlaybackControlButtonStyled","isPlaying","PauseIcon","PlayIcon","AudioMessageStyled","MainSection","ControlArea","AudioMetaContainer","PlaybackTimeSliderContainer","PlaybackTime","MoreButtonContainer","formatMediaTime","seconds","floor","audioElementRef","setIsPlaying","duration","setDuration","currentTime","setCurrentTime","handleLoadedMetadata","audioElement","togglePlayback","pause","play","handleTimeUpdate","handlePlaybackEnded","setTimePercentage","percentage","timePercentage","playbackTime","PlaybackTimeSliderStyled","SliderTrack","SliderProgress","SliderThumb","onTimePercentageUpdate","isDragging","trackRef","startThumbDrag","updateTimePercentage","trackRect","handleSliderClick","endThumbDrag","handleMouseMove","handleTouchMove","touches","sliderProgressStyle","aria-valuenow","aria-valuemin","aria-valuemax","onWheel","draggable","onMouseDown","onTouchStart","useAudioPlaybackController","audio","onTimeUpdate","onEnded","onLoadedMetadata","PlaybackControlButton","PlaybackTimeSlider","SmallMoreButton","FileMessageStyled","MainContainer","FileInfoContainer","FileExtension","FileName","FileSize","FileMetaContainer","FileIcon","MB","toFixed","KB","onFilesSelect","selectedFiles","setSelectedFiles","fileInput","filesArray","Array","from","SendButtonStyled","$isDisabled","disabledIconButton","iconButton","isDisabled","disabled","SendIcon","FileMessageInputTailStyled","TailSvg","TailShape","FileMessageInputTail","fill","strokeWidth","FileSelectorModal","FilesContainer","ModalHeader","ModalFooter","ActionButtonsContainer","FilesCount","ImageFileStyled","ImageStyled","CaptionInput","ProgressTextContainer","RemoveButtonStyled","attachment","onRemove","onCaptionChange","remove","handleCaptionInput","RemoveButton","onInput","OrdinaryFileStyled","IconWrapper","displayName","chatPartnerId","lastIdRef","createAttachment","shortenFileName","maxLength","nameParts","onlyName","slice","charsNearExt","realMaxLength","attachments","setAttachments","addFiles","removeAttachment","attachmentId","prevAttachments","updateAttachmentCaption","newCaption","selectionInfo","sendAttachments","AddButtonStyled","AddIcon","useFilesSender","attachmentComponents","ImageFile","OrdinaryFile","useFilesSelector","CloseButton","AddButton","SendButton","input","multiple","onChange","AttachFileButtonStyled","AttachmentIcon","MessageInputStyled","GrowingTextArea","messageInput","editingTextRef","onSend","textAreaRef","textArea","scrollHeight","clientHeight","focusTextArea","setValue","handleInput","editingText","handleSend","handleKeyDown","isFileSelectorVisible","setIsFileSelectorVisible","rows","onKeyDown","AttachFileButton","trim","FileSelector","thisChatMessages","thisChatPendingMessages","ConfirmDialogOverlay","ConfirmDialogStyled","DialogTitle","DialogMessage","DialogButtonsContainer","ActionButton","CancelButton","ConfirmButton","CheckBoxStyled","BoxContainer","CheckBoxIconStyled","CheckBoxIcon","$isChecked","CheckBoxTickIconStyled","CheckBoxTickIcon","CheckBoxLabel","isChecked","onToggle","aria-checked","onDelete","isCheckBoxChecked","setIsCheckBoxChecked","CheckBox","MessageStyled","$isLastInGroup","MessageContainer","$isTransparentBackground","isLastInGroup","isDeleteConfirmVisible","setDeleteConfirmVisible","openDeleteConfirm","closeDeleteConfirm","contextMenuItems","items","EditIcon","messageComponent","TextMessage","PhotoMessage","VideoMessage","AudioMessage","FileMessage","onContextMenuFn","MessageDeleteConfirmDialog","mode","editorState","setEditorState","params","useParams","parseInt","useUserFetcher","useMessagesFetcher","useMessagesSelector","messagesInComponent","Message","chatContextLogic","useChat","chatRef","messagesContainer","scrollTop","BackLink","MessageInput","SideBarOverlay","$isVisible","SideBarStyled","ProfileStyled","ProfilePhotoStyled","SidebarToggleButton","NameStyled","MenuItemsContainer","MenuItemButton","ImageIcon","IconContainer","ProfilePhotoSettingsStyled","$isFullScreenMode","$windowWidth","PhotoUploaderModal","CroppingViewport","CropOverlayMask","cropOverlayMask","outlineColor","PositionableImage","LoadingTextContainer","LoadingText","zoomPercentage","setZoomPercentage","adjustZoomOnWheelEvent","max","min","deltaY","imageWidth","updateZoomPercentage","useZoomController","croppingViewportRef","imageRef","imagePosition","setImagePosition","isImageLoaded","setIsImageLoaded","dragStartPositionsRef","pointerPosition","startImageDrag","updateImagePosition","imgPosition","xDistance","yDistance","recenterImage","viewportRect","imageRect","round","snapImageToCenterIfOutOfBounds","isOutOfBounds","cropImage","reject","image","pixelRatioX","naturalWidth","pixelRatioY","naturalHeight","sourceX","sourceY","sourceWidth","sourceHeight","destWidth","destHeight","canvas","drawImage","toBlob","handlePointerUp","handleMouseDown","handleTouchStart","positionableImageRef","positionableImageStyle","handlePositionableImageLoad","isPositionableImageLoaded","handleMouseDownOnMask","handleTouchStartOnMask","ZoomSliderTrack","onZoomPercentageUpdate","thumbX","setThumbX","thumbRef","thumbWidth","isImageFile","getSizeInAppropriateUnit","IMAGE_ERRORS","INVALID_FILE","INVALID_FILE_TYPE","SIZE_TOO_SMALL","SIZE_TOO_BIG","UPLOAD_ERRORS","CROPPING_FAILED","UNKNOWN_ERROR","validateImageFile","File","imageCropperFunc","setError","isCropping","setIsCropping","objUrlRef","fileError","isDoingUploadRef","isUploading","uploadPhoto","formData","log","ErrorBannerModal","ErrorText","errorBanner","BUTTON_TEXT","UploadButtonEnabled","UploadButtonDisabled","useImageCropper","useProfilePhotoUploader","ErrorBanner","ZoomSlider","UploadButton","useProfilePhoto","deletePhoto","AddPhotoButtonStyled","AddPhotoIcon","useProfilePhotosFetcher","useFullScreenPhoto","isPhotoUploaderVisible","setIsPhotoUploaderVisible","useFileSelector","useSelfProfilePhoto","div","AddPhotoButton","accept","ProfilePhotoUploader","SettingsPageOverlay","overlay","SettingsPage","SettingsPageHeader","MainTitle","NavMenuContainer","NavMenu","$isActive","MenuDivider","SettingsCategoryContainer","SettingsItemContainer","Title","Description","ArrowIconContainer","EditorModalOverlay","EditorModalStyled","borderColor","HeaderSection","dividerColor","FooterSection","DoneButton","onDone","leftButtonConfig","rightButtonConfig","event","TextInputContainer","LabelWrapper","LabelStyled","InputStyled","HelperText","shouldFocus","onEnterPress","helperText","errorMessage","inputRef","infoRef","animate","htmlFor","isUpdating","setIsUpdating","updateAccount","accountData","username","setErrorMessage","useAccountUpdater","updateUsername","newUsername","inputError","regExp","test","EditorModal","TextInput","checkFirstName","firstNameError","lastNameError","activeField","setState","updateInputValue","prevState","updateName","handleEnterPress","Counter","MultiLineInputContainer","MultiLineInput","count","shouldCounterShake","counterRef","as","cols","bio","MAX_BIO_LENGTH","updateBio","BioInput","VISIBILITY_OPTION_LABELS","PRIVACY_SETTINGS_CONFIG","emailVisibility","visibilityChoices","lastSeenVisibility","profilePhotosVisibility","messageSender","email","activeModal","setActiveModal","modalPayload","setModalPayload","openModal","modalName","closeModal","accountSettingsItems","securitySettingsItems","privacySettingsItems","PASSWORD_UPDATE_STEPS","NEW_PASSWORD","CONFIRM_PASSWORD","CURRENT_PASSWORD","currentStep","setCurrentStep","newPassword","setNewPassword","confirmPassword","setConfirmPassword","currentPassword","setCurrentPassword","newPasswordError","setNewPasswordError","confirmPasswordError","setConfirmPasswordError","currentPasswordError","setCurrentPasswordError","updatePassword","password","validateNewPassword","validateConfirmPassword","trimmedConfirmPassword","validateCurrentPassword","handleNewPasswordChange","handleConfirmPasswordChange","handleCurrentPasswordChange","handleBackNav","handleNextNav","usePasswordUpdate","RadioButtonContainer","RadioButtonIconContainer","RadioButtonIconStyled","RadioButtonIcon","RadioButtonBallIconStyled","RadioButtonBallIcon","RadioButtonLabel","onCheck","data-value","VisibilityChoicesContainer","settingKey","handleValueChange","visibilityChoice","RadioButton","useSettings","category","setCategory","accountSettingsElements","item","securitySettingsElements","privacySettingsElements","usernameEditorAnimation","useAnimation","nameEditorAnimation","bioEditorAnimation","passwordEditorAnimation","privacyEditorAnimation","ProfilePhotoSettings","UsernameEditor","NameEditor","BioEditor","PasswordEditor","PrivacyEditor","MenuButtonStyled","Dash","navigate","useNavigate","isSidebarVisible","setIsSidebarVisible","showSidebar","hideSidebar","toggleSidebar","isSettingsVisible","setIsSettingsVisible","openSettings","closeSettings","settingsAnimation","openSettingsPage","SettingsIcon","LogoutIcon","MenuButton","Settings","InputGroup","InputLabel","InputField","InputError","onChangeListener","onEnter","shakeError","EmailInput","PasswordInput","FormTitle","LogInForm","emailError","passwordError","shakeErrors","doLogin","checkEmail","domain","lastIndexOf","domainId","substring","domainExt","form","LogInButton","onClickHandler","ButtonPrimary","onClickHandlerImpl","NameInput","ConfirmPasswordInput","SignUpForm","nameError","onSubmitHandler","SubmitButton","Logo","LogoPartOne","LogoPartTwo","Header","CenteredPage","Routes","Route","path","mainFgColor","mainBgColor","titleFgColor","descFgColor","contentBackgroundColor","contentBorderColor","sent","received","primaryButton","sliderProgress","contextMenu","contextMenuItem","useResponsive","setTheme","toggleTheme","themeObject","DarkTheme","LightTheme","useRouteTracker","currentRoutePath","previousRoutePath","InfoStyled","InfoItem","InfoItemTitle","InfoItemDesc","setProfilePhotos","UnblockUserIcon","BlockUserIcon","RemoveContactIcon","AddContactIcon","UserProfilePhoto","UserInfo","AppContainer","PageContainer","app","useApp","useMessageRequestSystem","useAuth","useContactsFetcher","useBlockedUsersFetcher","ThemeProvider","SideBar","Home","Chat","Profile","Guest","chatsSlice","chatsFetched","store","configureStore","accountReducer","profilePhotosReducer","messagesReducer","chatsReducer","usersReducer","contactsReducer","blockedUsersReducer","root","createRoot","getElementById","render","StrictMode","Provider","BrowserRouter","App","readyState","self"],"mappings":"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"}